import{S as ne,i as se,s as le,e as w,c as N,a as y,d as h,b as c,I as q,g as C,t as V,k as P,h as U,m as R,J as v,K as x,L as Ue,M as fe,l as re,q as b,n as Y,o as M,p as J,N as W,O as ee,P as te,Q as Ee,R as ae,E,f as de,T as Fe,z as Lt,U as kt,C as At,w as j,x as z,y as G,B as Q,v as Bt,V as Pt,W as Ae,G as Rt,j as bt,X as It,Y as St,Z as Ot,_ as Tt,$ as Dt,a0 as qe,a1 as je}from"../chunks/index-caf3a8f3.js";import{g as Ht,a as Vt,c as ce}from"../chunks/themeColors-35fcc233.js";import{m as Ut,a as ze,M as Ft}from"../chunks/Map-0d680b71.js";import{m as ve,a as qt,b as jt,c as Ge}from"../chunks/maplibre-gl-98583deb.js";import{r as Be,e as Pe,g as Le}from"../chunks/route-9b4eaf54.js";import{e as Qe,r as we}from"../chunks/routes-10413546.js";import{f as ke,e as Re,d as ge,a as zt}from"../chunks/index-9c7c5283.js";import{m as Gt}from"../chunks/scroll-c1ae908f.js";import{b as $t}from"../chunks/paths-396f020f.js";import{i as Qt}from"../chunks/intersect-eda3c074.js";import{l as ye,L as yt,h as Et}from"../chunks/logos-1e83a7b1.js";import{g as We}from"../chunks/generateSvgPaths-8c5d72ca.js";import{L as Wt}from"../chunks/Loading-14e6c528.js";import{c as ue}from"../chunks/singletons-d1fb5791.js";import{g as Ye,M as wt}from"../chunks/getData-ad2745ff.js";import"../chunks/index-0df86b8c.js";import"../chunks/Map.svelte_svelte_type_style_lang-b98937c8.js";import"../chunks/_commonjsHelpers-7d66b65f.js";function Je(s,e,l){const t=s.slice();return t[3]=e[l],t[5]=l,t}function Ke(s){let e,l,t,r=Qe,a=[];for(let n=0;n<r.length;n+=1)a[n]=Xe(Je(s,r,n));return{c(){e=w("nav");for(let n=0;n<a.length;n+=1)a[n].c();this.h()},l(n){e=N(n,"NAV",{class:!0});var i=y(e);for(let o=0;o<a.length;o+=1)a[o].l(i);i.forEach(h),this.h()},h(){c(e,"class","cpeum-17tbchp"),q(e,"min",s[1].full)},m(n,i){C(n,e,i);for(let o=0;o<a.length;o+=1)a[o].m(e,null);t=!0},p(n,i){if(i&4){r=Qe;let o;for(o=0;o<r.length;o+=1){const g=Je(n,r,o);a[o]?a[o].p(g,i):(a[o]=Xe(g),a[o].c(),a[o].m(e,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=r.length}i&2&&q(e,"min",n[1].full)},i(n){t||(x(()=>{l||(l=Ue(e,ke,{y:-25},!0)),l.run(1)}),t=!0)},o(n){l||(l=Ue(e,ke,{y:-25},!1)),l.run(0),t=!1},d(n){n&&h(e),fe(a,n),n&&l&&l.end()}}}function Xe(s){let e,l,t,r=s[5]+1+"",a,n,i,o,g=s[3].title+"",m,u,f,p;return{c(){e=w("a"),l=w("span"),t=V("0"),a=V(r),n=V("."),i=V("\xA0"),o=w("span"),m=V(g),u=P(),this.h()},l(k){e=N(k,"A",{href:!0,"sveltekit:prefetch":!0,style:!0,class:!0});var $=y(e);l=N($,"SPAN",{class:!0});var A=y(l);t=U(A,"0"),a=U(A,r),n=U(A,"."),A.forEach(h),i=U($,"\xA0"),o=N($,"SPAN",{class:!0});var L=y(o);m=U(L,g),L.forEach(h),u=R($),$.forEach(h),this.h()},h(){c(l,"class","number cpeum-17tbchp"),c(o,"class","title cpeum-17tbchp"),c(e,"href",f=s[3].path),c(e,"sveltekit:prefetch",""),c(e,"style",p=Ht(s[3].key)),c(e,"class","cpeum-17tbchp"),q(e,"current",s[2]===s[3])},m(k,$){C(k,e,$),v(e,l),v(l,t),v(l,a),v(l,n),v(e,i),v(e,o),v(o,m),v(e,u)},p(k,$){$&4&&q(e,"current",k[2]===k[3])},d(k){k&&h(e)}}}function Yt(s){var r;let e,l,t=((r=s[0])==null?void 0:r.exercices)&&Ke(s);return{c(){t&&t.c(),e=re()},l(a){t&&t.l(a),e=re()},m(a,n){t&&t.m(a,n),C(a,e,n),l=!0},p(a,[n]){var i;(i=a[0])!=null&&i.exercices?t?(t.p(a,n),n&1&&b(t,1)):(t=Ke(a),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(Y(),M(t,1,1,()=>{t=null}),J())},i(a){l||(b(t),l=!0)},o(a){M(t),l=!1},d(a){t&&t.d(a),a&&h(e)}}}function Jt(s,e,l){let t,r,a;return W(s,Be,n=>l(0,t=n)),W(s,ve,n=>l(1,r=n)),W(s,Pe,n=>l(2,a=n)),[t,r,a]}class Kt extends ne{constructor(e){super(),se(this,e,Jt,Yt,le,{})}}function Xt(s){let e,l,t,r;return{c(){e=ee("line"),t=ee("line"),this.h()},l(a){e=te(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0,"vector-effect":!0}),y(e).forEach(h),t=te(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0,"vector-effect":!0}),y(t).forEach(h),this.h()},h(){c(e,"x1","30"),c(e,"y1","30"),c(e,"x2","70"),c(e,"y2","70"),c(e,"vector-effect","non-scaling-stroke"),c(t,"x1","30"),c(t,"y1","70"),c(t,"x2","70"),c(t,"y2","30"),c(t,"vector-effect","non-scaling-stroke")},m(a,n){C(a,e,n),C(a,t,n)},i(a){l||x(()=>{l=ae(e,ge,{}),l.start()}),r||x(()=>{r=ae(t,ge,{delay:150}),r.start()})},o:E,d(a){a&&h(e),a&&h(t)}}}function Zt(s){let e,l,t,r;return{c(){e=ee("path"),t=ee("circle"),this.h()},l(a){e=te(a,"path",{d:!0,"vector-effect":!0}),y(e).forEach(h),t=te(a,"circle",{cx:!0,cy:!0,r:!0,"vector-effect":!0}),y(t).forEach(h),this.h()},h(){c(e,"d",`M46,88.3L25.8,50.5c-5.7-10.7-3.8-23.9,4.8-32.4l0,0c10.7-10.7,28.2-10.7,38.9,0l0,0
			c8.6,8.6,10.5,21.7,4.8,32.4L54.1,88.3C52.4,91.5,47.7,91.5,46,88.3z`),c(e,"vector-effect","non-scaling-stroke"),c(t,"cx","50.5"),c(t,"cy","37.4"),c(t,"r","11.1"),c(t,"vector-effect","non-scaling-stroke")},m(a,n){C(a,e,n),C(a,t,n)},i(a){l||x(()=>{l=ae(e,ge,{}),l.start()}),r||x(()=>{r=ae(t,ge,{delay:150}),r.start()})},o:E,d(a){a&&h(e),a&&h(t)}}}function xt(s){let e,l,t,r,a,n,i;function o(u,f){return u[0].full?Xt:Zt}let g=o(s),m=g(s);return{c(){e=w("label"),l=w("input"),r=P(),a=ee("svg"),m.c(),this.h()},l(u){e=N(u,"LABEL",{id:!0,for:!0,class:!0});var f=y(e);l=N(f,"INPUT",{id:!0,type:!0,class:!0}),r=R(f),a=te(f,"svg",{version:!0,viewBox:!0,"shape-rendering":!0,class:!0});var p=y(a);m.l(p),p.forEach(h),f.forEach(h),this.h()},h(){c(l,"id","map-toggle-input"),c(l,"type","checkbox"),c(l,"class","cpeum-1sn1vss"),c(a,"version","1.1"),c(a,"viewBox","0 0 100 100"),c(a,"shape-rendering","geometricPrecision"),c(a,"class","cpeum-1sn1vss"),c(e,"id","map-toggle"),c(e,"for","map-toggle-input"),c(e,"class","cpeum-1sn1vss"),q(e,"active",s[0].full)},m(u,f){C(u,e,f),v(e,l),l.checked=s[0].full,v(e,r),v(e,a),m.m(a,null),n||(i=Ee(l,"change",s[1]),n=!0)},p(u,[f]){s=u,f&1&&(l.checked=s[0].full),g!==(g=o(s))&&(m.d(1),m=g(s),m&&(m.c(),b(m,1),m.m(a,null))),f&1&&q(e,"active",s[0].full)},i(u){t||x(()=>{t=ae(l,ke,{x:-40,easing:Re,duration:500,delay:1500}),t.start()}),b(m)},o:E,d(u){u&&h(e),m.d(),n=!1,i()}}}function el(s,e,l){let t;W(s,ve,a=>l(0,t=a));function r(){t.full=this.checked,ve.set(t)}return[t,r]}class tl extends ne{constructor(e){super(),se(this,e,el,xt,le,{})}}function Ze(s,e,l){const t=s.slice();return t[4]=e[l],t[6]=l,t}function xe(s,e,l){const t=s.slice();return t[7]=e[l],t[6]=l,t}function et(s){let e,l,t=rt(),r=[];for(let n=0;n<t.length;n+=1)r[n]=tt(xe(s,t,n));const a=n=>M(r[n],1,1,()=>{r[n]=null});return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=re()},l(n){for(let i=0;i<r.length;i+=1)r[i].l(n);e=re()},m(n,i){for(let o=0;o<r.length;o+=1)r[o].m(n,i);C(n,e,i),l=!0},p(n,i){if(i&0){t=rt();let o;for(o=0;o<t.length;o+=1){const g=xe(n,t,o);r[o]?(r[o].p(g,i),b(r[o],1)):(r[o]=tt(g),r[o].c(),b(r[o],1),r[o].m(e.parentNode,e))}for(Y(),o=t.length;o<r.length;o+=1)a(o);J()}},i(n){if(!l){for(let i=0;i<t.length;i+=1)b(r[i]);l=!0}},o(n){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)M(r[i]);l=!1},d(n){fe(r,n),n&&h(e)}}}function tt(s){let e,l,t,r,a=[s[7],{"vector-effect":"non-scaling-stroke"}],n={};for(let i=0;i<a.length;i+=1)n=At(n,a[i]);return{c(){e=ee("line"),this.h()},l(i){e=te(i,"line",{"vector-effect":!0}),y(e).forEach(h),this.h()},h(){Fe(e,n),q(e,"cpeum-1bp8poh",!0)},m(i,o){C(i,e,o),r=!0},p(i,o){Fe(e,n=Lt(a,[i[7],{"vector-effect":"non-scaling-stroke"}])),q(e,"cpeum-1bp8poh",!0)},i(i){r||(x(()=>{t&&t.end(1),l=ae(e,ge,{speed:.25,delay:s[6]*20}),l.start()}),r=!0)},o(i){l&&l.invalidate(),t=kt(e,ge,{speed:.5,delay:s[6]*20}),r=!1},d(i){i&&h(e),i&&t&&t.end()}}}function lt(s){var A;let e,l,t,r,a=s[4].title+"",n,i,o,g=s[4].title+"",m,u,f,p=`${s[6]*60}ms`,k,$=s[4].title==((A=s[3])==null?void 0:A.title)&&et(s);return{c(){e=w("a"),l=ee("svg"),$&&$.c(),t=P(),r=w("span"),n=V(a),i=P(),o=w("span"),m=V(g),u=P(),this.h()},l(L){e=N(L,"A",{href:!0,"sveltekit:prefetch":!0,class:!0});var I=y(e);l=te(I,"svg",{class:!0});var K=y(l);$&&$.l(K),K.forEach(h),t=R(I),r=N(I,"SPAN",{class:!0});var X=y(r);n=U(X,a),X.forEach(h),i=R(I),o=N(I,"SPAN",{class:!0});var Z=y(o);m=U(Z,g),Z.forEach(h),u=R(I),I.forEach(h),this.h()},h(){var L;c(l,"class","cpeum-1bp8poh"),c(r,"class","text cpeum-1bp8poh"),c(o,"class","hover-text cpeum-1bp8poh"),c(e,"href",f=s[4].exercices?s[2].path:s[4].path),c(e,"sveltekit:prefetch",""),c(e,"class","cpeum-1bp8poh"),q(e,"current",s[4].title==((L=s[3])==null?void 0:L.title)),de(e,"background-color",s[0].y>Ne+200?"var(--light1)":"",!1),de(e,"--delay",p,!1),de(e,"--activebg",Nt(),!1)},m(L,I){C(L,e,I),v(e,l),$&&$.m(l,null),v(e,t),v(e,r),v(r,n),v(e,i),v(e,o),v(o,m),v(e,u),k=!0},p(L,I){var K,X;L[4].title==((K=L[3])==null?void 0:K.title)?$?($.p(L,I),I&8&&b($,1)):($=et(L),$.c(),b($,1),$.m(l,null)):$&&(Y(),M($,1,1,()=>{$=null}),J()),(!k||I&4&&f!==(f=L[4].exercices?L[2].path:L[4].path))&&c(e,"href",f),I&8&&q(e,"current",L[4].title==((X=L[3])==null?void 0:X.title)),I&1&&de(e,"background-color",L[0].y>Ne+200?"var(--light1)":"",!1)},i(L){k||(b($),k=!0)},o(L){M($),k=!1},d(L){L&&h(e),$&&$.d()}}}function ll(s){let e,l,t=we,r=[];for(let n=0;n<t.length;n+=1)r[n]=lt(Ze(s,t,n));const a=n=>M(r[n],1,1,()=>{r[n]=null});return{c(){e=w("nav");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){e=N(n,"NAV",{class:!0});var i=y(e);for(let o=0;o<r.length;o+=1)r[o].l(i);i.forEach(h),this.h()},h(){c(e,"class","cpeum-1bp8poh"),q(e,"min",s[0].direction=="down"&&s[0].y>Ne||s[1].full)},m(n,i){C(n,e,i);for(let o=0;o<r.length;o+=1)r[o].m(e,null);l=!0},p(n,[i]){if(i&13){t=we;let o;for(o=0;o<t.length;o+=1){const g=Ze(n,t,o);r[o]?(r[o].p(g,i),b(r[o],1)):(r[o]=lt(g),r[o].c(),b(r[o],1),r[o].m(e,null))}for(Y(),o=t.length;o<r.length;o+=1)a(o);J()}i&3&&q(e,"min",n[0].direction=="down"&&n[0].y>Ne||n[1].full)},i(n){if(!l){for(let i=0;i<t.length;i+=1)b(r[i]);l=!0}},o(n){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)M(r[i]);l=!1},d(n){n&&h(e),fe(r,n)}}}const Ne=120;function Nt(){return`hsl(${20+Math.random()*180}, 60%, 70%)`}function rt(){const s=Math.round(8+Math.random()*4),e=0,l=0;return[...Array(s)].map(t=>({x1:l+Math.random()*(100-2*l)+"%",y1:e+Math.random()*(100-2*e)+"%",x2:l+Math.random()*(100-2*l)+"%",y2:e+Math.random()*(100-2*e)+"%",stroke:Nt()}))}function rl(s,e,l){let t,r,a,n;return W(s,Gt,i=>l(0,t=i)),W(s,ve,i=>l(1,r=i)),W(s,Pe,i=>l(2,a=i)),W(s,Be,i=>l(3,n=i)),[t,r,a,n]}class al extends ne{constructor(e){super(),se(this,e,rl,ll,le,{})}}function at(s){let e,l,t,r,a,n,i,o,g,m;return r=new al({}),n=new Kt({}),o=new tl({}),{c(){e=w("header"),l=w("div"),t=w("section"),j(r.$$.fragment),a=P(),j(n.$$.fragment),i=P(),j(o.$$.fragment),this.h()},l(u){e=N(u,"HEADER",{class:!0});var f=y(e);l=N(f,"DIV",{class:!0});var p=y(l);t=N(p,"SECTION",{class:!0});var k=y(t);z(r.$$.fragment,k),a=R(k),z(n.$$.fragment,k),k.forEach(h),i=R(p),z(o.$$.fragment,p),p.forEach(h),f.forEach(h),this.h()},h(){c(t,"class","cpeum-leg40a"),c(l,"class","cpeum-leg40a"),c(e,"class","cpeum-leg40a")},m(u,f){C(u,e,f),v(e,l),v(l,t),G(r,t,null),v(t,a),G(n,t,null),v(l,i),G(o,l,null),m=!0},p(u,f){},i(u){m||(b(r.$$.fragment,u),b(n.$$.fragment,u),b(o.$$.fragment,u),g||x(()=>{g=ae(e,ke,{opacity:0,y:-20,duration:800,easing:Re,delay:1e3}),g.start()}),m=!0)},o(u){M(r.$$.fragment,u),M(n.$$.fragment,u),M(o.$$.fragment,u),m=!1},d(u){u&&h(e),Q(r),Q(n),Q(o)}}}function nl(s){let e,l,t=s[0]&&at();return{c(){t&&t.c(),e=re()},l(r){t&&t.l(r),e=re()},m(r,a){t&&t.m(r,a),C(r,e,a),l=!0},p(r,[a]){r[0]?t?a&1&&b(t,1):(t=at(),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(Y(),M(t,1,1,()=>{t=null}),J())},i(r){l||(b(t),l=!0)},o(r){M(t),l=!1},d(r){t&&t.d(r),r&&h(e)}}}function sl(s,e,l){let t=!1;return Bt(()=>{l(0,t=!0)}),[t]}class ol extends ne{constructor(e){super(),se(this,e,sl,nl,le,{})}}function nt(s,e,l){const t=s.slice();return t[6]=e[l],t}function st(s,e,l){const t=s.slice();return t[9]=e[l],t}function ot(s,e,l){const t=s.slice();return t[12]=e[l],t}function it(s,e,l){const t=s.slice();return t[15]=e[l],t}function ct(s){let e,l,t,r;return{c(){e=ee("path"),this.h()},l(a){e=te(a,"path",{"vector-effect":!0,d:!0,fill:!0,"stroke-width":!0,"stroke-linejoin":!0,"stroke-linecap":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0}),y(e).forEach(h),this.h()},h(){c(e,"vector-effect","non-scaling-stroke"),c(e,"d",l=s[15].d),c(e,"fill",t=s[15].fill),c(e,"stroke-width","0"),c(e,"stroke-linejoin","round"),c(e,"stroke-linecap","round"),c(e,"stroke-dasharray","54% 20% 64% 90% 30% 130%"),c(e,"stroke-dashoffset",r=Math.random()*300+"%")},m(a,n){C(a,e,n)},p:E,d(a){a&&h(e)}}}function ft(s){let e,l,t,r,a,n;return{c(){e=w("a"),l=w("img"),this.h()},l(i){e=N(i,"A",{href:!0,rel:!0,target:!0,title:!0,class:!0});var o=y(e);l=N(o,"IMG",{src:!0,alt:!0}),o.forEach(h),this.h()},h(){Pt(l.src,t=$t+"/media/logos/"+s[12].filename)||c(l,"src",t),c(l,"alt",r="Logo: "+s[12].alt),c(e,"href",a=s[12].href),c(e,"rel","external"),c(e,"target","_blank"),c(e,"title",n=s[12].alt),c(e,"class","cpeum-v0lnac")},m(i,o){C(i,e,o),v(e,l)},p:E,d(i){i&&h(e)}}}function il(s){let e=s[9].title+"",l;return{c(){l=V(e)},l(t){l=U(t,e)},m(t,r){C(t,l,r)},p:E,d(t){t&&h(l)}}}function ut(s){let e,l,t,r;return l=new yt({props:{style:"font-weight: 400",href:s[9].href,rel:"external",color:Ie,$$slots:{default:[il]},$$scope:{ctx:s}}}),{c(){e=w("li"),j(l.$$.fragment),t=P(),this.h()},l(a){e=N(a,"LI",{class:!0});var n=y(e);z(l.$$.fragment,n),t=R(n),n.forEach(h),this.h()},h(){c(e,"class","cpeum-v0lnac")},m(a,n){C(a,e,n),G(l,e,null),v(e,t),r=!0},p(a,n){const i={};n&262144&&(i.$$scope={dirty:n,ctx:a}),l.$set(i)},i(a){r||(b(l.$$.fragment,a),r=!0)},o(a){M(l.$$.fragment,a),r=!1},d(a){a&&h(e),Q(l)}}}function cl(s){let e=s[6].title+"",l;return{c(){l=V(e)},l(t){l=U(t,e)},m(t,r){C(t,l,r)},p:E,d(t){t&&h(l)}}}function ht(s){let e,l,t,r;return l=new yt({props:{style:"font-weight: 400",href:s[6].path,color:Ie,$$slots:{default:[cl]},$$scope:{ctx:s}}}),{c(){e=w("li"),j(l.$$.fragment),t=P(),this.h()},l(a){e=N(a,"LI",{class:!0});var n=y(e);z(l.$$.fragment,n),t=R(n),n.forEach(h),this.h()},h(){c(e,"class","cpeum-v0lnac")},m(a,n){C(a,e,n),G(l,e,null),v(e,t),r=!0},p(a,n){const i={};n&262144&&(i.$$scope={dirty:n,ctx:a}),l.$set(i)},i(a){r||(b(l.$$.fragment,a),r=!0)},o(a){M(l.$$.fragment,a),r=!1},d(a){a&&h(e),Q(l)}}}function fl(s){let e,l,t,r,a,n,i,o,g,m,u,f,p,k,$,A,L,I,K,X,Z,Me,be,Ce,Se,he=s[2],T=[];for(let d=0;d<he.length;d+=1)T[d]=ct(it(s,he,d));let pe=[...ye.prime,...ye.second],D=[];for(let d=0;d<pe.length;d+=1)D[d]=ft(ot(s,pe,d));let oe=s[1],S=[];for(let d=0;d<oe.length;d+=1)S[d]=ut(st(s,oe,d));const Mt=d=>M(S[d],1,1,()=>{S[d]=null});let ie=we,O=[];for(let d=0;d<ie.length;d+=1)O[d]=ht(nt(s,ie,d));const Ct=d=>M(O[d],1,1,()=>{O[d]=null});return{c(){e=ee("svg");for(let d=0;d<T.length;d+=1)T[d].c();l=P(),t=w("footer"),r=w("div"),a=w("section");for(let d=0;d<D.length;d+=1)D[d].c();n=P(),i=w("hr"),o=P(),g=w("section"),m=w("ul");for(let d=0;d<S.length;d+=1)S[d].c();u=P(),f=w("ul");for(let d=0;d<O.length;d+=1)O[d].c();p=P(),k=w("div"),$=w("p"),A=V("\xA9"),L=P(),I=w("p"),K=V("Chaire en paysage urbain de l'Universit\xE9 de Montr\xE9al"),X=P(),Z=w("p"),Me=V("2022"),this.h()},l(d){e=te(d,"svg",{viewBox:!0,preserveAspectRatio:!0,class:!0});var B=y(e);for(let F=0;F<T.length;F+=1)T[F].l(B);B.forEach(h),l=R(d),t=N(d,"FOOTER",{class:!0});var _=y(t);r=N(_,"DIV",{id:!0,class:!0});var H=y(r);a=N(H,"SECTION",{id:!0,class:!0});var $e=y(a);for(let F=0;F<D.length;F+=1)D[F].l($e);n=R($e),i=N($e,"HR",{class:!0}),$e.forEach(h),o=R(H),g=N(H,"SECTION",{id:!0,class:!0});var _e=y(g);m=N(_e,"UL",{class:!0});var Oe=y(m);for(let F=0;F<S.length;F+=1)S[F].l(Oe);Oe.forEach(h),u=R(_e),f=N(_e,"UL",{class:!0});var Te=y(f);for(let F=0;F<O.length;F+=1)O[F].l(Te);Te.forEach(h),p=R(_e),k=N(_e,"DIV",{class:!0});var me=y(k);$=N(me,"P",{class:!0});var De=y($);A=U(De,"\xA9"),De.forEach(h),L=R(me),I=N(me,"P",{class:!0});var He=y(I);K=U(He,"Chaire en paysage urbain de l'Universit\xE9 de Montr\xE9al"),He.forEach(h),X=R(me),Z=N(me,"P",{class:!0});var Ve=y(Z);Me=U(Ve,"2022"),Ve.forEach(h),me.forEach(h),_e.forEach(h),H.forEach(h),_.forEach(h),this.h()},h(){c(e,"viewBox",s[2][0].viewBox),c(e,"preserveAspectRatio","xMidYMin slice"),c(e,"class","cpeum-v0lnac"),c(i,"class","cpeum-v0lnac"),c(a,"id","logos"),c(a,"class","cpeum-v0lnac"),c(m,"class","cpeum-v0lnac"),c(f,"class","cpeum-v0lnac"),c($,"class","cpeum-v0lnac"),c(I,"class","cpeum-v0lnac"),c(Z,"class","cpeum-v0lnac"),c(k,"class","cpeum-v0lnac"),c(g,"id","links"),c(g,"class","cpeum-v0lnac"),c(r,"id","content"),c(r,"class","cpeum-v0lnac"),q(r,"expand",s[0]),de(r,"color",Ie,!1),c(t,"class","cpeum-v0lnac")},m(d,B){C(d,e,B);for(let _=0;_<T.length;_+=1)T[_].m(e,null);C(d,l,B),C(d,t,B),v(t,r),v(r,a);for(let _=0;_<D.length;_+=1)D[_].m(a,null);v(a,n),v(a,i),v(r,o),v(r,g),v(g,m);for(let _=0;_<S.length;_+=1)S[_].m(m,null);v(g,u),v(g,f);for(let _=0;_<O.length;_+=1)O[_].m(f,null);v(g,p),v(g,k),v(k,$),v($,A),v(k,L),v(k,I),v(I,K),v(k,X),v(k,Z),v(Z,Me),be=!0,Ce||(Se=[Ae(Qt.call(null,t,{rootMargin:"0px 0px",threshold:.5})),Ee(t,"enter",s[3]),Ee(t,"leave",s[4])],Ce=!0)},p(d,[B]){if(B&4){he=d[2];let _;for(_=0;_<he.length;_+=1){const H=it(d,he,_);T[_]?T[_].p(H,B):(T[_]=ct(H),T[_].c(),T[_].m(e,null))}for(;_<T.length;_+=1)T[_].d(1);T.length=he.length}if(B&0){pe=[...ye.prime,...ye.second];let _;for(_=0;_<pe.length;_+=1){const H=ot(d,pe,_);D[_]?D[_].p(H,B):(D[_]=ft(H),D[_].c(),D[_].m(a,n))}for(;_<D.length;_+=1)D[_].d(1);D.length=pe.length}if(B&2){oe=d[1];let _;for(_=0;_<oe.length;_+=1){const H=st(d,oe,_);S[_]?(S[_].p(H,B),b(S[_],1)):(S[_]=ut(H),S[_].c(),b(S[_],1),S[_].m(m,null))}for(Y(),_=oe.length;_<S.length;_+=1)Mt(_);J()}if(B&0){ie=we;let _;for(_=0;_<ie.length;_+=1){const H=nt(d,ie,_);O[_]?(O[_].p(H,B),b(O[_],1)):(O[_]=ht(H),O[_].c(),b(O[_],1),O[_].m(f,null))}for(Y(),_=ie.length;_<O.length;_+=1)Ct(_);J()}B&1&&q(r,"expand",d[0])},i(d){if(!be){for(let B=0;B<oe.length;B+=1)b(S[B]);for(let B=0;B<ie.length;B+=1)b(O[B]);be=!0}},o(d){S=S.filter(Boolean);for(let B=0;B<S.length;B+=1)M(S[B]);O=O.filter(Boolean);for(let B=0;B<O.length;B+=1)M(O[B]);be=!1},d(d){d&&h(e),fe(T,d),d&&h(l),d&&h(t),fe(D,d),fe(S,d),fe(O,d),Ce=!1,Rt(Se)}}}const Ie="rgba(0, 0, 0, 0.4)";function ul(s,e,l){const t=[{title:"CPEUM",href:"https://paysage.umontreal.ca"},{title:"CUPUM",href:"https://unesco-paysage.umontreal.ca"},{title:"Ville de Saint-Constant",href:"https://saint-constant.ca"},{title:"MRC de Roussillon",href:"https://roussillon.ca"},{title:"Minist\xE8re de l\u2019\xC9conomie et de l\u2019Innovation du Qu\xE9bec",href:"https://www.economie.gouv.qc.ca/accueil/"}];let r=!1;const a={width:1e3,height:800},n=We(3,{direction:"up",viewBox:a,padding:600}).map(g=>({viewBox:`0 0 ${a.width} ${a.height}`,d:g,fill:Vt([3],["light"])}));return n.push(...We(1,{direction:"up",viewBox:a,padding:540}).map(g=>({viewBox:`0 0 ${a.width} ${a.height}`,d:g,fill:"var(--light2)"}))),[r,t,n,()=>l(0,r=!0),()=>l(0,r=!1)]}class hl extends ne{constructor(e){super(),se(this,e,ul,fl,le,{})}}ue.disable_scroll_handling;ue.goto;ue.invalidate;ue.prefetch;ue.prefetch_routes;const pl=ue.before_navigate,_l=ue.after_navigate;function pt(s){let e,l,t,r,a,n=s[0].previous().title+"",i,o,g,m,u;return{c(){e=w("a"),l=w("p"),t=V("\u2190 Revenir"),r=P(),a=w("p"),i=V(n),this.h()},l(f){e=N(f,"A",{href:!0,id:!0,class:!0});var p=y(e);l=N(p,"P",{class:!0});var k=y(l);t=U(k,"\u2190 Revenir"),k.forEach(h),r=R(p),a=N(p,"P",{class:!0});var $=y(a);i=U($,n),$.forEach(h),p.forEach(h),this.h()},h(){c(l,"class","label cpeum-srs09g"),c(a,"class","title cpeum-srs09g"),c(e,"href",o=s[0].previous().path),c(e,"id","prev"),c(e,"class","cpeum-srs09g")},m(f,p){C(f,e,p),v(e,l),v(l,t),v(e,r),v(e,a),v(a,i),m||(u=Ae(g=Et.call(null,e,{size:350})),m=!0)},p(f,p){p&1&&n!==(n=f[0].previous().title+"")&&bt(i,n),p&1&&o!==(o=f[0].previous().path)&&c(e,"href",o)},d(f){f&&h(e),m=!1,u()}}}function _t(s){let e,l,t,r,a,n=s[0].next().title+"",i,o,g,m,u;return{c(){e=w("a"),l=w("p"),t=V("Poursuivre \u2192"),r=P(),a=w("p"),i=V(n),this.h()},l(f){e=N(f,"A",{href:!0,id:!0,class:!0});var p=y(e);l=N(p,"P",{class:!0});var k=y(l);t=U(k,"Poursuivre \u2192"),k.forEach(h),r=R(p),a=N(p,"P",{class:!0});var $=y(a);i=U($,n),$.forEach(h),p.forEach(h),this.h()},h(){c(l,"class","label cpeum-srs09g"),c(a,"class","title cpeum-srs09g"),c(e,"href",o=s[0].next().path),c(e,"id","next"),c(e,"class","cpeum-srs09g")},m(f,p){C(f,e,p),v(e,l),v(l,t),v(e,r),v(e,a),v(a,i),m||(u=Ae(g=Et.call(null,e,{size:350})),m=!0)},p(f,p){p&1&&n!==(n=f[0].next().title+"")&&bt(i,n),p&1&&o!==(o=f[0].next().path)&&c(e,"href",o)},d(f){f&&h(e),m=!1,u()}}}function ml(s){var a,n,i;let e,l,t=(((a=s[0])==null?void 0:a.previous)||((n=s[0])==null?void 0:n.previous))&&pt(s),r=((i=s[0])==null?void 0:i.next)&&_t(s);return{c(){e=w("nav"),t&&t.c(),l=P(),r&&r.c(),this.h()},l(o){e=N(o,"NAV",{class:!0});var g=y(e);t&&t.l(g),l=R(g),r&&r.l(g),g.forEach(h),this.h()},h(){c(e,"class","cpeum-srs09g")},m(o,g){C(o,e,g),t&&t.m(e,null),v(e,l),r&&r.m(e,null)},p(o,[g]){var m,u,f;((m=o[0])==null?void 0:m.previous)||((u=o[0])==null?void 0:u.previous)?t?t.p(o,g):(t=pt(o),t.c(),t.m(e,l)):t&&(t.d(1),t=null),(f=o[0])!=null&&f.next?r?r.p(o,g):(r=_t(o),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:E,o:E,d(o){o&&h(e),t&&t.d(),r&&r.d()}}}function gl(s,e,l){let t,r;W(s,Be,n=>l(1,t=n)),W(s,Pe,n=>l(2,r=n));let a;return s.$$.update=()=>{s.$$.dirty&6&&l(0,a=t!=null&&t.exercices?r:t||null)},[a,t,r]}class dl extends ne{constructor(e){super(),se(this,e,gl,ml,le,{})}}function vl(s,e,l){let t;W(s,Ut,o=>l(4,t=o));let{id:r}=e,{url:a}=e,{coordinates:n}=e,{opacity:i=1}=e;return It(()=>{}),s.$$set=o=>{"id"in o&&l(0,r=o.id),"url"in o&&l(1,a=o.url),"coordinates"in o&&l(2,n=o.coordinates),"opacity"in o&&l(3,i=o.opacity)},s.$$.update=()=>{s.$$.dirty&31&&t&&(console.log("adding iamge overlay"),ze.addSource(r,{type:"image",url:a,coordinates:n}),ze.addLayer({id:r+"layer",source:r,type:"raster",paint:{"raster-opacity":i}}))},[r,a,n,i,t]}class kl extends ne{constructor(e){super(),se(this,e,vl,null,le,{id:0,url:1,coordinates:2,opacity:3})}}function mt(s){let e,l,t,r,a,n,i,o;const g=s[7].default,m=Dt(g,s,s[12],null);return{c(){e=w("article"),m&&m.c(),l=P(),t=w("div"),this.h()},l(u){e=N(u,"ARTICLE",{class:!0});var f=y(e);m&&m.l(f),l=R(f),t=N(f,"DIV",{class:!0}),y(t).forEach(h),f.forEach(h),this.h()},h(){c(t,"class","grain cpeum-1oka6rq"),c(e,"class","cpeum-1oka6rq")},m(u,f){C(u,e,f),m&&m.m(e,null),v(e,l),v(e,t),n=!0,i||(o=Ee(e,"outroend",s[6]),i=!0)},p(u,f){s=u,m&&m.p&&(!n||f&4096)&&St(m,g,s,s[12],n?Tt(g,s[12],f,null):Ot(s[12]),null)},i(u){n||(b(m,u),x(()=>{a&&a.end(1),r=ae(e,ke,{y:40,duration:1550,easing:Re}),r.start()}),n=!0)},o(u){M(m,u),r&&r.invalidate(),a=kt(e,zt,{duration:350}),n=!1},d(u){u&&h(e),m&&m.d(u),u&&a&&a.end(),i=!1,o()}}}function gt(s){let e,l,t=s[2]&&!s[0]&&mt(s);return{c(){t&&t.c(),e=re()},l(r){t&&t.l(r),e=re()},m(r,a){t&&t.m(r,a),C(r,e,a),l=!0},p(r,a){r[2]&&!r[0]?t?(t.p(r,a),a&5&&b(t,1)):(t=mt(r),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(Y(),M(t,1,1,()=>{t=null}),J())},i(r){l||(b(t),l=!0)},o(r){M(t),l=!1},d(r){t&&t.d(r),r&&h(e)}}}function dt(s){let e,l,t,r;return e=new dl({}),t=new hl({}),{c(){j(e.$$.fragment),l=P(),j(t.$$.fragment)},l(a){z(e.$$.fragment,a),l=R(a),z(t.$$.fragment,a)},m(a,n){G(e,a,n),C(a,l,n),G(t,a,n),r=!0},i(a){r||(b(e.$$.fragment,a),b(t.$$.fragment,a),r=!0)},o(a){M(e.$$.fragment,a),M(t.$$.fragment,a),r=!1},d(a){Q(e,a),a&&h(l),Q(t,a)}}}function vt(s){let e,l;return e=new Wt({}),{c(){j(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,r){G(e,t,r),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function bl(s){return{c:E,l:E,m:E,p:E,i:E,o:E,d:E}}function $l(s){let e,l;return e=new wt({props:{id:"municipal",data:s[13],fillColor:"white",fillOpacity:0,strokeColor:ce.accent3,strokeWidth:4,strokeOpacity:1,strokeDashArray:[0,1.5]}}),{c(){j(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,r){G(e,t,r),l=!0},p:E,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function yl(s){return{c:E,l:E,m:E,p:E,i:E,o:E,d:E}}function El(s){return{c:E,l:E,m:E,p:E,i:E,o:E,d:E}}function wl(s){let e,l;return e=new wt({props:{id:"propositions",data:s[13],fillColor:["get",["concat",["get","exercice"],"1"],["literal",ce]],fillColorHover:["get",["concat",["get","exercice"],"2"],["literal",ce]],fillColorHighlight:["get",["concat",["get","exercice"],"2"],["literal",ce]],fillOpacity:.5,fillOpacityHover:.8,fillOpacityHighlight:.65,strokeColor:["get",["concat",["get","exercice"],"2"],["literal",ce]],strokeColorHover:["get",["concat",["get","exercice"],"3"],["literal",ce]],strokeColorHighlight:["get",["concat",["get","exercice"],"3"],["literal",ce]],strokeOpacity:.5,strokeOpacityHover:.8,strokeOpacityHighlight:.65}}),e.$on("hover",s[8]),e.$on("leave",s[9]),{c(){j(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,r){G(e,t,r),l=!0},p:E,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function Nl(s){return{c:E,l:E,m:E,p:E,i:E,o:E,d:E}}function Ml(s){let e,l,t,r,a={ctx:s,current:null,token:null,hasCatch:!1,pending:yl,then:$l,catch:bl,value:13,blocks:[,,,]};qe(s[3],a);let n={ctx:s,current:null,token:null,hasCatch:!1,pending:Nl,then:wl,catch:El,value:13,blocks:[,,,]};return qe(s[4],n),t=new kl({props:{id:"noyau",url:$t+"/media/agroparc/plan_noyau_villageois-01.jpg",coordinates:[[-73.57312202453613,45.365895919964046],[-73.55619192123413,45.36184042166606],[-73.56029033660889,45.35407536661815],[-73.57713460922241,45.357965566229666]]}}),{c(){a.block.c(),e=P(),n.block.c(),l=P(),j(t.$$.fragment)},l(i){a.block.l(i),e=R(i),n.block.l(i),l=R(i),z(t.$$.fragment,i)},m(i,o){a.block.m(i,a.anchor=o),a.mount=()=>e.parentNode,a.anchor=e,C(i,e,o),n.block.m(i,n.anchor=o),n.mount=()=>l.parentNode,n.anchor=l,C(i,l,o),G(t,i,o),r=!0},p(i,o){s=i,je(a,s,o),je(n,s,o)},i(i){r||(b(a.block),b(n.block),b(t.$$.fragment,i),r=!0)},o(i){for(let o=0;o<3;o+=1){const g=a.blocks[o];M(g)}for(let o=0;o<3;o+=1){const g=n.blocks[o];M(g)}M(t.$$.fragment,i),r=!1},d(i){a.block.d(i),a.token=null,a=null,i&&h(e),n.block.d(i),n.token=null,n=null,i&&h(l),Q(t,i)}}}function Cl(s){let e,l,t,r=s[1],a,n,i,o,g;e=new ol({});let m=gt(s),u=s[2]&&dt(),f=(!s[2]||s[0])&&vt();return o=new Ft({props:{$$slots:{default:[Ml]},$$scope:{ctx:s}}}),o.$on("load",s[10]),o.$on("error",s[11]),{c(){j(e.$$.fragment),l=P(),t=w("main"),m.c(),a=P(),u&&u.c(),n=P(),f&&f.c(),i=P(),j(o.$$.fragment),this.h()},l(p){z(e.$$.fragment,p),l=R(p),t=N(p,"MAIN",{class:!0});var k=y(t);m.l(k),a=R(k),u&&u.l(k),k.forEach(h),n=R(p),f&&f.l(p),i=R(p),z(o.$$.fragment,p),this.h()},h(){c(t,"class","cpeum-1oka6rq")},m(p,k){G(e,p,k),C(p,l,k),C(p,t,k),m.m(t,null),v(t,a),u&&u.m(t,null),C(p,n,k),f&&f.m(p,k),C(p,i,k),G(o,p,k),g=!0},p(p,[k]){k&2&&le(r,r=p[1])?(Y(),M(m,1,1,E),J(),m=gt(p),m.c(),b(m),m.m(t,a)):m.p(p,k),p[2]?u?k&4&&b(u,1):(u=dt(),u.c(),b(u,1),u.m(t,null)):u&&(Y(),M(u,1,1,()=>{u=null}),J()),!p[2]||p[0]?f?k&5&&b(f,1):(f=vt(),f.c(),b(f,1),f.m(i.parentNode,i)):f&&(Y(),M(f,1,1,()=>{f=null}),J());const $={};k&4096&&($.$$scope={dirty:k,ctx:p}),o.$set($)},i(p){g||(b(e.$$.fragment,p),b(m),b(u),b(f),b(o.$$.fragment,p),g=!0)},o(p){M(e.$$.fragment,p),M(m),M(u),M(f),M(o.$$.fragment,p),g=!1},d(p){Q(e,p),p&&h(l),p&&h(t),m.d(p),u&&u.d(),p&&h(n),f&&f.d(p),p&&h(i),Q(o,p)}}}function Wl({url:s}){const e=Le(s.pathname);return{props:{topRoute:"key"+e[0]}}}function Ll(s,e,l){let{$$slots:t={},$$scope:r}=e,{topRoute:a=null}=e,{topNavigating:n=!0}=e,i=!1;const o=Ye("/data/geo/saint-constant.geojson"),g=Ye("/data/geo/propositions.geojson");function m(A){Ge.set({text:`${A.features[0].properties.type} ${A.features[0].properties.key}: ${A.features[0].properties.title}`,coords:A.features[0].geometry.type.toLowerCase()==="point"?A.features[0].geometry.coordinates:A.lngLat})}pl(({from:A,to:L})=>{var I;ve.setClass(""),qt.set(null),jt.set(null),Le(A==null?void 0:A.href)[0]!==((I=Le(L==null?void 0:L.href))==null?void 0:I[0])&&l(0,n=!0)}),_l(({from:A,to:L})=>{n&&l(0,n=!1)});function u(){n&&l(0,n=!1),document.body.style.scrollBehavior="unset",document.body.scrollTop=0,document.body.style.scrollBehavior="smooth"}const f=A=>m(A.detail),p=()=>Ge.set(null),k=()=>l(2,i=!0),$=()=>l(2,i=!0);return s.$$set=A=>{"topRoute"in A&&l(1,a=A.topRoute),"topNavigating"in A&&l(0,n=A.topNavigating),"$$scope"in A&&l(12,r=A.$$scope)},[n,a,i,o,g,m,u,t,f,p,k,$,r]}class Yl extends ne{constructor(e){super(),se(this,e,Ll,Cl,le,{topRoute:1,topNavigating:0})}}export{Yl as default,Wl as load};

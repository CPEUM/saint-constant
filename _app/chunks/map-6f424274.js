import{c as r}from"./themeColors-132ba047.js";import{b as a}from"./paths-396f020f.js";import{Z as s}from"./vendor-4610afbe.js";const u={agroparc:new s.LngLatBounds([-73.577405,45.354136],[-73.552339,45.369695]),promenades:new s.LngLatBounds([-73.616978,45.35106],[-73.545042,45.399776]),poles:new s.LngLatBounds([-73.615091,45.355221],[-73.548476,45.401041])};function p(e){e.addSource("city",{type:"geojson",data:a+"/data/geo/saint-constant.geojson"});const t="city";return e.addLayer({id:t,type:"line",source:"city",paint:{"line-color":r.accent3,"line-width":5,"line-opacity":1,"line-dasharray":[0,1.5]},layout:{"line-cap":"round","line-join":"round"}}),t}let o=null;function d(e){e.addSource("propositions",{type:"geojson",data:a+"/data/geo/propositions.geojson",generateId:!0});const t=["propositions-lines","propositions-points"];return e.addLayer({id:t[0],type:"line",source:"propositions",filter:["any",["==",["geometry-type"],"LineString"],["==",["geometry-type"],"MultiLineString"]],paint:{"line-width":["case",["boolean",["feature-state","hover"],!1],20,["boolean",["feature-state","highlight"],!1],15,10],"line-color":["get",["concat",["get","exercice"],["case",["boolean",["feature-state","hover"],!1],"3",["boolean",["feature-state","highlight"],!1],"3","2"]],["literal",r]],"line-opacity":["case",["boolean",["feature-state","hover"],!1],.9,["boolean",["feature-state","highlight"],!1],.75,.5]},layout:{"line-cap":"round","line-join":"round"}}),e.on("mousemove","propositions-lines",function(i){i.features.length>0&&(o!==null&&e.setFeatureState({source:"propositions",id:o},{hover:!1}),o=i.features[0].id,e.setFeatureState({source:"propositions",id:o},{hover:!0}))}),e.on("mouseleave","propositions-lines",function(){o!==null&&(e.setFeatureState({source:"propositions",id:o},{hover:!1}),o=null),o=null}),e.addLayer({id:t[1],type:"circle",filter:["any",["==",["geometry-type"],"Point"],["==",["geometry-type"],"MultiPoint"]],source:"propositions",paint:{"circle-radius":["interpolate",["exponential",2],["zoom"],10,["/",["get","radius"],58.554],20,["/",["get","radius"],.014]],"circle-color":["get",["concat",["get","exercice"],"2"],["literal",r]],"circle-opacity":["case",["boolean",["feature-state","hover"],!1],.9,["boolean",["feature-state","highlight"],!1],.75,.5],"circle-stroke-color":["get",["concat",["get","exercice"],"3"],["literal",r]],"circle-stroke-width":["case",["boolean",["feature-state","hover"],!1],10,["boolean",["feature-state","highlight"],!1],5,0],"circle-stroke-opacity":.8,"circle-pitch-alignment":"map","circle-pitch-scale":"map"}}),e.on("mousemove","propositions-points",function(i){i.features.length>0&&(o!==null&&e.setFeatureState({source:"propositions",id:o},{hover:!1}),o=i.features[0].id,e.setFeatureState({source:"propositions",id:o},{hover:!0}))}),e.on("mouseleave","propositions-points",function(){o!==null&&(e.setFeatureState({source:"propositions",id:o},{hover:!1}),o=null)}),t}export{p as a,d as b,u as c};

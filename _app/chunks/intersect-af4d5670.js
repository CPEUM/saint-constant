const o=[],c={root:null,rootMargin:"-50% 0px -50%",threshold:0};function a(e,t=c){t={...c,...t};const n=u(t);return n.observe(e),{update(r){},destroy(){n.unobserve(e)}}}function u(e){const t=o.findIndex(r=>r.root==e.root&&r.rootMargin==e.rootMargin&&r.thresholds==e.threshold);if(t>-1)return o[t];const n=new IntersectionObserver(r=>{for(const s of r){const d=s.isIntersecting?"enter":"leave";s.target.dispatchEvent(new CustomEvent(d))}},e);return o.push(n),n}export{a as i};

var j=Object.defineProperty,B=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var O=(e,r,i)=>r in e?j(e,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[r]=i,M=(e,r)=>{for(var i in r||(r={}))H.call(r,i)&&O(e,i,r[i]);if(N)for(var i of N(r))L.call(r,i)&&O(e,i,r[i]);return e},D=(e,r)=>B(e,J(r));var F=(e,r)=>{var i={};for(var s in e)H.call(e,s)&&r.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&N)for(var s of N(e))r.indexOf(s)<0&&L.call(e,s)&&(i[s]=e[s]);return i};import{a as f,g as Q,s as W}from"./strings-54a69395.js";import{i as _}from"./intersect-2f4a341d.js";const a={INTRO:"text-introing",OUTRO:"text-outroing"};function w(e,{duration:r=450,delay:i=0,stagger:s=!0,staggerDelay:l=25,opacity:x=0,x:b=0,y:n=0,scale:h=1,rotateX:v=0,rotateY:c=0,rotateZ:T=0,transformOrigin:g="0% 90%",perspective:d=1e3,hideOnLeave:$=!1,mask:P=!1,maskPadding:S="0.1em",easing:X="cubic-bezier(0.7, 0, 0.2, 1)",granularity:Y="char",useIntersect:Z=!0,intersectOptions:q={rootMargin:"-200px 0px -200px"},visible:E=void 0,intro:tt=!0,outro:et=!0}={}){let o=e.getAttribute(f.HOST);(o==null?void 0:o.length)||(console.log("No host attribute found!"),o=btoa(Math.random().toString(16)).slice(1,9),e.setAttribute(f.HOST,o));const I=parseFloat(S+""),k=Q(S)||"px";let u=document.head.querySelector(`[${o}]`);u||(u=document.createElement("style"),u.setAttribute("type","text/css"),u.setAttribute(o,""),u.textContent=`
			[${f.HOST}=${o}] {
				perspective: ${d}px;
				perspective-origin: center;
			}
		`,document.head.appendChild(u));const z="";u.textContent=`
		${u.textContent}

		[${f.HOST}=${o}]${z} [${f.TARGET}] {
			
		}

		[${f.HOST}=${o}] [${f.MASK}] {
			
		}
	`;function G(t,C){E?U(t):m(t),t.style.transformOrigin=g,t.style.transitionDelay=i+(s?l*C:0)+"ms",t.style.transitionDuration=r+"ms",t.style.transitionTimingFunction=X,t.style.transitionProperty="opacity, transform, top, left"}function K(t,C){t.style.overflow="hidden",t.style.padding=I+k,t.style.margin=-1*I+k}function m(t){t.style.opacity=x+"",t.style.transform=`rotateX(${v}deg) rotateY(${c}deg) rotateZ(${T}deg) scale(${h})`,t.style.top=n+(isNaN(Number(n))?"":"px"),t.style.left=b+(isNaN(Number(b))?"":"px")}function U(t){t.style.opacity="1",t.style.transform="initial",t.style.top="0",t.style.left="0"}const{targets:p,masks:V}=W(e,{granularity:Y,maskNodeInitCallback:P?K:null,targetNodeInitCallback:G});let y;Z&&E===void 0&&(y=_(e,q),e.addEventListener("enter",A),$&&e.addEventListener("leave",R));function A(){for(const t of p)U(t);e.style.userSelect="",e.style.pointerEvents="",!$&&y&&(y.destroy(),e.removeEventListener("enter",A))}function R(){for(const t of p)m(t);e.style.userSelect="none",e.style.pointerEvents="none"}return{update(t){t.duration&&(r=t.duration),t.delay&&(i=t.delay),t.staggerDelay&&(l=t.staggerDelay),t.scale&&(h=t.scale),t.rotateX&&(v=t.rotateX),t.rotateY&&(c=t.rotateY),t.rotateZ&&(T=t.rotateZ),t.x&&(b=t.y),t.y&&(n=t.y),t.visible!==void 0&&(t.visible?A():R())},destroy(){y&&(y.destroy(),e.removeEventListener("enter",A),e.removeEventListener("leave",R))},masks:V,targets:p}}function at(e,b={}){var n=b,{duration:r=450,delay:i=0,stagger:s=!0,staggerDelay:l=25}=n,x=F(n,["duration","delay","stagger","staggerDelay"]);const{masks:h,targets:v,update:c}=w(e,D(M({duration:r,delay:i,stagger:s,staggerDelay:l},x),{useIntersect:!1,visible:!1,hideOnLeave:!1})),T=i+(s?l*v.length:0)+r;let g=0;return{duration:T,tick:(d,$)=>{d===1?e.hasAttribute(a.INTRO)?e.removeAttribute(a.INTRO):(e.setAttribute(a.OUTRO,""),c({visible:!1})):d>g?(e.hasAttribute(a.OUTRO)&&e.removeAttribute(a.OUTRO),e.hasAttribute(a.INTRO)||(e.setAttribute(a.INTRO,""),c({visible:!0}))):(e.hasAttribute(a.INTRO)&&e.removeAttribute(a.INTRO),e.hasAttribute(a.OUTRO)||(e.setAttribute(a.OUTRO,""),c({visible:!1}))),g=d}}}export{w as r,at as t};

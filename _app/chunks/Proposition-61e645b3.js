import{S as me,i as _e,s as ge,al as ve,e as y,c as L,a as b,d as m,b as _,g as D,$ as G,U as S,am as pe,q as H,o as K,a0 as Q,t as P,h as V,f as I,H as g,j,I as q,k as T,m as C,G as R,l as A,Q as Z,w as J,x as W,y as X,B as $,n as be,p as ke,a4 as we,R as ne,T as se,a1 as Ee,a2 as ye,a3 as Le}from"./vendor-7a55a818.js";import{i as de}from"./intersect-eda3c074.js";import{b as Y}from"./paths-396f020f.js";import{L as Ie,c as Be}from"./LegendItem-1cd763f3.js";import{L as De}from"./Loading-99d7144c.js";import{a as re}from"./map-ed0b0416.js";import{r as Te,a as Ce}from"./revealText-40d502c4.js";function oe(s,e,t){const n=s.slice();return n[15]=e[t],n}function ae(s,e,t){const n=s.slice();return n[18]=e[t],n[20]=t,n}function ie(s,e,t){const n=s.slice();return n[21]=e[t],n[23]=t,n}function He(s){let e,t,n,l;return{c(){e=y("p"),t=P("Le chargement du fichier de donn\xE9es "),n=P(s[1]),l=P(" a encontr\xE9 une erreur"),this.h()},l(a){e=L(a,"P",{style:!0});var r=b(e);t=V(r,"Le chargement du fichier de donn\xE9es "),n=V(r,s[1]),l=V(r," a encontr\xE9 une erreur"),r.forEach(m),this.h()},h(){I(e,"color","red"),I(e,"font-style","italic")},m(a,r){D(a,e,r),g(e,t),g(e,n),g(e,l)},p(a,r){r&2&&j(n,a[1])},i:q,o:q,d(a){a&&m(e)}}}function Pe(s){let e,t,n,l,a=s[14].columns,r=[];for(let o=0;o<a.length;o+=1)r[o]=fe(ae(s,a,o));return n=new Ie({props:{size:"small",$$slots:{default:[Fe]},$$scope:{ctx:s}}}),{c(){e=y("div");for(let o=0;o<r.length;o+=1)r[o].c();t=T(),J(n.$$.fragment),this.h()},l(o){e=L(o,"DIV",{class:!0});var i=b(e);for(let c=0;c<r.length;c+=1)r[c].l(i);i.forEach(m),t=C(o),W(n.$$.fragment,o),this.h()},h(){_(e,"class","bars cpeum-1kmhhl3"),I(e,"--max",s[3],!1),I(e,"--center",s[4],!1)},m(o,i){D(o,e,i);for(let c=0;c<r.length;c+=1)r[c].m(e,null);D(o,t,i),X(n,o,i),l=!0},p(o,i){if(i&389){a=o[14].columns;let u;for(u=0;u<a.length;u+=1){const h=ae(o,a,u);r[u]?r[u].p(h,i):(r[u]=fe(h),r[u].c(),r[u].m(e,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=a.length}i&8&&I(e,"--max",o[3],!1),i&16&&I(e,"--center",o[4],!1);const c={};i&33554433&&(c.$$scope={dirty:i,ctx:o}),n.$set(c)},i(o){l||(H(n.$$.fragment,o),l=!0)},o(o){K(n.$$.fragment,o),l=!1},d(o){o&&m(e),Z(r,o),o&&m(t),$(n,o)}}}function ce(s){let e,t,n;function l(){return s[9](s[14],s[23])}return{c(){e=y("div"),this.h()},l(a){e=L(a,"DIV",{class:!0}),b(e).forEach(m),this.h()},h(){_(e,"class","segment cpeum-1kmhhl3"),R(e,"center",s[2]),R(e,"highlight",s[0]===s[14].groups[s[23]].title),I(e,"--value",s[21],!1),I(e,"--color",s[14].groups[s[23]].color,!1)},m(a,r){D(a,e,r),t||(n=[S(e,"mouseover",l),S(e,"mouseleave",s[8])],t=!0)},p(a,r){s=a,r&4&&R(e,"center",s[2]),r&129&&R(e,"highlight",s[0]===s[14].groups[s[23]].title)},d(a){a&&m(e),t=!1,Q(n)}}}function ue(s){let e,t=(s[21]>0||s[2])&&ce(s);return{c(){t&&t.c(),e=A()},l(n){t&&t.l(n),e=A()},m(n,l){t&&t.m(n,l),D(n,e,l)},p(n,l){n[21]>0||n[2]?t?t.p(n,l):(t=ce(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&m(e)}}}function fe(s){let e,t,n=s[18].title+"",l,a,r,o,i=s[18].rows,c=[];for(let u=0;u<i.length;u+=1)c[u]=ue(ie(s,i,u));return{c(){e=y("div"),t=y("div"),l=P(n),a=T(),r=y("div");for(let u=0;u<c.length;u+=1)c[u].c();o=T(),this.h()},l(u){e=L(u,"DIV",{class:!0});var h=b(e);t=L(h,"DIV",{class:!0});var f=b(t);l=V(f,n),f.forEach(m),a=C(h),r=L(h,"DIV",{class:!0,style:!0});var B=b(r);for(let k=0;k<c.length;k+=1)c[k].l(B);B.forEach(m),o=C(h),h.forEach(m),this.h()},h(){_(t,"class","col-title cpeum-1kmhhl3"),R(t,"centered",s[2]),_(r,"class","bar cpeum-1kmhhl3"),I(r,"transition-delay",s[20]*150+"ms"),_(e,"class","bar-wrapper")},m(u,h){D(u,e,h),g(e,t),g(t,l),g(e,a),g(e,r);for(let f=0;f<c.length;f+=1)c[f].m(r,null);g(e,o)},p(u,h){if(h&4&&R(t,"centered",u[2]),h&389){i=u[18].rows;let f;for(f=0;f<i.length;f+=1){const B=ie(u,i,f);c[f]?c[f].p(B,h):(c[f]=ue(B),c[f].c(),c[f].m(r,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=i.length}},d(u){u&&m(e),Z(c,u)}}}function Ve(s){let e=s[15].title+"",t,n;return{c(){t=P(e),n=T()},l(l){t=V(l,e),n=C(l)},m(l,a){D(l,t,a),D(l,n,a)},p:q,d(l){l&&m(t),l&&m(n)}}}function he(s){let e,t;function n(){return s[10](s[15])}return e=new Be({props:{highlight:s[0]===s[15].title,fill:s[15].color,$$slots:{default:[Ve]},$$scope:{ctx:s}}}),e.$on("mouseover",n),e.$on("mouseleave",s[11]),{c(){J(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,a){X(e,l,a),t=!0},p(l,a){s=l;const r={};a&1&&(r.highlight=s[0]===s[15].title),a&33554432&&(r.$$scope={dirty:a,ctx:s}),e.$set(r)},i(l){t||(H(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){$(e,l)}}}function Fe(s){let e,t,n=s[14].groups,l=[];for(let r=0;r<n.length;r+=1)l[r]=he(oe(s,n,r));const a=r=>K(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=A()},l(r){for(let o=0;o<l.length;o+=1)l[o].l(r);e=A()},m(r,o){for(let i=0;i<l.length;i+=1)l[i].m(r,o);D(r,e,o),t=!0},p(r,o){if(o&129){n=r[14].groups;let i;for(i=0;i<n.length;i+=1){const c=oe(r,n,i);l[i]?(l[i].p(c,o),H(l[i],1)):(l[i]=he(c),l[i].c(),H(l[i],1),l[i].m(e.parentNode,e))}for(be(),i=n.length;i<l.length;i+=1)a(i);ke()}},i(r){if(!t){for(let o=0;o<n.length;o+=1)H(l[o]);t=!0}},o(r){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)K(l[o]);t=!1},d(r){Z(l,r),r&&m(e)}}}function Ke(s){let e,t;return e=new De({}),{c(){J(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,l){X(e,n,l),t=!0},p:q,i(n){t||(H(e.$$.fragment,n),t=!0)},o(n){K(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Me(s){let e,t,n,l,a={ctx:s,current:null,token:null,hasCatch:!0,pending:Ke,then:Pe,catch:He,value:14,error:24,blocks:[,,,]};return ve(s[7],a),{c(){e=y("figure"),a.block.c(),this.h()},l(r){e=L(r,"FIGURE",{visible:!0,class:!0});var o=b(e);a.block.l(o),o.forEach(m),this.h()},h(){_(e,"visible",s[5]),_(e,"class","cpeum-1kmhhl3")},m(r,o){D(r,e,o),a.block.m(e,a.anchor=null),a.mount=()=>e,a.anchor=null,t=!0,n||(l=[G(de.call(null,e)),S(e,"enter",s[6],{once:!0})],n=!0)},p(r,[o]){s=r,pe(a,s,o),(!t||o&32)&&_(e,"visible",s[5])},i(r){t||(H(a.block),t=!0)},o(r){for(let o=0;o<3;o+=1){const i=a.blocks[o];K(i)}t=!1},d(r){r&&m(e),a.block.d(),a.token=null,a=null,n=!1,Q(l)}}}function Re(s,e,t){let{src:n}=e,{highlightKey:l=null}=e,{centered:a=!1}=e,r,o,i=!1;function c(){t(5,i=!0)}async function u(){const v=await fetch(Y+n);if(v.ok){const p=await v.json();return t(3,r=Math.max(...p.columns.map(F=>F.rows.reduce((U,N)=>U+N,0)))),t(4,o=Math.max(...p.columns.map(F=>F.rows[0]))),p}else throw new Error(`Le chargement du fichier de donn\xE9es ${n} a encontr\xE9 une erreur`)}let h=u();function f(){t(0,l=null)}const B=(v,p)=>t(0,l=v.groups[p].title),k=v=>t(0,l=v.title),O=()=>t(0,l=null);return s.$$set=v=>{"src"in v&&t(1,n=v.src),"highlightKey"in v&&t(0,l=v.highlightKey),"centered"in v&&t(2,a=v.centered)},[l,n,a,r,o,i,c,h,f,B,k,O]}class Qe extends me{constructor(e){super();_e(this,e,Re,Me,ge,{src:1,highlightKey:0,centered:2})}}function Ne(s,{scrollParent:e=document.body,factor:t=.8}={}){let n=0;function l(){const a=s.getBoundingClientRect();n=(Math.min(window.innerHeight,Math.max(-a.height,a.top-n))+a.height/2-window.innerHeight/2)*(t-1),s.style.transform=`translateY(${n}px)`}return l(),e.addEventListener("scroll",l),{destroy(){e.removeEventListener("scroll",l)}}}function Se(s){let e,t,n,l,a,r,o,i,c,u,h,f,B,k,O=`rotateZ(${2.5-Math.random()*5}deg)`,v,p,F,U;const N=s[8].default,w=we(N,s,s[7],null);return{c(){e=y("section"),t=y("header"),n=ne("svg"),l=ne("text"),a=P(s[1]),r=T(),o=y("hgroup"),i=y("span"),c=P(s[0]),u=T(),h=y("h3"),f=P(s[2]),B=T(),k=y("div"),v=T(),w&&w.c(),this.h()},l(d){e=L(d,"SECTION",{class:!0});var E=b(e);t=L(E,"HEADER",{class:!0});var M=b(t);n=se(M,"svg",{width:!0,height:!0,viewBox:!0,class:!0});var x=b(n);l=se(x,"text",{x:!0,y:!0,"font-size":!0,"text-anchor":!0,"dominant-baseline":!0,class:!0});var ee=b(l);a=V(ee,s[1]),ee.forEach(m),x.forEach(m),r=C(M),o=L(M,"HGROUP",{class:!0});var z=b(o);i=L(z,"SPAN",{class:!0});var te=b(i);c=V(te,s[0]),te.forEach(m),u=C(z),h=L(z,"H3",{class:!0});var le=b(h);f=V(le,s[2]),le.forEach(m),z.forEach(m),B=C(M),k=L(M,"DIV",{class:!0}),b(k).forEach(m),M.forEach(m),v=C(E),w&&w.l(E),E.forEach(m),this.h()},h(){_(l,"x","0"),_(l,"y","450"),_(l,"font-size","500"),_(l,"text-anchor","middle"),_(l,"dominant-baseline","baseline"),_(l,"class","cpeum-wktov9"),_(n,"width","500"),_(n,"height","500"),_(n,"viewBox","0 0 500 500"),_(n,"class","cpeum-wktov9"),_(i,"class","cpeum-wktov9"),_(h,"class","cpeum-wktov9"),_(o,"class","cpeum-wktov9"),_(k,"class","image cpeum-wktov9"),I(k,"background-image",s[3]?`url(${Y+s[3]})`:"",!1),_(t,"class","cpeum-wktov9"),I(t,"transform",O,!1),_(e,"class","cpeum-wktov9")},m(d,E){D(d,e,E),g(e,t),g(t,n),g(n,l),g(l,a),g(t,r),g(t,o),g(o,i),g(i,c),g(o,u),g(o,h),g(h,f),g(t,B),g(t,k),g(e,v),w&&w.m(e,null),p=!0,F||(U=[G(Te.call(null,h,Ce)),G(Ne.call(null,o,{factor:.7})),G(de.call(null,e)),S(e,"enter",s[4]),S(e,"leave",s[5])],F=!0)},p(d,[E]){(!p||E&2)&&j(a,d[1]),(!p||E&1)&&j(c,d[0]),(!p||E&4)&&j(f,d[2]),E&8&&I(k,"background-image",d[3]?`url(${Y+d[3]})`:"",!1),w&&w.p&&(!p||E&128)&&Ee(w,N,d,d[7],p?Le(N,d[7],E,null):ye(d[7]),null)},i(d){p||(H(w,d),p=!0)},o(d){K(w,d),p=!1},d(d){d&&m(e),w&&w.d(d),F=!1,Q(U)}}}function Ue(s,e,t){let{$$slots:n={},$$scope:l}=e,{label:a}=e,{shortLabel:r=a}=e,{title:o}=e,{key:i}=e,{src:c=""}=e;function u(){re.set(i)}function h(){re.clear()}return s.$$set=f=>{"label"in f&&t(0,a=f.label),"shortLabel"in f&&t(1,r=f.shortLabel),"title"in f&&t(2,o=f.title),"key"in f&&t(6,i=f.key),"src"in f&&t(3,c=f.src),"$$scope"in f&&t(7,l=f.$$scope)},[a,r,o,c,u,h,i,l,n]}class Ze extends me{constructor(e){super();_e(this,e,Ue,Se,ge,{label:0,shortLabel:1,title:2,key:6,src:3})}}export{Qe as B,Ze as P};

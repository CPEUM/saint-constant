import{i as K}from"./intersect-af4d5670.js";const m={HOST:"text-split-host",TARGET:"text-split-target",MASK:"text-split-mask"};function P(e,{granularity:g="char",maskNodeInitCallback:l=null,targetNodeInitCallback:f=null}={}){const a=[],y=[];function c(n){n.style.position="relative",n.style.display="inline-block",n.style.transformStyle="preserve-3d"}function u(n){Array.from(n.childNodes).forEach(i=>{if(i instanceof HTMLElement)c(i),u(i);else if(i.nodeType===Node.TEXT_NODE){const d=[];i.textContent.split(/(\s)/).forEach(p=>{if(!!p)if(p===" ")d.push(document.createTextNode(" "));else{const o=document.createElement("span");c(o),o.style.whiteSpace="nowrap",o.setAttribute(m.MASK,""),y.push(o),l&&l(o,y.length);for(const T of p.split(g==="word"?" ":"")){const s=document.createElement("span");s.textContent=T,s.style.transformStyle="preserve-3d",s.style.position="relative",s.style.display="inline-block",s.setAttribute(m.TARGET,""),o.appendChild(s),f&&f(s,a.length),a.push(s)}d.push(o)}}),i.textContent="",i.after(...d)}})}return e.hasAttribute(m.HOST)?(a.push(...Array.from(e.querySelectorAll(`[${m.TARGET}]`))),y.push(...Array.from(e.querySelectorAll(`[${m.MASK}]`)))):(e.setAttribute(m.HOST,""),e.normalize(),u(e)),{targets:a,masks:y}}const R=/px|%|em|vh|vw|rem/;function U(e){return typeof e=="number"?null:e.match(R)[0]||null}function Y(e,{duration:g=450,delay:l=0,stagger:f=!0,staggerDelay:a=25,opacity:y=0,x:c=0,y:u=0,scale:n=1,rotateX:i=0,rotateY:d=0,rotateZ:p=0,transformOrigin:o="0% 90%",perspective:T=1e3,hideOnLeave:s=!1,mask:M=!1,maskPadding:A="0.1em",easing:D="cubic-bezier(0.7, 0, 0.2, 1)",granularity:L="char",useIntersect:C=!0,intersectOptions:H={rootMargin:"-200px 0px -200px"},visible:S=void 0}={}){e.style.perspective=T+"px",e.style.perspectiveOrigin="center";const b=parseFloat(A+""),N=U(A)||"px";function z(t,r){S?$(t,r):k(t,r),t.style.transformOrigin=o,t.style.transitionDelay=l+(f?a*r:0)+"ms",t.style.transitionDuration=g+"ms",t.style.transitionTimingFunction=D,t.style.transitionProperty="opacity, transform, top, left"}function F(t,r){t.style.overflow="hidden",t.style.padding=b+N,t.style.margin=-1*b+N}function k(t,r){t.style.transitionDelay=l+(f?a*r:0)+"ms",t.style.opacity=y+"",t.style.transform=`rotateX(${i}deg) rotateY(${d}deg) rotateZ(${p}deg) translate(${c+(isNaN(Number(c))?"":"px")}, ${u+(isNaN(Number(u))?"":"px")}) scale(${n})`}function $(t,r){t.style.transitionDelay=l+(f?a*r:0)+"ms",t.style.opacity="1",t.style.transform="initial"}const{targets:x,masks:G}=P(e,{granularity:L,maskNodeInitCallback:M?F:null,targetNodeInitCallback:z});let v;C&&S===void 0&&(v=K(e,H),e.addEventListener("enter",h),s&&e.addEventListener("leave",E));function h(){let t=0;for(const r of x)$(r,t++);e.style.userSelect="",e.style.pointerEvents="",!s&&v&&(v.destroy(),e.removeEventListener("enter",h))}function E(){let t=0;for(const r of x)k(r,t++);e.style.userSelect="none",e.style.pointerEvents="none"}return{destroy(){v&&(v.destroy(),e.removeEventListener("enter",h),e.removeEventListener("leave",E))},update(t){t.duration&&(g=t.duration),t.delay&&(l=t.delay),t.staggerDelay&&(a=t.staggerDelay),t.scale&&(n=t.scale),t.rotateX&&(i=t.rotateX),t.rotateY&&(d=t.rotateY),t.rotateZ&&(p=t.rotateZ),t.x&&(c=t.y),t.y&&(u=t.y),t.visible!==void 0&&(t.visible?h():E())},masks:G,targets:x}}const X={mask:!0,maskPadding:".1em",y:"1.1em",opacity:0,staggerDelay:70,duration:1250,easing:"cubic-bezier(.2, 0, 0, 1)",granularity:"word"};({...X});export{Y as a,X as r};

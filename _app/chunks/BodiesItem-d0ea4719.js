import{S as te,i as ie,s as ne,J as me,af as pe,a8 as qe,D as Y,l as _,a as ye,r as xe,m as K,n as b,c as Se,u as Pe,h as D,p as O,X as ft,a4 as he,K as W,b as U,O as Z,R as ee,W as we,v as Le,A as de,F as Ve,H as De,a5 as ge,ab as Lt,a6 as We,a0 as ae,a1 as oe,a2 as le,a3 as fe,f as Q,t as X,x as Ie,y as Ee,z as Te,C as Ae,q as G,j as ke,g as St,d as Pt,ai as Dt,L as Qe,aj as Ct,e as _e,P as Re,Q as Fe,U as Ce,o as $e,T as Rt,a9 as et,a7 as Ye,M as ut}from"./index-246e4404.js";import{f as Ft,h as ce,m as je,a as ct,c as Be}from"./Map-928639cc.js";import{i as Ze}from"./intersect-af4d5670.js";import{b as Ke}from"./paths-396f020f.js";/* empty css                                            */import{a as Mt,r as kt}from"./revealText-e21e8cbe.js";import"./scroll-e0eb28a1.js";import{b as Vt,m as Wt,c as Ue,g as wt}from"./map-9509ad70.js";import{w as ze}from"./index-2b88267d.js";import{e as Ot,f as zt,a as ht}from"./index-7f5d761f.js";import{g as gt}from"./themeColors-35fcc233.js";function bt(d,a,g){let P,l;me(d,Ft,r=>g(6,l=r));let{id:e}=a,{url:s}=a,{coordinates:i}=a,{opacity:n=1}=a;const h=pe("figuremap"),o=h?h.active:null;me(d,o,r=>g(5,P=r));const f=e+"-raster-layer";return qe(()=>{ce&&(ce.removeSource(e),ce.removeLayer(f))}),d.$$set=r=>{"id"in r&&g(1,e=r.id),"url"in r&&g(2,s=r.url),"coordinates"in r&&g(3,i=r.coordinates),"opacity"in r&&g(4,n=r.opacity)},d.$$.update=()=>{if(d.$$.dirty&94&&l&&(console.log("adding image overlay"),ce.getSource(e)||ce.addSource(e,{type:"image",url:s,coordinates:i}),ce.getLayer(f)||ce.addLayer({id:f,source:e,type:"raster",paint:{"raster-opacity":n,"raster-fade-duration":.75}})),d.$$.dirty&96&&o&&l){const r=P?"visible":"none";ce.getLayer(f)&&ce.setLayoutProperty(f,"visibility",r)}},[o,e,s,i,n,P,l]}class sn extends te{constructor(a){super(),ie(this,a,bt,null,ne,{id:1,url:2,coordinates:3,opacity:4})}}function Gt(d){let a,g,P,l,e,s,i,n,h=[d[5]],o={};for(let f=0;f<h.length;f+=1)o=Y(o,h[f]);return{c(){a=_("div"),g=_("img"),l=ye(),e=_("span"),s=xe(d[0]),this.h()},l(f){a=K(f,"DIV",{});var r=b(a);g=K(r,"IMG",{loading:!0,decoding:!0,src:!0,alt:!0,class:!0}),l=Se(r),e=K(r,"SPAN",{class:!0});var t=b(e);s=Pe(t,d[0]),t.forEach(D),r.forEach(D),this.h()},h(){O(g,"loading","lazy"),O(g,"decoding","async"),ft(g.src,P=Ke+d[2])||O(g,"src",P),O(g,"alt",d[0]),O(g,"class","cpeum-33xpn7"),O(e,"class","cpeum-33xpn7"),he(a,o),W(a,"hidden",!d[1]),W(a,"cpeum-33xpn7",!0)},m(f,r){U(f,a,r),Z(a,g),Z(a,l),Z(a,e),Z(e,s),i||(n=[ee(g,"load",d[4]),we(Ze.call(null,a,{rootMargin:"200px 200px 200px 200px"})),ee(a,"enter",d[3],{once:!0})],i=!0)},p(f,[r]){r&4&&!ft(g.src,P=Ke+f[2])&&O(g,"src",P),r&1&&O(g,"alt",f[0]),r&1&&Le(s,f[0]),he(a,o=de(h,[r&32&&f[5]])),W(a,"hidden",!f[1]),W(a,"cpeum-33xpn7",!0)},i:Ve,o:Ve,d(f){f&&D(a),i=!1,De(n)}}}function Nt(d,a,g){const P=["src","alt"];let l=ge(a,P);var e=this&&this.__awaiter||function(t,u,c,m){function x(w){return w instanceof c?w:new c(function(k){k(w)})}return new(c||(c=Promise))(function(w,k){function v(y){try{S(m.next(y))}catch(C){k(C)}}function p(y){try{S(m.throw(y))}catch(C){k(C)}}function S(y){y.done?w(y.value):x(y.value).then(v,p)}S((m=m.apply(t,u||[])).next())})};let{src:s}=a,{alt:i}=a,n=!1,h="";const o=Lt();function f(){return e(this,void 0,void 0,function*(){g(2,h=s)})}function r(){g(1,n=!0),o("load")}return d.$$set=t=>{a=Y(Y({},a),We(t)),g(5,l=ge(a,P)),"src"in t&&g(6,s=t.src),"alt"in t&&g(0,i=t.alt)},[i,n,h,f,r,l,s]}class rn extends te{constructor(a){super(),ie(this,a,Nt,Gt,ne,{src:6,alt:0})}}function Ut(d){let a,g,P,l,e;const s=d[2].default,i=ae(s,d,d[1],null);let n=[d[0]],h={};for(let o=0;o<n.length;o+=1)h=Y(h,n[o]);return{c(){a=_("h2"),g=_("span"),i&&i.c(),this.h()},l(o){a=K(o,"H2",{});var f=b(a);g=K(f,"SPAN",{class:!0});var r=b(g);i&&i.l(r),r.forEach(D),f.forEach(D),this.h()},h(){O(g,"class","cpeum-1uh9iq8"),he(a,h),W(a,"cpeum-1uh9iq8",!0)},m(o,f){U(o,a,f),Z(a,g),i&&i.m(g,null),P=!0,l||(e=we(Mt.call(null,a,kt)),l=!0)},p(o,[f]){i&&i.p&&(!P||f&2)&&oe(i,s,o,o[1],P?fe(s,o[1],f,null):le(o[1]),null),he(a,h=de(n,[f&1&&o[0]])),W(a,"cpeum-1uh9iq8",!0)},i(o){P||(Q(i,o),P=!0)},o(o){X(i,o),P=!1},d(o){o&&D(a),i&&i.d(o),l=!1,e()}}}function _t(d,a,g){const P=[];let l=ge(a,P),{$$slots:e={},$$scope:s}=a;return d.$$set=i=>{a=Y(Y({},a),We(i)),g(0,l=ge(a,P)),"$$scope"in i&&g(1,s=i.$$scope)},[l,s,e]}class Je extends te{constructor(a){super(),ie(this,a,_t,Ut,ne,{})}}function Kt(d){let a;return{c(){a=xe(d[0])},l(g){a=Pe(g,d[0])},m(g,P){U(g,a,P)},p(g,P){P&1&&Le(a,g[0])},d(g){g&&D(a)}}}function Qt(d){let a,g,P,l;g=new Je({props:{$$slots:{default:[Kt]},$$scope:{ctx:d}}});const e=d[1].default,s=ae(e,d,d[2],null);return{c(){a=_("section"),Ie(g.$$.fragment),P=ye(),s&&s.c()},l(i){a=K(i,"SECTION",{});var n=b(a);Ee(g.$$.fragment,n),P=Se(n),s&&s.l(n),n.forEach(D)},m(i,n){U(i,a,n),Te(g,a,null),Z(a,P),s&&s.m(a,null),l=!0},p(i,[n]){const h={};n&5&&(h.$$scope={dirty:n,ctx:i}),g.$set(h),s&&s.p&&(!l||n&4)&&oe(s,e,i,i[2],l?fe(e,i[2],n,null):le(i[2]),null)},i(i){l||(Q(g.$$.fragment,i),Q(s,i),l=!0)},o(i){X(g.$$.fragment,i),X(s,i),l=!1},d(i){i&&D(a),Ae(g),s&&s.d(i)}}}function Zt(d,a,g){let{$$slots:P={},$$scope:l}=a,{heading:e}=a;return d.$$set=s=>{"heading"in s&&g(0,e=s.heading),"$$scope"in s&&g(2,l=s.$$scope)},[e,P,l]}class an extends te{constructor(a){super(),ie(this,a,Zt,Qt,ne,{heading:0})}}function It(d,{scrollParent:a=document.body,factor:g=.8}={}){let P=0;function l(){const e=d.getBoundingClientRect();P=(Math.min(window.innerHeight,Math.max(-e.height,e.top-P))+e.height/2-window.innerHeight/2)*(g-1),d.style.transform=`translateY(${P}px)`}return l(),a.addEventListener("scroll",l),{destroy(){a.removeEventListener("scroll",l)}}}function vt(d){let a,g,P;return{c(){a=_("div"),this.h()},l(l){a=K(l,"DIV",{class:!0}),b(a).forEach(D),this.h()},h(){O(a,"class","image cpeum-6omqde"),G(a,"background-image",d[2]?`url(${Ke+d[2]})`:"")},m(l,e){U(l,a,e),g||(P=we(It.call(null,a,{factor:.8})),g=!0)},p(l,e){e&4&&G(a,"background-image",l[2]?`url(${Ke+l[2]})`:"")},d(l){l&&D(a),g=!1,P()}}}function Jt(d){let a,g,P,l,e,s,i,n,h=`rotate(${d[3]}deg)`,o,f,r=d[2]&&vt(d);return{c(){a=_("header"),g=_("hgroup"),P=_("span"),l=xe(d[0]),e=ye(),s=_("h3"),i=xe(d[1]),n=ye(),r&&r.c(),this.h()},l(t){a=K(t,"HEADER",{class:!0});var u=b(a);g=K(u,"HGROUP",{class:!0});var c=b(g);P=K(c,"SPAN",{class:!0});var m=b(P);l=Pe(m,d[0]),m.forEach(D),e=Se(c),s=K(c,"H3",{class:!0});var x=b(s);i=Pe(x,d[1]),x.forEach(D),c.forEach(D),n=Se(u),r&&r.l(u),u.forEach(D),this.h()},h(){O(P,"class","cpeum-6omqde"),O(s,"class","cpeum-6omqde"),O(g,"class","cpeum-6omqde"),O(a,"class","cpeum-6omqde"),G(a,"transform",h)},m(t,u){U(t,a,u),Z(a,g),Z(g,P),Z(P,l),Z(g,e),Z(g,s),Z(s,i),Z(a,n),r&&r.m(a,null),o||(f=[we(Mt.call(null,s,kt)),we(It.call(null,g,{factor:.6}))],o=!0)},p(t,[u]){u&1&&Le(l,t[0]),u&2&&Le(i,t[1]),t[2]?r?r.p(t,u):(r=vt(t),r.c(),r.m(a,null)):r&&(r.d(1),r=null)},i:Ve,o:Ve,d(t){t&&D(a),r&&r.d(),o=!1,De(f)}}}function Xt(d,a,g){let{label:P}=a,{title:l}=a,{src:e=""}=a;const s=(Math.random()*4-2).toFixed(1);return d.$$set=i=>{"label"in i&&g(0,P=i.label),"title"in i&&g(1,l=i.title),"src"in i&&g(2,e=i.src)},[P,l,e,s]}class Yt extends te{constructor(a){super(),ie(this,a,Xt,Jt,ne,{label:0,title:1,src:2})}}function jt(d){let a,g,P,l,e,s;g=new Yt({props:{label:d[0],title:d[1],src:d[3]}});const i=d[5].default,n=ae(i,d,d[4],null);return{c(){a=_("section"),Ie(g.$$.fragment),P=ye(),n&&n.c(),this.h()},l(h){a=K(h,"SECTION",{id:!0,class:!0});var o=b(a);Ee(g.$$.fragment,o),P=Se(o),n&&n.l(o),o.forEach(D),this.h()},h(){O(a,"id",d[2]),O(a,"class","cpeum-gx7jps")},m(h,o){U(h,a,o),Te(g,a,null),Z(a,P),n&&n.m(a,null),l=!0,e||(s=[we(Ze.call(null,a)),ee(a,"enter",qt),ee(a,"leave",$t)],e=!0)},p(h,[o]){const f={};o&1&&(f.label=h[0]),o&2&&(f.title=h[1]),o&8&&(f.src=h[3]),g.$set(f),n&&n.p&&(!l||o&16)&&oe(n,i,h,h[4],l?fe(i,h[4],o,null):le(h[4]),null),(!l||o&4)&&O(a,"id",h[2])},i(h){l||(Q(g.$$.fragment,h),Q(n,h),l=!0)},o(h){X(g.$$.fragment,h),X(n,h),l=!1},d(h){h&&D(a),Ae(g),n&&n.d(h),e=!1,De(s)}}}function qt(){}function $t(){}function ei(d,a,g){let{$$slots:P={},$$scope:l}=a,{label:e}=a,{title:s}=a,{key:i}=a,{src:n=""}=a;return pe("exercice"),d.$$set=h=>{"label"in h&&g(0,e=h.label),"title"in h&&g(1,s=h.title),"key"in h&&g(2,i=h.key),"src"in h&&g(3,n=h.src),"$$scope"in h&&g(4,l=h.$$scope)},[e,s,i,n,l,P]}class on extends te{constructor(a){super(),ie(this,a,ei,jt,ne,{label:0,title:1,key:2,src:3})}}function ti(d){let a;return{c(){a=xe(d[0])},l(g){a=Pe(g,d[0])},m(g,P){U(g,a,P)},p(g,P){P&1&&Le(a,g[0])},d(g){g&&D(a)}}}function ii(d){let a,g,P,l;g=new Je({props:{$$slots:{default:[ti]},$$scope:{ctx:d}}});const e=d[1].default,s=ae(e,d,d[2],null);return{c(){a=_("section"),Ie(g.$$.fragment),P=ye(),s&&s.c()},l(i){a=K(i,"SECTION",{});var n=b(a);Ee(g.$$.fragment,n),P=Se(n),s&&s.l(n),n.forEach(D)},m(i,n){U(i,a,n),Te(g,a,null),Z(a,P),s&&s.m(a,null),l=!0},p(i,[n]){const h={};n&5&&(h.$$scope={dirty:n,ctx:i}),g.$set(h),s&&s.p&&(!l||n&4)&&oe(s,e,i,i[2],l?fe(e,i[2],n,null):le(i[2]),null)},i(i){l||(Q(g.$$.fragment,i),Q(s,i),l=!0)},o(i){X(g.$$.fragment,i),X(s,i),l=!1},d(i){i&&D(a),Ae(g),s&&s.d(i)}}}function ni(d,a,g){let{$$slots:P={},$$scope:l}=a,{heading:e}=a;return d.$$set=s=>{"heading"in s&&g(0,e=s.heading),"$$scope"in s&&g(2,l=s.$$scope)},[e,P,l]}class ln extends te{constructor(a){super(),ie(this,a,ni,ii,ne,{heading:0})}}function si(d){let a,g;const P=d[3].default,l=ae(P,d,d[2],null);let e=[d[0]],s={};for(let i=0;i<e.length;i+=1)s=Y(s,e[i]);return{c(){a=_("dl"),l&&l.c(),this.h()},l(i){a=K(i,"DL",{});var n=b(a);l&&l.l(n),n.forEach(D),this.h()},h(){he(a,s),G(a,"font-size","13px"),W(a,"cpeum-bh8arh",!0)},m(i,n){U(i,a,n),l&&l.m(a,null),g=!0},p(i,[n]){l&&l.p&&(!g||n&4)&&oe(l,P,i,i[2],g?fe(P,i[2],n,null):le(i[2]),null),he(a,s=de(e,[n&1&&i[0]])),G(a,"font-size","13px"),W(a,"cpeum-bh8arh",!0)},i(i){g||(Q(l,i),g=!0)},o(i){X(l,i),g=!1},d(i){i&&D(a),l&&l.d(i)}}}function ri(d,a,g){const P=["size"];let l=ge(a,P),{$$slots:e={},$$scope:s}=a,{size:i="medium"}=a;return ke("legend",{}),d.$$set=n=>{a=Y(Y({},a),We(n)),g(0,l=ge(a,P)),"size"in n&&g(1,i=n.size),"$$scope"in n&&g(2,s=n.$$scope)},[l,i,s,e]}class ai extends te{constructor(a){super(),ie(this,a,ri,si,ne,{size:1})}}const oi=d=>({}),mt=d=>({});function dt(d){let a,g,P,l=`${d[0]}px`,e;return g=new ai({props:{$$slots:{default:[li]},$$scope:{ctx:d}}}),{c(){a=_("div"),Ie(g.$$.fragment),this.h()},l(s){a=K(s,"DIV",{id:!0,class:!0});var i=b(a);Ee(g.$$.fragment,i),i.forEach(D),this.h()},h(){O(a,"id","legend-wrapper"),O(a,"class","cpeum-mlau98"),Qe(()=>d[16].call(a)),G(a,"--h",l)},m(s,i){U(s,a,i),Te(g,a,null),P=Ct(a,d[16].bind(a)),e=!0},p(s,i){const n={};i&131072&&(n.$$scope={dirty:i,ctx:s}),g.$set(n),i&1&&l!==(l=`${s[0]}px`)&&G(a,"--h",l)},i(s){e||(Q(g.$$.fragment,s),e=!0)},o(s){X(g.$$.fragment,s),e=!1},d(s){s&&D(a),Ae(g),P()}}}function li(d){let a;const g=d[15].legend,P=ae(g,d,d[17],mt);return{c(){P&&P.c()},l(l){P&&P.l(l)},m(l,e){P&&P.m(l,e),a=!0},p(l,e){P&&P.p&&(!a||e&131072)&&oe(P,g,l,l[17],a?fe(g,l[17],e,oi):le(l[17]),mt)},i(l){a||(Q(P,l),a=!0)},o(l){X(P,l),a=!1},d(l){P&&P.d(l)}}}function fi(d){let a,g,P,l,e;const s=d[15].default,i=ae(s,d,d[17],null);let n=d[7].legend&&dt(d),h=[{id:"trigger"},d[6]],o={};for(let f=0;f<h.length;f+=1)o=Y(o,h[f]);return{c(){a=_("div"),i&&i.c(),g=ye(),n&&n.c(),this.h()},l(f){a=K(f,"DIV",{id:!0});var r=b(a);i&&i.l(r),g=Se(r),n&&n.l(r),r.forEach(D),this.h()},h(){he(a,o),W(a,"cpeum-mlau98",!0)},m(f,r){U(f,a,r),i&&i.m(a,null),Z(a,g),n&&n.m(a,null),P=!0,l||(e=[we(Ze.call(null,a,{rootMargin:"-50% -50% -50% -50%"})),ee(a,"enter",d[4]),ee(a,"leave",d[5])],l=!0)},p(f,[r]){i&&i.p&&(!P||r&131072)&&oe(i,s,f,f[17],P?fe(s,f[17],r,null):le(f[17]),null),f[7].legend?n?(n.p(f,r),r&128&&Q(n,1)):(n=dt(f),n.c(),Q(n,1),n.m(a,null)):n&&(St(),X(n,1,1,()=>{n=null}),Pt()),he(a,o=de(h,[{id:"trigger"},r&64&&f[6]])),W(a,"cpeum-mlau98",!0)},i(f){P||(Q(i,f),Q(n),P=!0)},o(f){X(i,f),X(n),P=!1},d(f){f&&D(a),i&&i.d(f),n&&n.d(),l=!1,De(e)}}}function ui(d,a,g){const P=["bounds","pitch"];let l=ge(a,P),e,s,i,n;me(d,je,M=>g(12,s=M));let{$$slots:h={},$$scope:o}=a;const f=Dt(h);let{bounds:r=Vt.fallback}=a,{pitch:t=void 0}=a,u=0,c=ze(!1);me(d,c,M=>g(11,e=M));let m=!1,x=ze(null);me(d,x,M=>g(14,n=M));let w=ze(null),k=ze(null);me(d,k,M=>g(13,i=M));let v=0;const p=["-lines","-circles","-fills"].map(M=>"propositions"+M);ke("figuremap",{active:c}),ke("currentKey",x),ke("currentDataKey",w),ke("currentView",k),ke("markers",{getIndex:()=>u++});function S(){g(10,m=!0),je.setClass("figure"),c.set(!0),r&&Be.set({bounds:r,pitch:t})}function y(){g(10,m=!1),je.setClass(""),Be.set(null),c.set(!1)}function C(){v=this.clientHeight,g(0,v)}return d.$$set=M=>{a=Y(Y({},a),We(M)),g(6,l=ge(a,P)),"bounds"in M&&g(8,r=M.bounds),"pitch"in M&&g(9,t=M.pitch),"$$scope"in M&&g(17,o=M.$$scope)},d.$$.update=()=>{if(d.$$.dirty&17152&&(n?(ct.set({key:n}),Be.set({filter:{key:n}})):n||(ct.set(null),Be.set({bounds:r,pitch:t}))),d.$$.dirty&8960&&(i?Be.set({center:{point:i.lnglat,zoom:i.zoom}}):i||Be.set({bounds:r,pitch:t})),d.$$.dirty&5120&&(s.full&&m?c.set(!1):!s.full&&m&&c.set(!0)),d.$$.dirty&2048){if(e)for(const M of p)ce.setLayoutProperty(M,"visibility","none");else if(!e)for(const M of p)ce.setLayoutProperty(M,"visibility","visible")}},[v,c,x,k,S,y,l,f,r,t,m,e,s,i,n,h,C,o]}class fn extends te{constructor(a){super(),ie(this,a,ui,fi,ne,{bounds:8,pitch:9})}}function ci(d){let a,g=`url(${d[1]})`,P=[d[10]],l={};for(let e=0;e<P.length;e+=1)l=Y(l,P[e]);return{c(){a=_("div"),this.h()},l(e){a=K(e,"DIV",{}),b(a).forEach(D),this.h()},h(){he(a,l),G(a,"background-image",g),W(a,"cpeum-1cy4ouf",!0)},m(e,s){U(e,a,s)},p(e,s){he(a,l=de(P,[s&1024&&e[10]])),s&2&&(g=`url(${e[1]})`),G(a,"background-image",g),W(a,"cpeum-1cy4ouf",!0)},d(e){e&&D(a)}}}function hi(d){let a,g,P,l,e;function s(r,t){if(t&1&&(g=null),t&2&&(P=null),r[0]==="square")return pi;if(r[0]==="circle")return di;if(r[0]==="triangle")return mi;if(g==null&&(g=["line","dotted","dashed"].indexOf(r[0])>-1),g)return vi;if(P==null&&(P=!!Boolean(r[1])),P)return gi}let i=s(d,-1),n=i&&i(d),h=d[4]&&pt(d),o=[{width:J},{height:J},{viewBox:e="0 0 "+J+" "+J},d[10]],f={};for(let r=0;r<o.length;r+=1)f=Y(f,o[r]);return{c(){a=Re("svg"),n&&n.c(),l=_e(),h&&h.c(),this.h()},l(r){a=Fe(r,"svg",{width:!0,height:!0,viewBox:!0});var t=b(a);n&&n.l(t),l=_e(),h&&h.l(t),t.forEach(D),this.h()},h(){Ce(a,f),G(a,"opacity",d[5]),W(a,"cpeum-1cy4ouf",!0)},m(r,t){U(r,a,t),n&&n.m(a,null),Z(a,l),h&&h.m(a,null)},p(r,t){i===(i=s(r,t))&&n?n.p(r,t):(n&&n.d(1),n=i&&i(r),n&&(n.c(),n.m(a,l))),r[4]?h?h.p(r,t):(h=pt(r),h.c(),h.m(a,null)):h&&(h.d(1),h=null),Ce(a,f=de(o,[{width:J},{height:J},{viewBox:e},t&1024&&r[10]])),G(a,"opacity",r[5]),W(a,"cpeum-1cy4ouf",!0)},d(r){r&&D(a),n&&n.d(),h&&h.d()}}}function gi(d){let a,g,P;return{c(){a=Re("text"),g=xe("Source: "),P=xe(d[1]),this.h()},l(l){a=Fe(l,"text",{class:!0});var e=b(a);g=Pe(e,"Source: "),P=Pe(e,d[1]),e.forEach(D),this.h()},h(){O(a,"class","cpeum-1cy4ouf")},m(l,e){U(l,a,e),Z(a,g),Z(a,P)},p(l,e){e&2&&Le(P,l[1])},d(l){l&&D(a)}}}function vi(d){let a,g,P=[{d:g="M"+He+","+J/2+" Q"+J/4+","+J/3+" "+J/2+","+J/2+" T"+(J-He)+","+J/2},{"vector-effect":"non-scaling-stroke"},d[7]],l={};for(let e=0;e<P.length;e+=1)l=Y(l,P[e]);return{c(){a=Re("path"),this.h()},l(e){a=Fe(e,"path",{d:!0,"vector-effect":!0}),b(a).forEach(D),this.h()},h(){Ce(a,l),W(a,"highlight",d[6]),W(a,"cpeum-1cy4ouf",!0)},m(e,s){U(e,a,s)},p(e,s){Ce(a,l=de(P,[{d:g},{"vector-effect":"non-scaling-stroke"},s&128&&e[7]])),W(a,"highlight",e[6]),W(a,"cpeum-1cy4ouf",!0)},d(e){e&&D(a)}}}function mi(d){let a,g,P=[{points:g=J/2+" "+He+", "+He+" "+(J-d[8])+", "+(J-He)+" "+(J-d[8])},d[7]],l={};for(let e=0;e<P.length;e+=1)l=Y(l,P[e]);return{c(){a=Re("polygon"),this.h()},l(e){a=Fe(e,"polygon",{points:!0}),b(a).forEach(D),this.h()},h(){Ce(a,l),W(a,"highlight",d[6]),W(a,"cpeum-1cy4ouf",!0)},m(e,s){U(e,a,s)},p(e,s){Ce(a,l=de(P,[{points:g},s&128&&e[7]])),W(a,"highlight",e[6]),W(a,"cpeum-1cy4ouf",!0)},d(e){e&&D(a)}}}function di(d){let a,g,P,l,e=[{cx:g=J/2},{cy:P=J/2},{r:l=J/2-He},d[7]],s={};for(let i=0;i<e.length;i+=1)s=Y(s,e[i]);return{c(){a=Re("circle"),this.h()},l(i){a=Fe(i,"circle",{cx:!0,cy:!0,r:!0}),b(a).forEach(D),this.h()},h(){Ce(a,s),W(a,"highlight",d[6]),W(a,"cpeum-1cy4ouf",!0)},m(i,n){U(i,a,n)},p(i,n){Ce(a,s=de(e,[{cx:g},{cy:P},{r:l},n&128&&i[7]])),W(a,"highlight",i[6]),W(a,"cpeum-1cy4ouf",!0)},d(i){i&&D(a)}}}function pi(d){let a,g,P,l,e,s=[{rx:g=J/20},{ry:P=J/20},{x:d[8]},{y:d[8]},{width:l=J-2*d[8]},{height:e=J-2*d[8]},d[7]],i={};for(let n=0;n<s.length;n+=1)i=Y(i,s[n]);return{c(){a=Re("rect"),this.h()},l(n){a=Fe(n,"rect",{rx:!0,ry:!0,x:!0,y:!0,width:!0,height:!0}),b(a).forEach(D),this.h()},h(){Ce(a,i),W(a,"highlight",d[6]),W(a,"cpeum-1cy4ouf",!0)},m(n,h){U(n,a,h)},p(n,h){Ce(a,i=de(s,[{rx:g},{ry:P},{x:n[8]},{y:n[8]},{width:l},{height:e},h&128&&n[7]])),W(a,"highlight",n[6]),W(a,"cpeum-1cy4ouf",!0)},d(n){n&&D(a)}}}function pt(d){let a,g,P;return{c(){a=Re("text"),g=xe(d[4]),this.h()},l(l){a=Fe(l,"text",{"font-size":!0,"font-family":!0,"font-weight":!0,dy:!0,x:!0,y:!0,"text-anchor":!0,fill:!0,class:!0});var e=b(a);g=Pe(e,d[4]),e.forEach(D),this.h()},h(){O(a,"font-size",d[9]),O(a,"font-family","var(--font-display)"),O(a,"font-weight","600"),O(a,"dy",".3em"),O(a,"x","50%"),O(a,"y","50%"),O(a,"text-anchor","middle"),O(a,"fill",P=d[6]?d[3]:d[2]),O(a,"class","cpeum-1cy4ouf")},m(l,e){U(l,a,e),Z(a,g)},p(l,e){e&16&&Le(g,l[4]),e&76&&P!==(P=l[6]?l[3]:l[2])&&O(a,"fill",P)},d(l){l&&D(a)}}}function yi(d){let a;function g(e,s){return e[1]?ci:hi}let P=g(d),l=P(d);return{c(){l.c(),a=_e()},l(e){l.l(e),a=_e()},m(e,s){l.m(e,s),U(e,a,s)},p(e,[s]){P===(P=g(e))&&l?l.p(e,s):(l.d(1),l=P(e),l&&(l.c(),l.m(a.parentNode,a)))},i:Ve,o:Ve,d(e){l.d(e),e&&D(a)}}}const J=50,He=5;function xi(d,a,g){const P=["shape","src","color","colorHighlight","label","opacity","fill","fillHighlight","stroke","strokeHighlight","strokeWidth","strokeWidthHighlight","strokeType","strokeDashArray","highlight"];let l=ge(a,P),{shape:e="circle"}=a,{src:s=null}=a,{color:i="var(--dark1)"}=a,{colorHighlight:n=i}=a,{label:h=null}=a,{opacity:o=1}=a,{fill:f="none"}=a,{fillHighlight:r=f}=a,{stroke:t="none"}=a,{strokeHighlight:u=t}=a,{strokeWidth:c=1}=a,{strokeWidthHighlight:m=c}=a,{strokeType:x="solid"}=a,{strokeDashArray:w=void 0}=a,{highlight:k=!1}=a;const v=He*1.5,p=J/2.2,S=x==="dashed"?`${3*c}, ${1.5*c}`:x==="dotted"?`0, ${2*c}`:null;let y;return d.$$set=C=>{a=Y(Y({},a),We(C)),g(10,l=ge(a,P)),"shape"in C&&g(0,e=C.shape),"src"in C&&g(1,s=C.src),"color"in C&&g(2,i=C.color),"colorHighlight"in C&&g(3,n=C.colorHighlight),"label"in C&&g(4,h=C.label),"opacity"in C&&g(5,o=C.opacity),"fill"in C&&g(11,f=C.fill),"fillHighlight"in C&&g(12,r=C.fillHighlight),"stroke"in C&&g(13,t=C.stroke),"strokeHighlight"in C&&g(14,u=C.strokeHighlight),"strokeWidth"in C&&g(15,c=C.strokeWidth),"strokeWidthHighlight"in C&&g(16,m=C.strokeWidthHighlight),"strokeType"in C&&g(17,x=C.strokeType),"strokeDashArray"in C&&g(18,w=C.strokeDashArray),"highlight"in C&&g(6,k=C.highlight)},d.$$.update=()=>{d.$$.dirty&391233&&g(7,y={fill:k?r:f,stroke:k?u:t,"stroke-width":k?m:c,"stroke-linecap":e==="dashed"?"butt":"round","stroke-dasharray":w||S||""})},[e,s,i,n,h,o,k,y,v,p,l,f,r,t,u,c,m,x,w]}class Et extends te{constructor(a){super(),ie(this,a,xi,yi,ne,{shape:0,src:1,color:2,colorHighlight:3,label:4,opacity:5,fill:11,fillHighlight:12,stroke:13,strokeHighlight:14,strokeWidth:15,strokeWidthHighlight:16,strokeType:17,strokeDashArray:18,highlight:6})}}function yt(d){let a,g,P,l,e,s;return g=new Et({props:{src:d[1],label:d[0],color:d[3],fill:d[4],colorHighlight:d[6],fillHighlight:d[7],shape:d[2],stroke:d[5],strokeWidth:d[8],strokeType:d[9],interactive:d[10],highlight:d[11]||d[13]==d[17]}}),{c(){a=_("div"),Ie(g.$$.fragment),this.h()},l(i){a=K(i,"DIV",{class:!0});var n=b(a);Ee(g.$$.fragment,n),n.forEach(D),this.h()},h(){O(a,"class","inner cpeum-14l5ajh"),W(a,"highlight",d[11]||d[13]==d[17])},m(i,n){U(i,a,n),Te(g,a,null),l=!0,e||(s=[ee(a,"mouseenter",d[23]),ee(a,"mouseleave",d[24])],e=!0)},p(i,n){d=i;const h={};n[0]&2&&(h.src=d[1]),n[0]&1&&(h.label=d[0]),n[0]&8&&(h.color=d[3]),n[0]&16&&(h.fill=d[4]),n[0]&64&&(h.colorHighlight=d[6]),n[0]&128&&(h.fillHighlight=d[7]),n[0]&4&&(h.shape=d[2]),n[0]&32&&(h.stroke=d[5]),n[0]&256&&(h.strokeWidth=d[8]),n[0]&512&&(h.strokeType=d[9]),n[0]&1024&&(h.interactive=d[10]),n[0]&141312&&(h.highlight=d[11]||d[13]==d[17]),g.$set(h),(!l||n[0]&141312)&&W(a,"highlight",d[11]||d[13]==d[17])},i(i){l||(Q(g.$$.fragment,i),P||Qe(()=>{P=Rt(a,zt,{y:15,duration:1e3,easing:Ot,delay:d[20]*150+500}),P.start()}),l=!0)},o(i){X(g.$$.fragment,i),l=!1},d(i){i&&D(a),Ae(g),e=!1,De(s)}}}function Si(d){let a,g,P=`${d[14]}px`,l,e=(d[12]&&!d[22]||d[22]&&d[19])&&yt(d),s=[{class:"outer"},d[25],{style:g=(d[15]?`transform: translate(-50%, -50%); left: ${d[15]}%;`:"")+" "+(d[16]?`top: ${d[16]}%;`:"")}],i={};for(let n=0;n<s.length;n+=1)i=Y(i,s[n]);return{c(){a=_("div"),e&&e.c(),this.h()},l(n){a=K(n,"DIV",{class:!0,style:!0});var h=b(a);e&&e.l(h),h.forEach(D),this.h()},h(){he(a,i),G(a,"font-size",P),W(a,"cpeum-14l5ajh",!0)},m(n,h){U(n,a,h),e&&e.m(a,null),d[29](a),l=!0},p(n,h){n[12]&&!n[22]||n[22]&&n[19]?e?(e.p(n,h),h[0]&528384&&Q(e,1)):(e=yt(n),e.c(),Q(e,1),e.m(a,null)):e&&(St(),X(e,1,1,()=>{e=null}),Pt()),he(a,i=de(s,[{class:"outer"},h[0]&33554432&&n[25],(!l||h[0]&98304&&g!==(g=(n[15]?`transform: translate(-50%, -50%); left: ${n[15]}%;`:"")+" "+(n[16]?`top: ${n[16]}%;`:"")))&&{style:g}])),h[0]&114688&&(P=`${n[14]}px`),G(a,"font-size",P),W(a,"cpeum-14l5ajh",!0)},i(n){l||(Q(e),l=!0)},o(n){X(e),l=!1},d(n){n&&D(a),e&&e.d(),d[29](null)}}}function Pi(d,a,g){const P=["label","src","shape","color","fill","stroke","colorHighlight","fillHighlight","strokeHighlight","strokeWidth","strokeType","interactive","highlight","active","key","size","lnglat","zoom","x","y"];let l=ge(a,P),e,s,{label:i}=a,{src:n=null}=a,{shape:h="circle"}=a,{color:o="var(--accent3)"}=a,{fill:f="var(--light1)"}=a,{stroke:r="none"}=a,{colorHighlight:t=void 0}=a,{fillHighlight:u=void 0}=a,{strokeHighlight:c=void 0}=a,{strokeWidth:m=1}=a,{strokeType:x="solid"}=a,{interactive:w=!0}=a,{highlight:k=!1}=a,{active:v=!0}=a,{key:p=i}=a,{size:S=40}=a,{lnglat:y=null}=a,{zoom:C=16}=a,{x:M=null}=a,{y:E=null}=a,I;pe("figure");const T=pe("figuremap"),B=pe("markers"),H=B?B.getIndex():0,L=pe("currentKey");me(d,L,A=>g(17,e=A));const R=T?T.active:null;me(d,R,A=>g(19,s=A));function F(){L.set(p)}function z(){L.set(null)}$e(()=>{T&&new Wt.exports.Marker({element:I,anchor:"center"}).setLngLat(y).addTo(ce)}),qe(()=>{});function V(A){et[A?"unshift":"push"](()=>{I=A,g(18,I)})}return d.$$set=A=>{a=Y(Y({},a),We(A)),g(25,l=ge(a,P)),"label"in A&&g(0,i=A.label),"src"in A&&g(1,n=A.src),"shape"in A&&g(2,h=A.shape),"color"in A&&g(3,o=A.color),"fill"in A&&g(4,f=A.fill),"stroke"in A&&g(5,r=A.stroke),"colorHighlight"in A&&g(6,t=A.colorHighlight),"fillHighlight"in A&&g(7,u=A.fillHighlight),"strokeHighlight"in A&&g(26,c=A.strokeHighlight),"strokeWidth"in A&&g(8,m=A.strokeWidth),"strokeType"in A&&g(9,x=A.strokeType),"interactive"in A&&g(10,w=A.interactive),"highlight"in A&&g(11,k=A.highlight),"active"in A&&g(12,v=A.active),"key"in A&&g(13,p=A.key),"size"in A&&g(14,S=A.size),"lnglat"in A&&g(27,y=A.lnglat),"zoom"in A&&g(28,C=A.zoom),"x"in A&&g(15,M=A.x),"y"in A&&g(16,E=A.y)},d.$$.update=()=>{d.$$.dirty[0]&402792448&&T&&y&&L&&e===p&&Be.set({center:{point:y,zoom:C}})},[i,n,h,o,f,r,t,u,m,x,w,k,v,p,S,M,E,e,I,s,H,L,R,F,z,l,c,y,C,V]}class un extends te{constructor(a){super(),ie(this,a,Pi,Si,ne,{label:0,src:1,shape:2,color:3,fill:4,stroke:5,colorHighlight:6,fillHighlight:7,strokeHighlight:26,strokeWidth:8,strokeType:9,interactive:10,highlight:11,active:12,key:13,size:14,lnglat:27,zoom:28,x:15,y:16},null,[-1,-1])}}function Ci(d){let a;return{c(){a=xe("Pr\xE9f\xE9rences d'am\xE9nagement des citoyens et des acteurs du milieu")},l(g){a=Pe(g,"Pr\xE9f\xE9rences d'am\xE9nagement des citoyens et des acteurs du milieu")},m(g,P){U(g,a,P)},d(g){g&&D(a)}}}function Mi(d){let a,g,P,l;g=new Je({props:{$$slots:{default:[Ci]},$$scope:{ctx:d}}});const e=d[0].default,s=ae(e,d,d[1],null);return{c(){a=_("section"),Ie(g.$$.fragment),P=ye(),s&&s.c()},l(i){a=K(i,"SECTION",{});var n=b(a);Ee(g.$$.fragment,n),P=Se(n),s&&s.l(n),n.forEach(D)},m(i,n){U(i,a,n),Te(g,a,null),Z(a,P),s&&s.m(a,null),l=!0},p(i,[n]){const h={};n&2&&(h.$$scope={dirty:n,ctx:i}),g.$set(h),s&&s.p&&(!l||n&2)&&oe(s,e,i,i[1],l?fe(e,i[1],n,null):le(i[1]),null)},i(i){l||(Q(g.$$.fragment,i),Q(s,i),l=!0)},o(i){X(g.$$.fragment,i),X(s,i),l=!1},d(i){i&&D(a),Ae(g),s&&s.d(i)}}}function ki(d,a,g){let{$$slots:P={},$$scope:l}=a;return d.$$set=e=>{"$$scope"in e&&g(1,l=e.$$scope)},[P,l]}class cn extends te{constructor(a){super(),ie(this,a,ki,Mi,ne,{})}}function wi(d){let a;return{c(){a=xe("Propositions d'am\xE9nagement")},l(g){a=Pe(g,"Propositions d'am\xE9nagement")},m(g,P){U(g,a,P)},d(g){g&&D(a)}}}function Ii(d){let a,g,P,l;g=new Je({props:{$$slots:{default:[wi]},$$scope:{ctx:d}}});const e=d[0].default,s=ae(e,d,d[1],null);return{c(){a=_("section"),Ie(g.$$.fragment),P=ye(),s&&s.c()},l(i){a=K(i,"SECTION",{});var n=b(a);Ee(g.$$.fragment,n),P=Se(n),s&&s.l(n),n.forEach(D)},m(i,n){U(i,a,n),Te(g,a,null),Z(a,P),s&&s.m(a,null),l=!0},p(i,[n]){const h={};n&2&&(h.$$scope={dirty:n,ctx:i}),g.$set(h),s&&s.p&&(!l||n&2)&&oe(s,e,i,i[1],l?fe(e,i[1],n,null):le(i[1]),null)},i(i){l||(Q(g.$$.fragment,i),Q(s,i),l=!0)},o(i){X(g.$$.fragment,i),X(s,i),l=!1},d(i){i&&D(a),Ae(g),s&&s.d(i)}}}function Ei(d,a,g){let{$$slots:P={},$$scope:l}=a;return d.$$set=e=>{"$$scope"in e&&g(1,l=e.$$scope)},[P,l]}class hn extends te{constructor(a){super(),ie(this,a,Ei,Ii,ne,{})}}function Ti(d){let a,g,P,l,e,s,i,n;P=new Et({props:{style:"transform: scale("+d[5]+")",label:d[1],color:d[6],fill:d[8],stroke:d[9],opacity:d[7],strokeWidth:d[10],colorHighlight:d[12],fillHighlight:d[13],strokeHighlight:d[14],strokeWidthHighlight:d[15],src:d[16],shape:d[4],interactive:d[0],highlight:d[3],strokeDashArray:d[11]}});const h=d[27].default,o=ae(h,d,d[26],null);return{c(){a=_("div"),g=_("dt"),Ie(P.$$.fragment),l=ye(),e=_("dd"),o&&o.c(),this.h()},l(f){a=K(f,"DIV",{class:!0});var r=b(a);g=K(r,"DT",{class:!0});var t=b(g);Ee(P.$$.fragment,t),t.forEach(D),l=Se(r),e=K(r,"DD",{class:!0});var u=b(e);o&&o.l(u),u.forEach(D),r.forEach(D),this.h()},h(){O(g,"class","cpeum-johpni"),O(e,"class","cpeum-johpni"),O(a,"class","cpeum-johpni"),W(a,"interactive",d[0]),W(a,"highlight",d[3]||d[18]&&d[17]&&d[17]===d[2])},m(f,r){U(f,a,r),Z(a,g),Te(P,g,null),Z(a,l),Z(a,e),o&&o.m(e,null),s=!0,i||(n=[ee(a,"mouseover",d[28]),ee(a,"mouseleave",d[29]),ee(a,"mouseover",d[19]),ee(a,"mouseleave",d[20]),ee(a,"focus",d[30])],i=!0)},p(f,r){const t={};r[0]&32&&(t.style="transform: scale("+f[5]+")"),r[0]&2&&(t.label=f[1]),r[0]&64&&(t.color=f[6]),r[0]&256&&(t.fill=f[8]),r[0]&512&&(t.stroke=f[9]),r[0]&128&&(t.opacity=f[7]),r[0]&1024&&(t.strokeWidth=f[10]),r[0]&4096&&(t.colorHighlight=f[12]),r[0]&8192&&(t.fillHighlight=f[13]),r[0]&16384&&(t.strokeHighlight=f[14]),r[0]&32768&&(t.strokeWidthHighlight=f[15]),r[0]&65536&&(t.src=f[16]),r[0]&16&&(t.shape=f[4]),r[0]&1&&(t.interactive=f[0]),r[0]&8&&(t.highlight=f[3]),r[0]&2048&&(t.strokeDashArray=f[11]),P.$set(t),o&&o.p&&(!s||r[0]&67108864)&&oe(o,h,f,f[26],s?fe(h,f[26],r,null):le(f[26]),null),(!s||r[0]&1)&&W(a,"interactive",f[0]),(!s||r[0]&393228)&&W(a,"highlight",f[3]||f[18]&&f[17]&&f[17]===f[2])},i(f){s||(Q(P.$$.fragment,f),Q(o,f),s=!0)},o(f){X(P.$$.fragment,f),X(o,f),s=!1},d(f){f&&D(a),Ae(P),o&&o.d(f),i=!1,De(n)}}}function Ai(d,a,g){let P,{$$slots:l={},$$scope:e}=a,{label:s=void 0}=a,{key:i=void 0}=a,{dataKey:n=void 0}=a,{interactive:h=void 0}=a,{highlight:o=!1}=a,{shape:f="circle"}=a,{symbolScale:r=1}=a,{color:t="var(--light1)"}=a,{opacity:u=1}=a,{fill:c="var(--accent2)"}=a,{stroke:m=null}=a,{strokeWidth:x=0}=a,{strokeDashArray:w=void 0}=a,{colorHighlight:k=void 0}=a,{fillHighlight:v=void 0}=a,{strokeHighlight:p=void 0}=a,{strokeWidthHighlight:S=void 0}=a,{arrowEnd:y=!1}=a,{arrowStart:C=!1}=a,{src:M=void 0}=a,{lnglat:E=void 0}=a,{zoom:I=void 0}=a;const T=pe("currentKey");me(d,T,A=>g(17,P=A));const B=pe("currentDataKey"),H=pe("currentView");function L(){T&&i?T.set(i):H&&E?H.set({lnglat:E,zoom:I}):B&&n&&B.set(n)}function R(){T&&i?T.set(null):H&&E?H.set(null):B&&n&&B.set(null)}function F(A){Ye.call(this,d,A)}function z(A){Ye.call(this,d,A)}function V(A){Ye.call(this,d,A)}return d.$$set=A=>{"label"in A&&g(1,s=A.label),"key"in A&&g(2,i=A.key),"dataKey"in A&&g(21,n=A.dataKey),"interactive"in A&&g(0,h=A.interactive),"highlight"in A&&g(3,o=A.highlight),"shape"in A&&g(4,f=A.shape),"symbolScale"in A&&g(5,r=A.symbolScale),"color"in A&&g(6,t=A.color),"opacity"in A&&g(7,u=A.opacity),"fill"in A&&g(8,c=A.fill),"stroke"in A&&g(9,m=A.stroke),"strokeWidth"in A&&g(10,x=A.strokeWidth),"strokeDashArray"in A&&g(11,w=A.strokeDashArray),"colorHighlight"in A&&g(12,k=A.colorHighlight),"fillHighlight"in A&&g(13,v=A.fillHighlight),"strokeHighlight"in A&&g(14,p=A.strokeHighlight),"strokeWidthHighlight"in A&&g(15,S=A.strokeWidthHighlight),"arrowEnd"in A&&g(22,y=A.arrowEnd),"arrowStart"in A&&g(23,C=A.arrowStart),"src"in A&&g(16,M=A.src),"lnglat"in A&&g(24,E=A.lnglat),"zoom"in A&&g(25,I=A.zoom),"$$scope"in A&&g(26,e=A.$$scope)},d.$$.update=()=>{d.$$.dirty[0]&18874372&&(i||E||n)&&g(0,h=!0)},[h,s,i,o,f,r,t,u,c,m,x,w,k,v,p,S,M,P,T,L,R,n,y,C,E,I,e,l,F,z,V]}class gn extends te{constructor(a){super(),ie(this,a,Ai,Ti,ne,{label:1,key:2,dataKey:21,interactive:0,highlight:3,shape:4,symbolScale:5,color:6,opacity:7,fill:8,stroke:9,strokeWidth:10,strokeDashArray:11,colorHighlight:12,fillHighlight:13,strokeHighlight:14,strokeWidthHighlight:15,arrowEnd:22,arrowStart:23,src:16,lnglat:24,zoom:25},null,[-1,-1])}}function Bi(d){let a,g,P,l;const e=d[2].default,s=ae(e,d,d[1],null);return{c(){a=_("div"),s&&s.c(),this.h()},l(i){a=K(i,"DIV",{style:!0,class:!0});var n=b(a);s&&s.l(n),n.forEach(D),this.h()},h(){O(a,"style",g=gt(d[0])),O(a,"class","cpeum-1sqjp0y")},m(i,n){U(i,a,n),s&&s.m(a,null),l=!0},p(i,[n]){s&&s.p&&(!l||n&2)&&oe(s,e,i,i[1],l?fe(e,i[1],n,null):le(i[1]),null),(!l||n&1&&g!==(g=gt(i[0])))&&O(a,"style",g)},i(i){l||(Q(s,i),Qe(()=>{!l||(P||(P=ut(a,ht,{},!0)),P.run(1))}),l=!0)},o(i){X(s,i),P||(P=ut(a,ht,{},!1)),P.run(0),l=!1},d(i){i&&D(a),s&&s.d(i),i&&P&&P.end()}}}function Hi(d,a,g){let{$$slots:P={},$$scope:l}=a,{key:e}=a;return ke("exercice",e),d.$$set=s=>{"key"in s&&g(0,e=s.key),"$$scope"in s&&g(1,l=s.$$scope)},[e,l,P]}class vn extends te{constructor(a){super(),ie(this,a,Hi,Bi,ne,{key:0})}}var tt={exports:{}};/*!
 * matter-js 0.18.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(d,a){(function(P,l){d.exports=l()})(Ue,function(){return function(g){var P={};function l(e){if(P[e])return P[e].exports;var s=P[e]={i:e,l:!1,exports:{}};return g[e].call(s.exports,s,s.exports,l),s.l=!0,s.exports}return l.m=g,l.c=P,l.d=function(e,s,i){l.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:i})},l.r=function(e){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,s){if(s&1&&(e=l(e)),s&8||s&4&&typeof e=="object"&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),s&2&&typeof e!="string")for(var n in e)l.d(i,n,function(h){return e[h]}.bind(null,n));return i},l.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(s,"a",s),s},l.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},l.p="",l(l.s=21)}([function(g,P){var l={};g.exports=l,function(){l._nextId=0,l._seed=0,l._nowStartTime=+new Date,l._warnedOnce={},l._decomp=null,l.extend=function(s,i){var n,h;typeof i=="boolean"?(n=2,h=i):(n=1,h=!0);for(var o=n;o<arguments.length;o++){var f=arguments[o];if(f)for(var r in f)h&&f[r]&&f[r].constructor===Object&&(!s[r]||s[r].constructor===Object)?(s[r]=s[r]||{},l.extend(s[r],h,f[r])):s[r]=f[r]}return s},l.clone=function(s,i){return l.extend({},i,s)},l.keys=function(s){if(Object.keys)return Object.keys(s);var i=[];for(var n in s)i.push(n);return i},l.values=function(s){var i=[];if(Object.keys){for(var n=Object.keys(s),h=0;h<n.length;h++)i.push(s[n[h]]);return i}for(var o in s)i.push(s[o]);return i},l.get=function(s,i,n,h){i=i.split(".").slice(n,h);for(var o=0;o<i.length;o+=1)s=s[i[o]];return s},l.set=function(s,i,n,h,o){var f=i.split(".").slice(h,o);return l.get(s,i,0,-1)[f[f.length-1]]=n,n},l.shuffle=function(s){for(var i=s.length-1;i>0;i--){var n=Math.floor(l.random()*(i+1)),h=s[i];s[i]=s[n],s[n]=h}return s},l.choose=function(s){return s[Math.floor(l.random()*s.length)]},l.isElement=function(s){return typeof HTMLElement!="undefined"?s instanceof HTMLElement:!!(s&&s.nodeType&&s.nodeName)},l.isArray=function(s){return Object.prototype.toString.call(s)==="[object Array]"},l.isFunction=function(s){return typeof s=="function"},l.isPlainObject=function(s){return typeof s=="object"&&s.constructor===Object},l.isString=function(s){return toString.call(s)==="[object String]"},l.clamp=function(s,i,n){return s<i?i:s>n?n:s},l.sign=function(s){return s<0?-1:1},l.now=function(){if(typeof window!="undefined"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-l._nowStartTime},l.random=function(s,i){return s=typeof s!="undefined"?s:0,i=typeof i!="undefined"?i:1,s+e()*(i-s)};var e=function(){return l._seed=(l._seed*9301+49297)%233280,l._seed/233280};l.colorToNumber=function(s){return s=s.replace("#",""),s.length==3&&(s=s.charAt(0)+s.charAt(0)+s.charAt(1)+s.charAt(1)+s.charAt(2)+s.charAt(2)),parseInt(s,16)},l.logLevel=1,l.log=function(){console&&l.logLevel>0&&l.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.info=function(){console&&l.logLevel>0&&l.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.warn=function(){console&&l.logLevel>0&&l.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.warnOnce=function(){var s=Array.prototype.slice.call(arguments).join(" ");l._warnedOnce[s]||(l.warn(s),l._warnedOnce[s]=!0)},l.deprecated=function(s,i,n){s[i]=l.chain(function(){l.warnOnce("\u{1F505} deprecated \u{1F505}",n)},s[i])},l.nextId=function(){return l._nextId++},l.indexOf=function(s,i){if(s.indexOf)return s.indexOf(i);for(var n=0;n<s.length;n++)if(s[n]===i)return n;return-1},l.map=function(s,i){if(s.map)return s.map(i);for(var n=[],h=0;h<s.length;h+=1)n.push(i(s[h]));return n},l.topologicalSort=function(s){var i=[],n=[],h=[];for(var o in s)!n[o]&&!h[o]&&l._topologicalSort(o,n,h,s,i);return i},l._topologicalSort=function(s,i,n,h,o){var f=h[s]||[];n[s]=!0;for(var r=0;r<f.length;r+=1){var t=f[r];n[t]||i[t]||l._topologicalSort(t,i,n,h,o)}n[s]=!1,i[s]=!0,o.push(s)},l.chain=function(){for(var s=[],i=0;i<arguments.length;i+=1){var n=arguments[i];n._chained?s.push.apply(s,n._chained):s.push(n)}var h=function(){for(var o,f=new Array(arguments.length),r=0,t=arguments.length;r<t;r++)f[r]=arguments[r];for(r=0;r<s.length;r+=1){var u=s[r].apply(o,f);typeof u!="undefined"&&(o=u)}return o};return h._chained=s,h},l.chainPathBefore=function(s,i,n){return l.set(s,i,l.chain(n,l.get(s,i)))},l.chainPathAfter=function(s,i,n){return l.set(s,i,l.chain(l.get(s,i),n))},l.setDecomp=function(s){l._decomp=s},l.getDecomp=function(){var s=l._decomp;try{!s&&typeof window!="undefined"&&(s=window.decomp),!s&&typeof Ue!="undefined"&&(s=Ue.decomp)}catch{s=null}return s}}()},function(g,P){var l={};g.exports=l,function(){l.create=function(e){var s={min:{x:0,y:0},max:{x:0,y:0}};return e&&l.update(s,e),s},l.update=function(e,s,i){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var n=0;n<s.length;n++){var h=s[n];h.x>e.max.x&&(e.max.x=h.x),h.x<e.min.x&&(e.min.x=h.x),h.y>e.max.y&&(e.max.y=h.y),h.y<e.min.y&&(e.min.y=h.y)}i&&(i.x>0?e.max.x+=i.x:e.min.x+=i.x,i.y>0?e.max.y+=i.y:e.min.y+=i.y)},l.contains=function(e,s){return s.x>=e.min.x&&s.x<=e.max.x&&s.y>=e.min.y&&s.y<=e.max.y},l.overlaps=function(e,s){return e.min.x<=s.max.x&&e.max.x>=s.min.x&&e.max.y>=s.min.y&&e.min.y<=s.max.y},l.translate=function(e,s){e.min.x+=s.x,e.max.x+=s.x,e.min.y+=s.y,e.max.y+=s.y},l.shift=function(e,s){var i=e.max.x-e.min.x,n=e.max.y-e.min.y;e.min.x=s.x,e.max.x=s.x+i,e.min.y=s.y,e.max.y=s.y+n}}()},function(g,P){var l={};g.exports=l,function(){l.create=function(e,s){return{x:e||0,y:s||0}},l.clone=function(e){return{x:e.x,y:e.y}},l.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},l.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},l.rotate=function(e,s,i){var n=Math.cos(s),h=Math.sin(s);i||(i={});var o=e.x*n-e.y*h;return i.y=e.x*h+e.y*n,i.x=o,i},l.rotateAbout=function(e,s,i,n){var h=Math.cos(s),o=Math.sin(s);n||(n={});var f=i.x+((e.x-i.x)*h-(e.y-i.y)*o);return n.y=i.y+((e.x-i.x)*o+(e.y-i.y)*h),n.x=f,n},l.normalise=function(e){var s=l.magnitude(e);return s===0?{x:0,y:0}:{x:e.x/s,y:e.y/s}},l.dot=function(e,s){return e.x*s.x+e.y*s.y},l.cross=function(e,s){return e.x*s.y-e.y*s.x},l.cross3=function(e,s,i){return(s.x-e.x)*(i.y-e.y)-(s.y-e.y)*(i.x-e.x)},l.add=function(e,s,i){return i||(i={}),i.x=e.x+s.x,i.y=e.y+s.y,i},l.sub=function(e,s,i){return i||(i={}),i.x=e.x-s.x,i.y=e.y-s.y,i},l.mult=function(e,s){return{x:e.x*s,y:e.y*s}},l.div=function(e,s){return{x:e.x/s,y:e.y/s}},l.perp=function(e,s){return s=s===!0?-1:1,{x:s*-e.y,y:s*e.x}},l.neg=function(e){return{x:-e.x,y:-e.y}},l.angle=function(e,s){return Math.atan2(s.y-e.y,s.x-e.x)},l._temp=[l.create(),l.create(),l.create(),l.create(),l.create(),l.create()]}()},function(g,P,l){var e={};g.exports=e;var s=l(2),i=l(0);(function(){e.create=function(n,h){for(var o=[],f=0;f<n.length;f++){var r=n[f],t={x:r.x,y:r.y,index:f,body:h,isInternal:!1};o.push(t)}return o},e.fromPath=function(n,h){var o=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,f=[];return n.replace(o,function(r,t,u){f.push({x:parseFloat(t),y:parseFloat(u)})}),e.create(f,h)},e.centre=function(n){for(var h=e.area(n,!0),o={x:0,y:0},f,r,t,u=0;u<n.length;u++)t=(u+1)%n.length,f=s.cross(n[u],n[t]),r=s.mult(s.add(n[u],n[t]),f),o=s.add(o,r);return s.div(o,6*h)},e.mean=function(n){for(var h={x:0,y:0},o=0;o<n.length;o++)h.x+=n[o].x,h.y+=n[o].y;return s.div(h,n.length)},e.area=function(n,h){for(var o=0,f=n.length-1,r=0;r<n.length;r++)o+=(n[f].x-n[r].x)*(n[f].y+n[r].y),f=r;return h?o/2:Math.abs(o)/2},e.inertia=function(n,h){for(var o=0,f=0,r=n,t,u,c=0;c<r.length;c++)u=(c+1)%r.length,t=Math.abs(s.cross(r[u],r[c])),o+=t*(s.dot(r[u],r[u])+s.dot(r[u],r[c])+s.dot(r[c],r[c])),f+=t;return h/6*(o/f)},e.translate=function(n,h,o){o=typeof o!="undefined"?o:1;var f=n.length,r=h.x*o,t=h.y*o,u;for(u=0;u<f;u++)n[u].x+=r,n[u].y+=t;return n},e.rotate=function(n,h,o){if(h!==0){var f=Math.cos(h),r=Math.sin(h),t=o.x,u=o.y,c=n.length,m,x,w,k;for(k=0;k<c;k++)m=n[k],x=m.x-t,w=m.y-u,m.x=t+(x*f-w*r),m.y=u+(x*r+w*f);return n}},e.contains=function(n,h){for(var o=h.x,f=h.y,r=n.length,t=n[r-1],u,c=0;c<r;c++){if(u=n[c],(o-t.x)*(u.y-t.y)+(f-t.y)*(t.x-u.x)>0)return!1;t=u}return!0},e.scale=function(n,h,o,f){if(h===1&&o===1)return n;f=f||e.centre(n);for(var r,t,u=0;u<n.length;u++)r=n[u],t=s.sub(r,f),n[u].x=f.x+t.x*h,n[u].y=f.y+t.y*o;return n},e.chamfer=function(n,h,o,f,r){typeof h=="number"?h=[h]:h=h||[8],o=typeof o!="undefined"?o:-1,f=f||2,r=r||14;for(var t=[],u=0;u<n.length;u++){var c=n[u-1>=0?u-1:n.length-1],m=n[u],x=n[(u+1)%n.length],w=h[u<h.length?u:h.length-1];if(w===0){t.push(m);continue}var k=s.normalise({x:m.y-c.y,y:c.x-m.x}),v=s.normalise({x:x.y-m.y,y:m.x-x.x}),p=Math.sqrt(2*Math.pow(w,2)),S=s.mult(i.clone(k),w),y=s.normalise(s.mult(s.add(k,v),.5)),C=s.sub(m,s.mult(y,p)),M=o;o===-1&&(M=Math.pow(w,.32)*1.75),M=i.clamp(M,f,r),M%2===1&&(M+=1);for(var E=Math.acos(s.dot(k,v)),I=E/M,T=0;T<M;T++)t.push(s.add(s.rotate(S,I*T),C))}return t},e.clockwiseSort=function(n){var h=e.mean(n);return n.sort(function(o,f){return s.angle(h,o)-s.angle(h,f)}),n},e.isConvex=function(n){var h=0,o=n.length,f,r,t,u;if(o<3)return null;for(f=0;f<o;f++)if(r=(f+1)%o,t=(f+2)%o,u=(n[r].x-n[f].x)*(n[t].y-n[r].y),u-=(n[r].y-n[f].y)*(n[t].x-n[r].x),u<0?h|=1:u>0&&(h|=2),h===3)return!1;return h!==0?!0:null},e.hull=function(n){var h=[],o=[],f,r;for(n=n.slice(0),n.sort(function(t,u){var c=t.x-u.x;return c!==0?c:t.y-u.y}),r=0;r<n.length;r+=1){for(f=n[r];o.length>=2&&s.cross3(o[o.length-2],o[o.length-1],f)<=0;)o.pop();o.push(f)}for(r=n.length-1;r>=0;r-=1){for(f=n[r];h.length>=2&&s.cross3(h[h.length-2],h[h.length-1],f)<=0;)h.pop();h.push(f)}return h.pop(),o.pop(),h.concat(o)}})()},function(g,P,l){var e={};g.exports=e;var s=l(0);(function(){e.on=function(i,n,h){for(var o=n.split(" "),f,r=0;r<o.length;r++)f=o[r],i.events=i.events||{},i.events[f]=i.events[f]||[],i.events[f].push(h);return h},e.off=function(i,n,h){if(!n){i.events={};return}typeof n=="function"&&(h=n,n=s.keys(i.events).join(" "));for(var o=n.split(" "),f=0;f<o.length;f++){var r=i.events[o[f]],t=[];if(h&&r)for(var u=0;u<r.length;u++)r[u]!==h&&t.push(r[u]);i.events[o[f]]=t}},e.trigger=function(i,n,h){var o,f,r,t,u=i.events;if(u&&s.keys(u).length>0){h||(h={}),o=n.split(" ");for(var c=0;c<o.length;c++)if(f=o[c],r=u[f],r){t=s.clone(h,!1),t.name=f,t.source=i;for(var m=0;m<r.length;m++)r[m].apply(i,[t])}}}})()},function(g,P,l){var e={};g.exports=e;var s=l(4),i=l(0),n=l(1),h=l(6);(function(){e.create=function(o){return i.extend({id:i.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},o)},e.setModified=function(o,f,r,t){if(o.isModified=f,f&&o.cache&&(o.cache.allBodies=null,o.cache.allConstraints=null,o.cache.allComposites=null),r&&o.parent&&e.setModified(o.parent,f,r,t),t)for(var u=0;u<o.composites.length;u++){var c=o.composites[u];e.setModified(c,f,r,t)}},e.add=function(o,f){var r=[].concat(f);s.trigger(o,"beforeAdd",{object:f});for(var t=0;t<r.length;t++){var u=r[t];switch(u.type){case"body":if(u.parent!==u){i.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(o,u);break;case"constraint":e.addConstraint(o,u);break;case"composite":e.addComposite(o,u);break;case"mouseConstraint":e.addConstraint(o,u.constraint);break}}return s.trigger(o,"afterAdd",{object:f}),o},e.remove=function(o,f,r){var t=[].concat(f);s.trigger(o,"beforeRemove",{object:f});for(var u=0;u<t.length;u++){var c=t[u];switch(c.type){case"body":e.removeBody(o,c,r);break;case"constraint":e.removeConstraint(o,c,r);break;case"composite":e.removeComposite(o,c,r);break;case"mouseConstraint":e.removeConstraint(o,c.constraint);break}}return s.trigger(o,"afterRemove",{object:f}),o},e.addComposite=function(o,f){return o.composites.push(f),f.parent=o,e.setModified(o,!0,!0,!1),o},e.removeComposite=function(o,f,r){var t=i.indexOf(o.composites,f);if(t!==-1&&e.removeCompositeAt(o,t),r)for(var u=0;u<o.composites.length;u++)e.removeComposite(o.composites[u],f,!0);return o},e.removeCompositeAt=function(o,f){return o.composites.splice(f,1),e.setModified(o,!0,!0,!1),o},e.addBody=function(o,f){return o.bodies.push(f),e.setModified(o,!0,!0,!1),o},e.removeBody=function(o,f,r){var t=i.indexOf(o.bodies,f);if(t!==-1&&e.removeBodyAt(o,t),r)for(var u=0;u<o.composites.length;u++)e.removeBody(o.composites[u],f,!0);return o},e.removeBodyAt=function(o,f){return o.bodies.splice(f,1),e.setModified(o,!0,!0,!1),o},e.addConstraint=function(o,f){return o.constraints.push(f),e.setModified(o,!0,!0,!1),o},e.removeConstraint=function(o,f,r){var t=i.indexOf(o.constraints,f);if(t!==-1&&e.removeConstraintAt(o,t),r)for(var u=0;u<o.composites.length;u++)e.removeConstraint(o.composites[u],f,!0);return o},e.removeConstraintAt=function(o,f){return o.constraints.splice(f,1),e.setModified(o,!0,!0,!1),o},e.clear=function(o,f,r){if(r)for(var t=0;t<o.composites.length;t++)e.clear(o.composites[t],f,!0);return f?o.bodies=o.bodies.filter(function(u){return u.isStatic}):o.bodies.length=0,o.constraints.length=0,o.composites.length=0,e.setModified(o,!0,!0,!1),o},e.allBodies=function(o){if(o.cache&&o.cache.allBodies)return o.cache.allBodies;for(var f=[].concat(o.bodies),r=0;r<o.composites.length;r++)f=f.concat(e.allBodies(o.composites[r]));return o.cache&&(o.cache.allBodies=f),f},e.allConstraints=function(o){if(o.cache&&o.cache.allConstraints)return o.cache.allConstraints;for(var f=[].concat(o.constraints),r=0;r<o.composites.length;r++)f=f.concat(e.allConstraints(o.composites[r]));return o.cache&&(o.cache.allConstraints=f),f},e.allComposites=function(o){if(o.cache&&o.cache.allComposites)return o.cache.allComposites;for(var f=[].concat(o.composites),r=0;r<o.composites.length;r++)f=f.concat(e.allComposites(o.composites[r]));return o.cache&&(o.cache.allComposites=f),f},e.get=function(o,f,r){var t,u;switch(r){case"body":t=e.allBodies(o);break;case"constraint":t=e.allConstraints(o);break;case"composite":t=e.allComposites(o).concat(o);break}return t?(u=t.filter(function(c){return c.id.toString()===f.toString()}),u.length===0?null:u[0]):null},e.move=function(o,f,r){return e.remove(o,f),e.add(r,f),o},e.rebase=function(o){for(var f=e.allBodies(o).concat(e.allConstraints(o)).concat(e.allComposites(o)),r=0;r<f.length;r++)f[r].id=i.nextId();return o},e.translate=function(o,f,r){for(var t=r?e.allBodies(o):o.bodies,u=0;u<t.length;u++)h.translate(t[u],f);return o},e.rotate=function(o,f,r,t){for(var u=Math.cos(f),c=Math.sin(f),m=t?e.allBodies(o):o.bodies,x=0;x<m.length;x++){var w=m[x],k=w.position.x-r.x,v=w.position.y-r.y;h.setPosition(w,{x:r.x+(k*u-v*c),y:r.y+(k*c+v*u)}),h.rotate(w,f)}return o},e.scale=function(o,f,r,t,u){for(var c=u?e.allBodies(o):o.bodies,m=0;m<c.length;m++){var x=c[m],w=x.position.x-t.x,k=x.position.y-t.y;h.setPosition(x,{x:t.x+w*f,y:t.y+k*r}),h.scale(x,f,r)}return o},e.bounds=function(o){for(var f=e.allBodies(o),r=[],t=0;t<f.length;t+=1){var u=f[t];r.push(u.bounds.min,u.bounds.max)}return n.create(r)}})()},function(g,P,l){var e={};g.exports=e;var s=l(3),i=l(2),n=l(7);l(16);var h=l(0),o=l(1),f=l(11);(function(){e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e.create=function(t){var u={id:h.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:s.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,_original:null},c=h.extend(u,t);return r(c,t),c},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var r=function(t,u){u=u||{},e.set(t,{bounds:t.bounds||o.create(t.vertices),positionPrev:t.positionPrev||i.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),s.rotate(t.vertices,t.angle,t.position),f.rotate(t.axes,t.angle),o.update(t.bounds,t.vertices,t.velocity),e.set(t,{axes:u.axes||t.axes,area:u.area||t.area,mass:u.mass||t.mass,inertia:u.inertia||t.inertia});var c=t.isStatic?"#14151f":h.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),m=t.isStatic?"#555":"#ccc",x=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||c,t.render.strokeStyle=t.render.strokeStyle||m,t.render.lineWidth=t.render.lineWidth||x,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};e.set=function(t,u,c){var m;typeof u=="string"&&(m=u,u={},u[m]=c);for(m in u)if(!!Object.prototype.hasOwnProperty.call(u,m))switch(c=u[m],m){case"isStatic":e.setStatic(t,c);break;case"isSleeping":n.set(t,c);break;case"mass":e.setMass(t,c);break;case"density":e.setDensity(t,c);break;case"inertia":e.setInertia(t,c);break;case"vertices":e.setVertices(t,c);break;case"position":e.setPosition(t,c);break;case"angle":e.setAngle(t,c);break;case"velocity":e.setVelocity(t,c);break;case"angularVelocity":e.setAngularVelocity(t,c);break;case"parts":e.setParts(t,c);break;case"centre":e.setCentre(t,c);break;default:t[m]=c}},e.setStatic=function(t,u){for(var c=0;c<t.parts.length;c++){var m=t.parts[c];m.isStatic=u,u?(m._original={restitution:m.restitution,friction:m.friction,mass:m.mass,inertia:m.inertia,density:m.density,inverseMass:m.inverseMass,inverseInertia:m.inverseInertia},m.restitution=0,m.friction=1,m.mass=m.inertia=m.density=1/0,m.inverseMass=m.inverseInertia=0,m.positionPrev.x=m.position.x,m.positionPrev.y=m.position.y,m.anglePrev=m.angle,m.angularVelocity=0,m.speed=0,m.angularSpeed=0,m.motion=0):m._original&&(m.restitution=m._original.restitution,m.friction=m._original.friction,m.mass=m._original.mass,m.inertia=m._original.inertia,m.density=m._original.density,m.inverseMass=m._original.inverseMass,m.inverseInertia=m._original.inverseInertia,m._original=null)}},e.setMass=function(t,u){var c=t.inertia/(t.mass/6);t.inertia=c*(u/6),t.inverseInertia=1/t.inertia,t.mass=u,t.inverseMass=1/t.mass,t.density=t.mass/t.area},e.setDensity=function(t,u){e.setMass(t,u*t.area),t.density=u},e.setInertia=function(t,u){t.inertia=u,t.inverseInertia=1/t.inertia},e.setVertices=function(t,u){u[0].body===t?t.vertices=u:t.vertices=s.create(u,t),t.axes=f.fromVertices(t.vertices),t.area=s.area(t.vertices),e.setMass(t,t.density*t.area);var c=s.centre(t.vertices);s.translate(t.vertices,c,-1),e.setInertia(t,e._inertiaScale*s.inertia(t.vertices,t.mass)),s.translate(t.vertices,t.position),o.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,u,c){var m;for(u=u.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,m=0;m<u.length;m++){var x=u[m];x!==t&&(x.parent=t,t.parts.push(x))}if(t.parts.length!==1){if(c=typeof c!="undefined"?c:!0,c){var w=[];for(m=0;m<u.length;m++)w=w.concat(u[m].vertices);s.clockwiseSort(w);var k=s.hull(w),v=s.centre(k);e.setVertices(t,k),s.translate(t.vertices,v)}var p=e._totalProperties(t);t.area=p.area,t.parent=t,t.position.x=p.centre.x,t.position.y=p.centre.y,t.positionPrev.x=p.centre.x,t.positionPrev.y=p.centre.y,e.setMass(t,p.mass),e.setInertia(t,p.inertia),e.setPosition(t,p.centre)}},e.setCentre=function(t,u,c){c?(t.positionPrev.x+=u.x,t.positionPrev.y+=u.y,t.position.x+=u.x,t.position.y+=u.y):(t.positionPrev.x=u.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=u.y-(t.position.y-t.positionPrev.y),t.position.x=u.x,t.position.y=u.y)},e.setPosition=function(t,u){var c=i.sub(u,t.position);t.positionPrev.x+=c.x,t.positionPrev.y+=c.y;for(var m=0;m<t.parts.length;m++){var x=t.parts[m];x.position.x+=c.x,x.position.y+=c.y,s.translate(x.vertices,c),o.update(x.bounds,x.vertices,t.velocity)}},e.setAngle=function(t,u){var c=u-t.angle;t.anglePrev+=c;for(var m=0;m<t.parts.length;m++){var x=t.parts[m];x.angle+=c,s.rotate(x.vertices,c,t.position),f.rotate(x.axes,c),o.update(x.bounds,x.vertices,t.velocity),m>0&&i.rotateAbout(x.position,c,t.position,x.position)}},e.setVelocity=function(t,u){t.positionPrev.x=t.position.x-u.x,t.positionPrev.y=t.position.y-u.y,t.velocity.x=u.x,t.velocity.y=u.y,t.speed=i.magnitude(t.velocity)},e.setAngularVelocity=function(t,u){t.anglePrev=t.angle-u,t.angularVelocity=u,t.angularSpeed=Math.abs(t.angularVelocity)},e.translate=function(t,u){e.setPosition(t,i.add(t.position,u))},e.rotate=function(t,u,c){if(!c)e.setAngle(t,t.angle+u);else{var m=Math.cos(u),x=Math.sin(u),w=t.position.x-c.x,k=t.position.y-c.y;e.setPosition(t,{x:c.x+(w*m-k*x),y:c.y+(w*x+k*m)}),e.setAngle(t,t.angle+u)}},e.scale=function(t,u,c,m){var x=0,w=0;m=m||t.position;for(var k=0;k<t.parts.length;k++){var v=t.parts[k];s.scale(v.vertices,u,c,m),v.axes=f.fromVertices(v.vertices),v.area=s.area(v.vertices),e.setMass(v,t.density*v.area),s.translate(v.vertices,{x:-v.position.x,y:-v.position.y}),e.setInertia(v,e._inertiaScale*s.inertia(v.vertices,v.mass)),s.translate(v.vertices,{x:v.position.x,y:v.position.y}),k>0&&(x+=v.area,w+=v.inertia),v.position.x=m.x+(v.position.x-m.x)*u,v.position.y=m.y+(v.position.y-m.y)*c,o.update(v.bounds,v.vertices,t.velocity)}t.parts.length>1&&(t.area=x,t.isStatic||(e.setMass(t,t.density*x),e.setInertia(t,w))),t.circleRadius&&(u===c?t.circleRadius*=u:t.circleRadius=null)},e.update=function(t,u,c,m){var x=Math.pow(u*c*t.timeScale,2),w=1-t.frictionAir*c*t.timeScale,k=t.position.x-t.positionPrev.x,v=t.position.y-t.positionPrev.y;t.velocity.x=k*w*m+t.force.x/t.mass*x,t.velocity.y=v*w*m+t.force.y/t.mass*x,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.angularVelocity=(t.angle-t.anglePrev)*w*m+t.torque/t.inertia*x,t.anglePrev=t.angle,t.angle+=t.angularVelocity,t.speed=i.magnitude(t.velocity),t.angularSpeed=Math.abs(t.angularVelocity);for(var p=0;p<t.parts.length;p++){var S=t.parts[p];s.translate(S.vertices,t.velocity),p>0&&(S.position.x+=t.velocity.x,S.position.y+=t.velocity.y),t.angularVelocity!==0&&(s.rotate(S.vertices,t.angularVelocity,t.position),f.rotate(S.axes,t.angularVelocity),p>0&&i.rotateAbout(S.position,t.angularVelocity,t.position,S.position)),o.update(S.bounds,S.vertices,t.velocity)}},e.applyForce=function(t,u,c){t.force.x+=c.x,t.force.y+=c.y;var m={x:u.x-t.position.x,y:u.y-t.position.y};t.torque+=m.x*c.y-m.y*c.x},e._totalProperties=function(t){for(var u={mass:0,area:0,inertia:0,centre:{x:0,y:0}},c=t.parts.length===1?0:1;c<t.parts.length;c++){var m=t.parts[c],x=m.mass!==1/0?m.mass:1;u.mass+=x,u.area+=m.area,u.inertia+=m.inertia,u.centre=i.add(u.centre,i.mult(m.position,x))}return u.centre=i.div(u.centre,u.mass),u}})()},function(g,P,l){var e={};g.exports=e;var s=l(4);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(i,n){for(var h=n*n*n,o=0;o<i.length;o++){var f=i[o],r=f.speed*f.speed+f.angularSpeed*f.angularSpeed;if(f.force.x!==0||f.force.y!==0){e.set(f,!1);continue}var t=Math.min(f.motion,r),u=Math.max(f.motion,r);f.motion=e._minBias*t+(1-e._minBias)*u,f.sleepThreshold>0&&f.motion<e._motionSleepThreshold*h?(f.sleepCounter+=1,f.sleepCounter>=f.sleepThreshold&&e.set(f,!0)):f.sleepCounter>0&&(f.sleepCounter-=1)}},e.afterCollisions=function(i,n){for(var h=n*n*n,o=0;o<i.length;o++){var f=i[o];if(!!f.isActive){var r=f.collision,t=r.bodyA.parent,u=r.bodyB.parent;if(!(t.isSleeping&&u.isSleeping||t.isStatic||u.isStatic)&&(t.isSleeping||u.isSleeping)){var c=t.isSleeping&&!t.isStatic?t:u,m=c===t?u:t;!c.isStatic&&m.motion>e._motionWakeThreshold*h&&e.set(c,!1)}}}},e.set=function(i,n){var h=i.isSleeping;n?(i.isSleeping=!0,i.sleepCounter=i.sleepThreshold,i.positionImpulse.x=0,i.positionImpulse.y=0,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.anglePrev=i.angle,i.speed=0,i.angularSpeed=0,i.motion=0,h||s.trigger(i,"sleepStart")):(i.isSleeping=!1,i.sleepCounter=0,h&&s.trigger(i,"sleepEnd"))}})()},function(g,P,l){var e={};g.exports=e;var s=l(3),i=l(9);(function(){var n=[],h={overlap:0,axis:null},o={overlap:0,axis:null};e.create=function(f,r){return{pair:null,collided:!1,bodyA:f,bodyB:r,parentA:f.parent,parentB:r.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},e.collides=function(f,r,t){if(e._overlapAxes(h,f.vertices,r.vertices,f.axes),h.overlap<=0||(e._overlapAxes(o,r.vertices,f.vertices,r.axes),o.overlap<=0))return null;var u=t&&t.table[i.id(f,r)],c;u?c=u.collision:(c=e.create(f,r),c.collided=!0,c.bodyA=f.id<r.id?f:r,c.bodyB=f.id<r.id?r:f,c.parentA=c.bodyA.parent,c.parentB=c.bodyB.parent),f=c.bodyA,r=c.bodyB;var m;h.overlap<o.overlap?m=h:m=o;var x=c.normal,w=c.supports,k=m.axis,v=k.x,p=k.y;v*(r.position.x-f.position.x)+p*(r.position.y-f.position.y)<0?(x.x=v,x.y=p):(x.x=-v,x.y=-p),c.tangent.x=-x.y,c.tangent.y=x.x,c.depth=m.overlap,c.penetration.x=x.x*c.depth,c.penetration.y=x.y*c.depth;var S=e._findSupports(f,r,x,1),y=0;if(s.contains(f.vertices,S[0])&&(w[y++]=S[0]),s.contains(f.vertices,S[1])&&(w[y++]=S[1]),y<2){var C=e._findSupports(r,f,x,-1);s.contains(r.vertices,C[0])&&(w[y++]=C[0]),y<2&&s.contains(r.vertices,C[1])&&(w[y++]=C[1])}return y===0&&(w[y++]=S[0]),w.length=y,c},e._overlapAxes=function(f,r,t,u){var c=r.length,m=t.length,x=r[0].x,w=r[0].y,k=t[0].x,v=t[0].y,p=u.length,S=Number.MAX_VALUE,y=0,C,M,E,I,T,B;for(T=0;T<p;T++){var H=u[T],L=H.x,R=H.y,F=x*L+w*R,z=k*L+v*R,V=F,A=z;for(B=1;B<c;B+=1)I=r[B].x*L+r[B].y*R,I>V?V=I:I<F&&(F=I);for(B=1;B<m;B+=1)I=t[B].x*L+t[B].y*R,I>A?A=I:I<z&&(z=I);if(M=V-z,E=A-F,C=M<E?M:E,C<S&&(S=C,y=T,C<=0))break}f.axis=u[y],f.overlap=S},e._projectToAxis=function(f,r,t){for(var u=r[0].x*t.x+r[0].y*t.y,c=u,m=1;m<r.length;m+=1){var x=r[m].x*t.x+r[m].y*t.y;x>c?c=x:x<u&&(u=x)}f.min=u,f.max=c},e._findSupports=function(f,r,t,u){var c=r.vertices,m=c.length,x=f.position.x,w=f.position.y,k=t.x*u,v=t.y*u,p=Number.MAX_VALUE,S,y,C,M,E;for(E=0;E<m;E+=1)y=c[E],M=k*(x-y.x)+v*(w-y.y),M<p&&(p=M,S=y);return C=c[(m+S.index-1)%m],p=k*(x-C.x)+v*(w-C.y),y=c[(S.index+1)%m],k*(x-y.x)+v*(w-y.y)<p?(n[0]=S,n[1]=y,n):(n[0]=S,n[1]=C,n)}})()},function(g,P,l){var e={};g.exports=e;var s=l(17);(function(){e.create=function(i,n){var h=i.bodyA,o=i.bodyB,f={id:e.id(h,o),bodyA:h,bodyB:o,collision:i,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:h.isSensor||o.isSensor,timeCreated:n,timeUpdated:n,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(f,i,n),f},e.update=function(i,n,h){var o=i.contacts,f=n.supports,r=i.activeContacts,t=n.parentA,u=n.parentB,c=t.vertices.length;i.isActive=!0,i.timeUpdated=h,i.collision=n,i.separation=n.depth,i.inverseMass=t.inverseMass+u.inverseMass,i.friction=t.friction<u.friction?t.friction:u.friction,i.frictionStatic=t.frictionStatic>u.frictionStatic?t.frictionStatic:u.frictionStatic,i.restitution=t.restitution>u.restitution?t.restitution:u.restitution,i.slop=t.slop>u.slop?t.slop:u.slop,n.pair=i,r.length=0;for(var m=0;m<f.length;m++){var x=f[m],w=x.body===t?x.index:c+x.index,k=o[w];k?r.push(k):r.push(o[w]=s.create(x))}},e.setActive=function(i,n,h){n?(i.isActive=!0,i.timeUpdated=h):(i.isActive=!1,i.activeContacts.length=0)},e.id=function(i,n){return i.id<n.id?"A"+i.id+"B"+n.id:"A"+n.id+"B"+i.id}})()},function(g,P,l){var e={};g.exports=e;var s=l(3),i=l(2),n=l(7),h=l(1),o=l(11),f=l(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(r){var t=r;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var u=t.bodyA?i.add(t.bodyA.position,t.pointA):t.pointA,c=t.bodyB?i.add(t.bodyB.position,t.pointB):t.pointB,m=i.magnitude(i.sub(u,c));t.length=typeof t.length!="undefined"?t.length:m,t.id=t.id||f.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var x={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(x.type="pin",x.anchors=!1):t.stiffness<.9&&(x.type="spring"),t.render=f.extend(x,t.render),t},e.preSolveAll=function(r){for(var t=0;t<r.length;t+=1){var u=r[t],c=u.constraintImpulse;u.isStatic||c.x===0&&c.y===0&&c.angle===0||(u.position.x+=c.x,u.position.y+=c.y,u.angle+=c.angle)}},e.solveAll=function(r,t){for(var u=0;u<r.length;u+=1){var c=r[u],m=!c.bodyA||c.bodyA&&c.bodyA.isStatic,x=!c.bodyB||c.bodyB&&c.bodyB.isStatic;(m||x)&&e.solve(r[u],t)}for(u=0;u<r.length;u+=1)c=r[u],m=!c.bodyA||c.bodyA&&c.bodyA.isStatic,x=!c.bodyB||c.bodyB&&c.bodyB.isStatic,!m&&!x&&e.solve(r[u],t)},e.solve=function(r,t){var u=r.bodyA,c=r.bodyB,m=r.pointA,x=r.pointB;if(!(!u&&!c)){u&&!u.isStatic&&(i.rotate(m,u.angle-r.angleA,m),r.angleA=u.angle),c&&!c.isStatic&&(i.rotate(x,c.angle-r.angleB,x),r.angleB=c.angle);var w=m,k=x;if(u&&(w=i.add(u.position,m)),c&&(k=i.add(c.position,x)),!(!w||!k)){var v=i.sub(w,k),p=i.magnitude(v);p<e._minLength&&(p=e._minLength);var S=(p-r.length)/p,y=r.stiffness<1?r.stiffness*t:r.stiffness,C=i.mult(v,S*y),M=(u?u.inverseMass:0)+(c?c.inverseMass:0),E=(u?u.inverseInertia:0)+(c?c.inverseInertia:0),I=M+E,T,B,H,L,R;if(r.damping){var F=i.create();H=i.div(v,p),R=i.sub(c&&i.sub(c.position,c.positionPrev)||F,u&&i.sub(u.position,u.positionPrev)||F),L=i.dot(H,R)}u&&!u.isStatic&&(B=u.inverseMass/M,u.constraintImpulse.x-=C.x*B,u.constraintImpulse.y-=C.y*B,u.position.x-=C.x*B,u.position.y-=C.y*B,r.damping&&(u.positionPrev.x-=r.damping*H.x*L*B,u.positionPrev.y-=r.damping*H.y*L*B),T=i.cross(m,C)/I*e._torqueDampen*u.inverseInertia*(1-r.angularStiffness),u.constraintImpulse.angle-=T,u.angle-=T),c&&!c.isStatic&&(B=c.inverseMass/M,c.constraintImpulse.x+=C.x*B,c.constraintImpulse.y+=C.y*B,c.position.x+=C.x*B,c.position.y+=C.y*B,r.damping&&(c.positionPrev.x+=r.damping*H.x*L*B,c.positionPrev.y+=r.damping*H.y*L*B),T=i.cross(x,C)/I*e._torqueDampen*c.inverseInertia*(1-r.angularStiffness),c.constraintImpulse.angle+=T,c.angle+=T)}}},e.postSolveAll=function(r){for(var t=0;t<r.length;t++){var u=r[t],c=u.constraintImpulse;if(!(u.isStatic||c.x===0&&c.y===0&&c.angle===0)){n.set(u,!1);for(var m=0;m<u.parts.length;m++){var x=u.parts[m];s.translate(x.vertices,c),m>0&&(x.position.x+=c.x,x.position.y+=c.y),c.angle!==0&&(s.rotate(x.vertices,c.angle,u.position),o.rotate(x.axes,c.angle),m>0&&i.rotateAbout(x.position,c.angle,u.position,x.position)),h.update(x.bounds,x.vertices,u.velocity)}c.angle*=e._warming,c.x*=e._warming,c.y*=e._warming}}},e.pointAWorld=function(r){return{x:(r.bodyA?r.bodyA.position.x:0)+r.pointA.x,y:(r.bodyA?r.bodyA.position.y:0)+r.pointA.y}},e.pointBWorld=function(r){return{x:(r.bodyB?r.bodyB.position.x:0)+r.pointB.x,y:(r.bodyB?r.bodyB.position.y:0)+r.pointB.y}}})()},function(g,P,l){var e={};g.exports=e;var s=l(2),i=l(0);(function(){e.fromVertices=function(n){for(var h={},o=0;o<n.length;o++){var f=(o+1)%n.length,r=s.normalise({x:n[f].y-n[o].y,y:n[o].x-n[f].x}),t=r.y===0?1/0:r.x/r.y;t=t.toFixed(3).toString(),h[t]=r}return i.values(h)},e.rotate=function(n,h){if(h!==0)for(var o=Math.cos(h),f=Math.sin(h),r=0;r<n.length;r++){var t=n[r],u;u=t.x*o-t.y*f,t.y=t.x*f+t.y*o,t.x=u}}})()},function(g,P,l){var e={};g.exports=e;var s=l(3),i=l(0),n=l(6),h=l(1),o=l(2);(function(){e.rectangle=function(f,r,t,u,c){c=c||{};var m={label:"Rectangle Body",position:{x:f,y:r},vertices:s.fromPath("L 0 0 L "+t+" 0 L "+t+" "+u+" L 0 "+u)};if(c.chamfer){var x=c.chamfer;m.vertices=s.chamfer(m.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete c.chamfer}return n.create(i.extend({},m,c))},e.trapezoid=function(f,r,t,u,c,m){m=m||{},c*=.5;var x=(1-c*2)*t,w=t*c,k=w+x,v=k+w,p;c<.5?p="L 0 0 L "+w+" "+-u+" L "+k+" "+-u+" L "+v+" 0":p="L 0 0 L "+k+" "+-u+" L "+v+" 0";var S={label:"Trapezoid Body",position:{x:f,y:r},vertices:s.fromPath(p)};if(m.chamfer){var y=m.chamfer;S.vertices=s.chamfer(S.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete m.chamfer}return n.create(i.extend({},S,m))},e.circle=function(f,r,t,u,c){u=u||{};var m={label:"Circle Body",circleRadius:t};c=c||25;var x=Math.ceil(Math.max(10,Math.min(c,t)));return x%2===1&&(x+=1),e.polygon(f,r,x,t,i.extend({},m,u))},e.polygon=function(f,r,t,u,c){if(c=c||{},t<3)return e.circle(f,r,u,c);for(var m=2*Math.PI/t,x="",w=m*.5,k=0;k<t;k+=1){var v=w+k*m,p=Math.cos(v)*u,S=Math.sin(v)*u;x+="L "+p.toFixed(3)+" "+S.toFixed(3)+" "}var y={label:"Polygon Body",position:{x:f,y:r},vertices:s.fromPath(x)};if(c.chamfer){var C=c.chamfer;y.vertices=s.chamfer(y.vertices,C.radius,C.quality,C.qualityMin,C.qualityMax),delete c.chamfer}return n.create(i.extend({},y,c))},e.fromVertices=function(f,r,t,u,c,m,x,w){var k=i.getDecomp(),v,p,S,y,C,M,E,I,T,B,H;for(v=Boolean(k&&k.quickDecomp),u=u||{},S=[],c=typeof c!="undefined"?c:!1,m=typeof m!="undefined"?m:.01,x=typeof x!="undefined"?x:10,w=typeof w!="undefined"?w:.01,i.isArray(t[0])||(t=[t]),B=0;B<t.length;B+=1)if(M=t[B],y=s.isConvex(M),C=!y,C&&!v&&i.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),y||!v)y?M=s.clockwiseSort(M):M=s.hull(M),S.push({position:{x:f,y:r},vertices:M});else{var L=M.map(function(re){return[re.x,re.y]});k.makeCCW(L),m!==!1&&k.removeCollinearPoints(L,m),w!==!1&&k.removeDuplicatePoints&&k.removeDuplicatePoints(L,w);var R=k.quickDecomp(L);for(E=0;E<R.length;E++){var F=R[E],z=F.map(function(re){return{x:re[0],y:re[1]}});x>0&&s.area(z)<x||S.push({position:s.centre(z),vertices:z})}}for(E=0;E<S.length;E++)S[E]=n.create(i.extend(S[E],u));if(c){var V=5;for(E=0;E<S.length;E++){var A=S[E];for(I=E+1;I<S.length;I++){var q=S[I];if(h.overlaps(A.bounds,q.bounds)){var $=A.vertices,j=q.vertices;for(T=0;T<A.vertices.length;T++)for(H=0;H<q.vertices.length;H++){var ve=o.magnitudeSquared(o.sub($[(T+1)%$.length],j[H])),se=o.magnitudeSquared(o.sub($[T],j[(H+1)%j.length]));ve<V&&se<V&&($[T].isInternal=!0,j[H].isInternal=!0)}}}}}return S.length>1?(p=n.create(i.extend({parts:S.slice(0)},u)),n.setPosition(p,{x:f,y:r}),p):S[0]}})()},function(g,P,l){var e={};g.exports=e;var s=l(0);(function(){e.create=function(i){var n={};return i||s.log("Mouse.create: element was undefined, defaulting to document.body","warn"),n.element=i||document.body,n.absolute={x:0,y:0},n.position={x:0,y:0},n.mousedownPosition={x:0,y:0},n.mouseupPosition={x:0,y:0},n.offset={x:0,y:0},n.scale={x:1,y:1},n.wheelDelta=0,n.button=-1,n.pixelRatio=parseInt(n.element.getAttribute("data-pixel-ratio"),10)||1,n.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},n.mousemove=function(h){var o=e._getRelativeMousePosition(h,n.element,n.pixelRatio),f=h.changedTouches;f&&(n.button=0,h.preventDefault()),n.absolute.x=o.x,n.absolute.y=o.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.sourceEvents.mousemove=h},n.mousedown=function(h){var o=e._getRelativeMousePosition(h,n.element,n.pixelRatio),f=h.changedTouches;f?(n.button=0,h.preventDefault()):n.button=h.button,n.absolute.x=o.x,n.absolute.y=o.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mousedownPosition.x=n.position.x,n.mousedownPosition.y=n.position.y,n.sourceEvents.mousedown=h},n.mouseup=function(h){var o=e._getRelativeMousePosition(h,n.element,n.pixelRatio),f=h.changedTouches;f&&h.preventDefault(),n.button=-1,n.absolute.x=o.x,n.absolute.y=o.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mouseupPosition.x=n.position.x,n.mouseupPosition.y=n.position.y,n.sourceEvents.mouseup=h},n.mousewheel=function(h){n.wheelDelta=Math.max(-1,Math.min(1,h.wheelDelta||-h.detail)),h.preventDefault()},e.setElement(n,n.element),n},e.setElement=function(i,n){i.element=n,n.addEventListener("mousemove",i.mousemove),n.addEventListener("mousedown",i.mousedown),n.addEventListener("mouseup",i.mouseup),n.addEventListener("mousewheel",i.mousewheel),n.addEventListener("DOMMouseScroll",i.mousewheel),n.addEventListener("touchmove",i.mousemove),n.addEventListener("touchstart",i.mousedown),n.addEventListener("touchend",i.mouseup)},e.clearSourceEvents=function(i){i.sourceEvents.mousemove=null,i.sourceEvents.mousedown=null,i.sourceEvents.mouseup=null,i.sourceEvents.mousewheel=null,i.wheelDelta=0},e.setOffset=function(i,n){i.offset.x=n.x,i.offset.y=n.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y},e.setScale=function(i,n){i.scale.x=n.x,i.scale.y=n.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y},e._getRelativeMousePosition=function(i,n,h){var o=n.getBoundingClientRect(),f=document.documentElement||document.body.parentNode||document.body,r=window.pageXOffset!==void 0?window.pageXOffset:f.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:f.scrollTop,u=i.changedTouches,c,m;return u?(c=u[0].pageX-o.left-r,m=u[0].pageY-o.top-t):(c=i.pageX-o.left-r,m=i.pageY-o.top-t),{x:c/(n.clientWidth/(n.width||n.clientWidth)*h),y:m/(n.clientHeight/(n.height||n.clientHeight)*h)}}})()},function(g,P,l){var e={};g.exports=e;var s=l(0),i=l(8);(function(){e.create=function(n){var h={bodies:[],pairs:null};return s.extend(h,n)},e.setBodies=function(n,h){n.bodies=h.slice(0)},e.clear=function(n){n.bodies=[]},e.collisions=function(n){var h=[],o=n.pairs,f=n.bodies,r=f.length,t=e.canCollide,u=i.collides,c,m;for(f.sort(e._compareBoundsX),c=0;c<r;c++){var x=f[c],w=x.bounds,k=x.bounds.max.x,v=x.bounds.max.y,p=x.bounds.min.y,S=x.isStatic||x.isSleeping,y=x.parts.length,C=y===1;for(m=c+1;m<r;m++){var M=f[m],E=M.bounds;if(E.min.x>k)break;if(!(v<E.min.y||p>E.max.y)&&!(S&&(M.isStatic||M.isSleeping))&&!!t(x.collisionFilter,M.collisionFilter)){var I=M.parts.length;if(C&&I===1){var T=u(x,M,o);T&&h.push(T)}else for(var B=y>1?1:0,H=I>1?1:0,L=B;L<y;L++)for(var R=x.parts[L],w=R.bounds,F=H;F<I;F++){var z=M.parts[F],E=z.bounds;if(!(w.min.x>E.max.x||w.max.x<E.min.x||w.max.y<E.min.y||w.min.y>E.max.y)){var T=u(R,z,o);T&&h.push(T)}}}}}return h},e.canCollide=function(n,h){return n.group===h.group&&n.group!==0?n.group>0:(n.mask&h.category)!==0&&(h.mask&n.category)!==0},e._compareBoundsX=function(n,h){return n.bounds.min.x-h.bounds.min.x}})()},function(g,P,l){var e={};g.exports=e;var s=l(0);(function(){e._registry={},e.register=function(i){if(e.isPlugin(i)||s.warn("Plugin.register:",e.toString(i),"does not implement all required fields."),i.name in e._registry){var n=e._registry[i.name],h=e.versionParse(i.version).number,o=e.versionParse(n.version).number;h>o?(s.warn("Plugin.register:",e.toString(n),"was upgraded to",e.toString(i)),e._registry[i.name]=i):h<o?s.warn("Plugin.register:",e.toString(n),"can not be downgraded to",e.toString(i)):i!==n&&s.warn("Plugin.register:",e.toString(i),"is already registered to different plugin object")}else e._registry[i.name]=i;return i},e.resolve=function(i){return e._registry[e.dependencyParse(i).name]},e.toString=function(i){return typeof i=="string"?i:(i.name||"anonymous")+"@"+(i.version||i.range||"0.0.0")},e.isPlugin=function(i){return i&&i.name&&i.version&&i.install},e.isUsed=function(i,n){return i.used.indexOf(n)>-1},e.isFor=function(i,n){var h=i.for&&e.dependencyParse(i.for);return!i.for||n.name===h.name&&e.versionSatisfies(n.version,h.range)},e.use=function(i,n){if(i.uses=(i.uses||[]).concat(n||[]),i.uses.length===0){s.warn("Plugin.use:",e.toString(i),"does not specify any dependencies to install.");return}for(var h=e.dependencies(i),o=s.topologicalSort(h),f=[],r=0;r<o.length;r+=1)if(o[r]!==i.name){var t=e.resolve(o[r]);if(!t){f.push("\u274C "+o[r]);continue}e.isUsed(i,t.name)||(e.isFor(t,i)||(s.warn("Plugin.use:",e.toString(t),"is for",t.for,"but installed on",e.toString(i)+"."),t._warned=!0),t.install?t.install(i):(s.warn("Plugin.use:",e.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(f.push("\u{1F536} "+e.toString(t)),delete t._warned):f.push("\u2705 "+e.toString(t)),i.used.push(t.name))}f.length>0&&s.info(f.join("  "))},e.dependencies=function(i,n){var h=e.dependencyParse(i),o=h.name;if(n=n||{},!(o in n)){i=e.resolve(i)||i,n[o]=s.map(i.uses||[],function(r){e.isPlugin(r)&&e.register(r);var t=e.dependencyParse(r),u=e.resolve(r);return u&&!e.versionSatisfies(u.version,t.range)?(s.warn("Plugin.dependencies:",e.toString(u),"does not satisfy",e.toString(t),"used by",e.toString(h)+"."),u._warned=!0,i._warned=!0):u||(s.warn("Plugin.dependencies:",e.toString(r),"used by",e.toString(h),"could not be resolved."),i._warned=!0),t.name});for(var f=0;f<n[o].length;f+=1)e.dependencies(n[o][f],n);return n}},e.dependencyParse=function(i){if(s.isString(i)){var n=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return n.test(i)||s.warn("Plugin.dependencyParse:",i,"is not a valid dependency string."),{name:i.split("@")[0],range:i.split("@")[1]||"*"}}return{name:i.name,range:i.range||i.version}},e.versionParse=function(i){var n=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;n.test(i)||s.warn("Plugin.versionParse:",i,"is not a valid version or range.");var h=n.exec(i),o=Number(h[4]),f=Number(h[5]),r=Number(h[6]);return{isRange:Boolean(h[1]||h[2]),version:h[3],range:i,operator:h[1]||h[2]||"",major:o,minor:f,patch:r,parts:[o,f,r],prerelease:h[7],number:o*1e8+f*1e4+r}},e.versionSatisfies=function(i,n){n=n||"*";var h=e.versionParse(n),o=e.versionParse(i);if(h.isRange){if(h.operator==="*"||i==="*")return!0;if(h.operator===">")return o.number>h.number;if(h.operator===">=")return o.number>=h.number;if(h.operator==="~")return o.major===h.major&&o.minor===h.minor&&o.patch>=h.patch;if(h.operator==="^")return h.major>0?o.major===h.major&&o.number>=h.number:h.minor>0?o.minor===h.minor&&o.patch>=h.patch:o.patch===h.patch}return i===n||i==="*"}})()},function(g,P,l){var e={};g.exports=e;var s=l(0),i=l(5),n=l(1),h=l(4),o=l(2),f=l(13);(function(){var r,t;typeof window!="undefined"&&(r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(v){window.setTimeout(function(){v(s.now())},1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(v){var p={controller:e,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!v.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},S=s.extend(p,v);return S.canvas&&(S.canvas.width=S.options.width||S.canvas.width,S.canvas.height=S.options.height||S.canvas.height),S.mouse=v.mouse,S.engine=v.engine,S.canvas=S.canvas||m(S.options.width,S.options.height),S.context=S.canvas.getContext("2d"),S.textures={},S.bounds=S.bounds||{min:{x:0,y:0},max:{x:S.canvas.width,y:S.canvas.height}},S.options.showBroadphase=!1,S.options.pixelRatio!==1&&e.setPixelRatio(S,S.options.pixelRatio),s.isElement(S.element)?S.element.appendChild(S.canvas):S.canvas.parentNode||s.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),S},e.run=function(v){(function p(S){v.frameRequestId=r(p),u(v,S),e.world(v,S),(v.options.showStats||v.options.showDebug)&&e.stats(v,v.context,S),(v.options.showPerformance||v.options.showDebug)&&e.performance(v,v.context,S)})()},e.stop=function(v){t(v.frameRequestId)},e.setPixelRatio=function(v,p){var S=v.options,y=v.canvas;p==="auto"&&(p=x(y)),S.pixelRatio=p,y.setAttribute("data-pixel-ratio",p),y.width=S.width*p,y.height=S.height*p,y.style.width=S.width+"px",y.style.height=S.height+"px"},e.lookAt=function(v,p,S,y){y=typeof y!="undefined"?y:!0,p=s.isArray(p)?p:[p],S=S||{x:0,y:0};for(var C={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},M=0;M<p.length;M+=1){var E=p[M],I=E.bounds?E.bounds.min:E.min||E.position||E,T=E.bounds?E.bounds.max:E.max||E.position||E;I&&T&&(I.x<C.min.x&&(C.min.x=I.x),T.x>C.max.x&&(C.max.x=T.x),I.y<C.min.y&&(C.min.y=I.y),T.y>C.max.y&&(C.max.y=T.y))}var B=C.max.x-C.min.x+2*S.x,H=C.max.y-C.min.y+2*S.y,L=v.canvas.height,R=v.canvas.width,F=R/L,z=B/H,V=1,A=1;z>F?A=z/F:V=F/z,v.options.hasBounds=!0,v.bounds.min.x=C.min.x,v.bounds.max.x=C.min.x+B*V,v.bounds.min.y=C.min.y,v.bounds.max.y=C.min.y+H*A,y&&(v.bounds.min.x+=B*.5-B*V*.5,v.bounds.max.x+=B*.5-B*V*.5,v.bounds.min.y+=H*.5-H*A*.5,v.bounds.max.y+=H*.5-H*A*.5),v.bounds.min.x-=S.x,v.bounds.max.x-=S.x,v.bounds.min.y-=S.y,v.bounds.max.y-=S.y,v.mouse&&(f.setScale(v.mouse,{x:(v.bounds.max.x-v.bounds.min.x)/v.canvas.width,y:(v.bounds.max.y-v.bounds.min.y)/v.canvas.height}),f.setOffset(v.mouse,v.bounds.min))},e.startViewTransform=function(v){var p=v.bounds.max.x-v.bounds.min.x,S=v.bounds.max.y-v.bounds.min.y,y=p/v.options.width,C=S/v.options.height;v.context.setTransform(v.options.pixelRatio/y,0,0,v.options.pixelRatio/C,0,0),v.context.translate(-v.bounds.min.x,-v.bounds.min.y)},e.endViewTransform=function(v){v.context.setTransform(v.options.pixelRatio,0,0,v.options.pixelRatio,0,0)},e.world=function(v,p){var S=s.now(),y=v.engine,C=y.world,M=v.canvas,E=v.context,I=v.options,T=v.timing,B=i.allBodies(C),H=i.allConstraints(C),L=I.wireframes?I.wireframeBackground:I.background,R=[],F=[],z,V={timestamp:y.timing.timestamp};if(h.trigger(v,"beforeRender",V),v.currentBackground!==L&&k(v,L),E.globalCompositeOperation="source-in",E.fillStyle="transparent",E.fillRect(0,0,M.width,M.height),E.globalCompositeOperation="source-over",I.hasBounds){for(z=0;z<B.length;z++){var A=B[z];n.overlaps(A.bounds,v.bounds)&&R.push(A)}for(z=0;z<H.length;z++){var q=H[z],$=q.bodyA,j=q.bodyB,ve=q.pointA,se=q.pointB;$&&(ve=o.add($.position,q.pointA)),j&&(se=o.add(j.position,q.pointB)),!(!ve||!se)&&(n.contains(v.bounds,ve)||n.contains(v.bounds,se))&&F.push(q)}e.startViewTransform(v),v.mouse&&(f.setScale(v.mouse,{x:(v.bounds.max.x-v.bounds.min.x)/v.options.width,y:(v.bounds.max.y-v.bounds.min.y)/v.options.height}),f.setOffset(v.mouse,v.bounds.min))}else F=H,R=B,v.options.pixelRatio!==1&&v.context.setTransform(v.options.pixelRatio,0,0,v.options.pixelRatio,0,0);!I.wireframes||y.enableSleeping&&I.showSleeping?e.bodies(v,R,E):(I.showConvexHulls&&e.bodyConvexHulls(v,R,E),e.bodyWireframes(v,R,E)),I.showBounds&&e.bodyBounds(v,R,E),(I.showAxes||I.showAngleIndicator)&&e.bodyAxes(v,R,E),I.showPositions&&e.bodyPositions(v,R,E),I.showVelocity&&e.bodyVelocity(v,R,E),I.showIds&&e.bodyIds(v,R,E),I.showSeparations&&e.separations(v,y.pairs.list,E),I.showCollisions&&e.collisions(v,y.pairs.list,E),I.showVertexNumbers&&e.vertexNumbers(v,R,E),I.showMousePosition&&e.mousePosition(v,v.mouse,E),e.constraints(F,E),I.hasBounds&&e.endViewTransform(v),h.trigger(v,"afterRender",V),T.lastElapsed=s.now()-S},e.stats=function(v,p,S){for(var y=v.engine,C=y.world,M=i.allBodies(C),E=0,I=55,T=44,B=0,H=0,L=0;L<M.length;L+=1)E+=M[L].parts.length;var R={Part:E,Body:M.length,Cons:i.allConstraints(C).length,Comp:i.allComposites(C).length,Pair:y.pairs.list.length};p.fillStyle="#0e0f19",p.fillRect(B,H,I*5.5,T),p.font="12px Arial",p.textBaseline="top",p.textAlign="right";for(var F in R){var z=R[F];p.fillStyle="#aaa",p.fillText(F,B+I,H+8),p.fillStyle="#eee",p.fillText(z,B+I,H+26),B+=I}},e.performance=function(v,p){var S=v.engine,y=v.timing,C=y.deltaHistory,M=y.elapsedHistory,E=y.timestampElapsedHistory,I=y.engineDeltaHistory,T=y.engineElapsedHistory,B=S.timing.lastDelta,H=c(C),L=c(M),R=c(I),F=c(T),z=c(E),V=z/H||0,A=1e3/H||0,q=4,$=12,j=60,ve=34,se=10,re=69;p.fillStyle="#0e0f19",p.fillRect(0,50,$*4+j*5+22,ve),e.status(p,se,re,j,q,C.length,Math.round(A)+" fps",A/e._goodFps,function(ue){return C[ue]/H-1}),e.status(p,se+$+j,re,j,q,I.length,B.toFixed(2)+" dt",e._goodDelta/B,function(ue){return I[ue]/R-1}),e.status(p,se+($+j)*2,re,j,q,T.length,F.toFixed(2)+" ut",1-F/e._goodFps,function(ue){return T[ue]/F-1}),e.status(p,se+($+j)*3,re,j,q,M.length,L.toFixed(2)+" rt",1-L/e._goodFps,function(ue){return M[ue]/L-1}),e.status(p,se+($+j)*4,re,j,q,E.length,V.toFixed(2)+" x",V*V*V,function(ue){return(E[ue]/C[ue]/V||0)-1})},e.status=function(v,p,S,y,C,M,E,I,T){v.strokeStyle="#888",v.fillStyle="#444",v.lineWidth=1,v.fillRect(p,S+7,y,1),v.beginPath(),v.moveTo(p,S+7-C*s.clamp(.4*T(0),-2,2));for(var B=0;B<y;B+=1)v.lineTo(p+B,S+7-(B<M?C*s.clamp(.4*T(B),-2,2):0));v.stroke(),v.fillStyle="hsl("+s.clamp(25+95*I,0,120)+",100%,60%)",v.fillRect(p,S-7,4,4),v.font="12px Arial",v.textBaseline="middle",v.textAlign="right",v.fillStyle="#eee",v.fillText(E,p+y,S-5)},e.constraints=function(v,p){for(var S=p,y=0;y<v.length;y++){var C=v[y];if(!(!C.render.visible||!C.pointA||!C.pointB)){var M=C.bodyA,E=C.bodyB,I,T;if(M?I=o.add(M.position,C.pointA):I=C.pointA,C.render.type==="pin")S.beginPath(),S.arc(I.x,I.y,3,0,2*Math.PI),S.closePath();else{if(E?T=o.add(E.position,C.pointB):T=C.pointB,S.beginPath(),S.moveTo(I.x,I.y),C.render.type==="spring")for(var B=o.sub(T,I),H=o.perp(o.normalise(B)),L=Math.ceil(s.clamp(C.length/5,12,20)),R,F=1;F<L;F+=1)R=F%2===0?1:-1,S.lineTo(I.x+B.x*(F/L)+H.x*R*4,I.y+B.y*(F/L)+H.y*R*4);S.lineTo(T.x,T.y)}C.render.lineWidth&&(S.lineWidth=C.render.lineWidth,S.strokeStyle=C.render.strokeStyle,S.stroke()),C.render.anchors&&(S.fillStyle=C.render.strokeStyle,S.beginPath(),S.arc(I.x,I.y,3,0,2*Math.PI),S.arc(T.x,T.y,3,0,2*Math.PI),S.closePath(),S.fill())}}},e.bodies=function(v,p,S){var y=S;v.engine;var C=v.options,M=C.showInternalEdges||!C.wireframes,E,I,T,B;for(T=0;T<p.length;T++)if(E=p[T],!!E.render.visible){for(B=E.parts.length>1?1:0;B<E.parts.length;B++)if(I=E.parts[B],!!I.render.visible){if(C.showSleeping&&E.isSleeping?y.globalAlpha=.5*I.render.opacity:I.render.opacity!==1&&(y.globalAlpha=I.render.opacity),I.render.sprite&&I.render.sprite.texture&&!C.wireframes){var H=I.render.sprite,L=w(v,H.texture);y.translate(I.position.x,I.position.y),y.rotate(I.angle),y.drawImage(L,L.width*-H.xOffset*H.xScale,L.height*-H.yOffset*H.yScale,L.width*H.xScale,L.height*H.yScale),y.rotate(-I.angle),y.translate(-I.position.x,-I.position.y)}else{if(I.circleRadius)y.beginPath(),y.arc(I.position.x,I.position.y,I.circleRadius,0,2*Math.PI);else{y.beginPath(),y.moveTo(I.vertices[0].x,I.vertices[0].y);for(var R=1;R<I.vertices.length;R++)!I.vertices[R-1].isInternal||M?y.lineTo(I.vertices[R].x,I.vertices[R].y):y.moveTo(I.vertices[R].x,I.vertices[R].y),I.vertices[R].isInternal&&!M&&y.moveTo(I.vertices[(R+1)%I.vertices.length].x,I.vertices[(R+1)%I.vertices.length].y);y.lineTo(I.vertices[0].x,I.vertices[0].y),y.closePath()}C.wireframes?(y.lineWidth=1,y.strokeStyle="#bbb",y.stroke()):(y.fillStyle=I.render.fillStyle,I.render.lineWidth&&(y.lineWidth=I.render.lineWidth,y.strokeStyle=I.render.strokeStyle,y.stroke()),y.fill())}y.globalAlpha=1}}},e.bodyWireframes=function(v,p,S){var y=S,C=v.options.showInternalEdges,M,E,I,T,B;for(y.beginPath(),I=0;I<p.length;I++)if(M=p[I],!!M.render.visible)for(B=M.parts.length>1?1:0;B<M.parts.length;B++){for(E=M.parts[B],y.moveTo(E.vertices[0].x,E.vertices[0].y),T=1;T<E.vertices.length;T++)!E.vertices[T-1].isInternal||C?y.lineTo(E.vertices[T].x,E.vertices[T].y):y.moveTo(E.vertices[T].x,E.vertices[T].y),E.vertices[T].isInternal&&!C&&y.moveTo(E.vertices[(T+1)%E.vertices.length].x,E.vertices[(T+1)%E.vertices.length].y);y.lineTo(E.vertices[0].x,E.vertices[0].y)}y.lineWidth=1,y.strokeStyle="#bbb",y.stroke()},e.bodyConvexHulls=function(v,p,S){var y=S,C,M,E;for(y.beginPath(),M=0;M<p.length;M++)if(C=p[M],!(!C.render.visible||C.parts.length===1)){for(y.moveTo(C.vertices[0].x,C.vertices[0].y),E=1;E<C.vertices.length;E++)y.lineTo(C.vertices[E].x,C.vertices[E].y);y.lineTo(C.vertices[0].x,C.vertices[0].y)}y.lineWidth=1,y.strokeStyle="rgba(255,255,255,0.2)",y.stroke()},e.vertexNumbers=function(v,p,S){var y=S,C,M,E;for(C=0;C<p.length;C++){var I=p[C].parts;for(E=I.length>1?1:0;E<I.length;E++){var T=I[E];for(M=0;M<T.vertices.length;M++)y.fillStyle="rgba(255,255,255,0.2)",y.fillText(C+"_"+M,T.position.x+(T.vertices[M].x-T.position.x)*.8,T.position.y+(T.vertices[M].y-T.position.y)*.8)}}},e.mousePosition=function(v,p,S){var y=S;y.fillStyle="rgba(255,255,255,0.8)",y.fillText(p.position.x+"  "+p.position.y,p.position.x+5,p.position.y-5)},e.bodyBounds=function(v,p,S){var y=S;v.engine;var C=v.options;y.beginPath();for(var M=0;M<p.length;M++){var E=p[M];if(E.render.visible)for(var I=p[M].parts,T=I.length>1?1:0;T<I.length;T++){var B=I[T];y.rect(B.bounds.min.x,B.bounds.min.y,B.bounds.max.x-B.bounds.min.x,B.bounds.max.y-B.bounds.min.y)}}C.wireframes?y.strokeStyle="rgba(255,255,255,0.08)":y.strokeStyle="rgba(0,0,0,0.1)",y.lineWidth=1,y.stroke()},e.bodyAxes=function(v,p,S){var y=S;v.engine;var C=v.options,M,E,I,T;for(y.beginPath(),E=0;E<p.length;E++){var B=p[E],H=B.parts;if(!!B.render.visible)if(C.showAxes)for(I=H.length>1?1:0;I<H.length;I++)for(M=H[I],T=0;T<M.axes.length;T++){var L=M.axes[T];y.moveTo(M.position.x,M.position.y),y.lineTo(M.position.x+L.x*20,M.position.y+L.y*20)}else for(I=H.length>1?1:0;I<H.length;I++)for(M=H[I],T=0;T<M.axes.length;T++)y.moveTo(M.position.x,M.position.y),y.lineTo((M.vertices[0].x+M.vertices[M.vertices.length-1].x)/2,(M.vertices[0].y+M.vertices[M.vertices.length-1].y)/2)}C.wireframes?(y.strokeStyle="indianred",y.lineWidth=1):(y.strokeStyle="rgba(255, 255, 255, 0.4)",y.globalCompositeOperation="overlay",y.lineWidth=2),y.stroke(),y.globalCompositeOperation="source-over"},e.bodyPositions=function(v,p,S){var y=S;v.engine;var C=v.options,M,E,I,T;for(y.beginPath(),I=0;I<p.length;I++)if(M=p[I],!!M.render.visible)for(T=0;T<M.parts.length;T++)E=M.parts[T],y.arc(E.position.x,E.position.y,3,0,2*Math.PI,!1),y.closePath();for(C.wireframes?y.fillStyle="indianred":y.fillStyle="rgba(0,0,0,0.5)",y.fill(),y.beginPath(),I=0;I<p.length;I++)M=p[I],M.render.visible&&(y.arc(M.positionPrev.x,M.positionPrev.y,2,0,2*Math.PI,!1),y.closePath());y.fillStyle="rgba(255,165,0,0.8)",y.fill()},e.bodyVelocity=function(v,p,S){var y=S;y.beginPath();for(var C=0;C<p.length;C++){var M=p[C];!M.render.visible||(y.moveTo(M.position.x,M.position.y),y.lineTo(M.position.x+(M.position.x-M.positionPrev.x)*2,M.position.y+(M.position.y-M.positionPrev.y)*2))}y.lineWidth=3,y.strokeStyle="cornflowerblue",y.stroke()},e.bodyIds=function(v,p,S){var y=S,C,M;for(C=0;C<p.length;C++)if(!!p[C].render.visible){var E=p[C].parts;for(M=E.length>1?1:0;M<E.length;M++){var I=E[M];y.font="12px Arial",y.fillStyle="rgba(255,255,255,0.5)",y.fillText(I.id,I.position.x+10,I.position.y-10)}}},e.collisions=function(v,p,S){var y=S,C=v.options,M,E,I,T;for(y.beginPath(),I=0;I<p.length;I++)if(M=p[I],!!M.isActive)for(E=M.collision,T=0;T<M.activeContacts.length;T++){var B=M.activeContacts[T],H=B.vertex;y.rect(H.x-1.5,H.y-1.5,3.5,3.5)}for(C.wireframes?y.fillStyle="rgba(255,255,255,0.7)":y.fillStyle="orange",y.fill(),y.beginPath(),I=0;I<p.length;I++)if(M=p[I],!!M.isActive&&(E=M.collision,M.activeContacts.length>0)){var L=M.activeContacts[0].vertex.x,R=M.activeContacts[0].vertex.y;M.activeContacts.length===2&&(L=(M.activeContacts[0].vertex.x+M.activeContacts[1].vertex.x)/2,R=(M.activeContacts[0].vertex.y+M.activeContacts[1].vertex.y)/2),E.bodyB===E.supports[0].body||E.bodyA.isStatic===!0?y.moveTo(L-E.normal.x*8,R-E.normal.y*8):y.moveTo(L+E.normal.x*8,R+E.normal.y*8),y.lineTo(L,R)}C.wireframes?y.strokeStyle="rgba(255,165,0,0.7)":y.strokeStyle="orange",y.lineWidth=1,y.stroke()},e.separations=function(v,p,S){var y=S,C=v.options,M,E,I,T,B;for(y.beginPath(),B=0;B<p.length;B++)if(M=p[B],!!M.isActive){E=M.collision,I=E.bodyA,T=E.bodyB;var H=1;!T.isStatic&&!I.isStatic&&(H=.5),T.isStatic&&(H=0),y.moveTo(T.position.x,T.position.y),y.lineTo(T.position.x-E.penetration.x*H,T.position.y-E.penetration.y*H),H=1,!T.isStatic&&!I.isStatic&&(H=.5),I.isStatic&&(H=0),y.moveTo(I.position.x,I.position.y),y.lineTo(I.position.x+E.penetration.x*H,I.position.y+E.penetration.y*H)}C.wireframes?y.strokeStyle="rgba(255,165,0,0.5)":y.strokeStyle="orange",y.stroke()},e.inspector=function(v,p){v.engine;var S=v.selected,y=v.render,C=y.options,M;if(C.hasBounds){var E=y.bounds.max.x-y.bounds.min.x,I=y.bounds.max.y-y.bounds.min.y,T=E/y.options.width,B=I/y.options.height;p.scale(1/T,1/B),p.translate(-y.bounds.min.x,-y.bounds.min.y)}for(var H=0;H<S.length;H++){var L=S[H].data;switch(p.translate(.5,.5),p.lineWidth=1,p.strokeStyle="rgba(255,165,0,0.9)",p.setLineDash([1,2]),L.type){case"body":M=L.bounds,p.beginPath(),p.rect(Math.floor(M.min.x-3),Math.floor(M.min.y-3),Math.floor(M.max.x-M.min.x+6),Math.floor(M.max.y-M.min.y+6)),p.closePath(),p.stroke();break;case"constraint":var R=L.pointA;L.bodyA&&(R=L.pointB),p.beginPath(),p.arc(R.x,R.y,10,0,2*Math.PI),p.closePath(),p.stroke();break}p.setLineDash([]),p.translate(-.5,-.5)}v.selectStart!==null&&(p.translate(.5,.5),p.lineWidth=1,p.strokeStyle="rgba(255,165,0,0.6)",p.fillStyle="rgba(255,165,0,0.1)",M=v.selectBounds,p.beginPath(),p.rect(Math.floor(M.min.x),Math.floor(M.min.y),Math.floor(M.max.x-M.min.x),Math.floor(M.max.y-M.min.y)),p.closePath(),p.stroke(),p.fill(),p.translate(-.5,-.5)),C.hasBounds&&p.setTransform(1,0,0,1,0,0)};var u=function(v,p){var S=v.engine,y=v.timing,C=y.historySize,M=S.timing.timestamp;y.delta=p-y.lastTime||e._goodDelta,y.lastTime=p,y.timestampElapsed=M-y.lastTimestamp||0,y.lastTimestamp=M,y.deltaHistory.unshift(y.delta),y.deltaHistory.length=Math.min(y.deltaHistory.length,C),y.engineDeltaHistory.unshift(S.timing.lastDelta),y.engineDeltaHistory.length=Math.min(y.engineDeltaHistory.length,C),y.timestampElapsedHistory.unshift(y.timestampElapsed),y.timestampElapsedHistory.length=Math.min(y.timestampElapsedHistory.length,C),y.engineElapsedHistory.unshift(S.timing.lastElapsed),y.engineElapsedHistory.length=Math.min(y.engineElapsedHistory.length,C),y.elapsedHistory.unshift(y.lastElapsed),y.elapsedHistory.length=Math.min(y.elapsedHistory.length,C)},c=function(v){for(var p=0,S=0;S<v.length;S+=1)p+=v[S];return p/v.length||0},m=function(v,p){var S=document.createElement("canvas");return S.width=v,S.height=p,S.oncontextmenu=function(){return!1},S.onselectstart=function(){return!1},S},x=function(v){var p=v.getContext("2d"),S=window.devicePixelRatio||1,y=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1;return S/y},w=function(v,p){var S=v.textures[p];return S||(S=v.textures[p]=new Image,S.src=p,S)},k=function(v,p){var S=p;/(jpg|gif|png)$/.test(p)&&(S="url("+p+")"),v.canvas.style.background=S,v.canvas.style.backgroundSize="contain",v.currentBackground=p}})()},function(g,P){var l={};g.exports=l,function(){l.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(g,P,l){var e={};g.exports=e;var s=l(7),i=l(19),n=l(14),h=l(20),o=l(4),f=l(5),r=l(10),t=l(0),u=l(6);(function(){e.create=function(c){c=c||{};var m={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},x=t.extend(m,c);return x.world=c.world||f.create({label:"World"}),x.pairs=c.pairs||h.create(),x.detector=c.detector||n.create(),x.grid={buckets:[]},x.world.gravity=x.gravity,x.broadphase=x.grid,x.metrics={},x},e.update=function(c,m,x){var w=t.now();m=m||1e3/60,x=x||1;var k=c.world,v=c.detector,p=c.pairs,S=c.timing,y=S.timestamp,C;S.timestamp+=m*S.timeScale,S.lastDelta=m*S.timeScale;var M={timestamp:S.timestamp};o.trigger(c,"beforeUpdate",M);var E=f.allBodies(k),I=f.allConstraints(k);for(k.isModified&&n.setBodies(v,E),k.isModified&&f.setModified(k,!1,!1,!0),c.enableSleeping&&s.update(E,S.timeScale),e._bodiesApplyGravity(E,c.gravity),e._bodiesUpdate(E,m,S.timeScale,x,k.bounds),r.preSolveAll(E),C=0;C<c.constraintIterations;C++)r.solveAll(I,S.timeScale);r.postSolveAll(E),v.pairs=c.pairs;var T=n.collisions(v);for(h.update(p,T,y),c.enableSleeping&&s.afterCollisions(p.list,S.timeScale),p.collisionStart.length>0&&o.trigger(c,"collisionStart",{pairs:p.collisionStart}),i.preSolvePosition(p.list),C=0;C<c.positionIterations;C++)i.solvePosition(p.list,S.timeScale);for(i.postSolvePosition(E),r.preSolveAll(E),C=0;C<c.constraintIterations;C++)r.solveAll(I,S.timeScale);for(r.postSolveAll(E),i.preSolveVelocity(p.list),C=0;C<c.velocityIterations;C++)i.solveVelocity(p.list,S.timeScale);return p.collisionActive.length>0&&o.trigger(c,"collisionActive",{pairs:p.collisionActive}),p.collisionEnd.length>0&&o.trigger(c,"collisionEnd",{pairs:p.collisionEnd}),e._bodiesClearForces(E),o.trigger(c,"afterUpdate",M),c.timing.lastElapsed=t.now()-w,c},e.merge=function(c,m){if(t.extend(c,m),m.world){c.world=m.world,e.clear(c);for(var x=f.allBodies(c.world),w=0;w<x.length;w++){var k=x[w];s.set(k,!1),k.id=t.nextId()}}},e.clear=function(c){h.clear(c.pairs),n.clear(c.detector)},e._bodiesClearForces=function(c){for(var m=0;m<c.length;m++){var x=c[m];x.force.x=0,x.force.y=0,x.torque=0}},e._bodiesApplyGravity=function(c,m){var x=typeof m.scale!="undefined"?m.scale:.001;if(!(m.x===0&&m.y===0||x===0))for(var w=0;w<c.length;w++){var k=c[w];k.isStatic||k.isSleeping||(k.force.y+=k.mass*m.y*x,k.force.x+=k.mass*m.x*x)}},e._bodiesUpdate=function(c,m,x,w,k){for(var v=0;v<c.length;v++){var p=c[v];p.isStatic||p.isSleeping||u.update(p,m,x,w)}}})()},function(g,P,l){var e={};g.exports=e;var s=l(3),i=l(1);(function(){e._restingThresh=4,e._restingThreshTangent=6,e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e.preSolvePosition=function(n){var h,o,f,r=n.length;for(h=0;h<r;h++)o=n[h],o.isActive&&(f=o.activeContacts.length,o.collision.parentA.totalContacts+=f,o.collision.parentB.totalContacts+=f)},e.solvePosition=function(n,h){var o,f,r,t,u,c,m,x,w=e._positionDampen,k=n.length;for(o=0;o<k;o++)f=n[o],!(!f.isActive||f.isSensor)&&(r=f.collision,t=r.parentA,u=r.parentB,c=r.normal,f.separation=c.x*(u.positionImpulse.x+r.penetration.x-t.positionImpulse.x)+c.y*(u.positionImpulse.y+r.penetration.y-t.positionImpulse.y));for(o=0;o<k;o++)f=n[o],!(!f.isActive||f.isSensor)&&(r=f.collision,t=r.parentA,u=r.parentB,c=r.normal,x=(f.separation-f.slop)*h,(t.isStatic||u.isStatic)&&(x*=2),t.isStatic||t.isSleeping||(m=w/t.totalContacts,t.positionImpulse.x+=c.x*x*m,t.positionImpulse.y+=c.y*x*m),u.isStatic||u.isSleeping||(m=w/u.totalContacts,u.positionImpulse.x-=c.x*x*m,u.positionImpulse.y-=c.y*x*m))},e.postSolvePosition=function(n){for(var h=e._positionWarming,o=n.length,f=s.translate,r=i.update,t=0;t<o;t++){var u=n[t],c=u.positionImpulse,m=c.x,x=c.y,w=u.velocity;if(u.totalContacts=0,m!==0||x!==0){for(var k=0;k<u.parts.length;k++){var v=u.parts[k];f(v.vertices,c),r(v.bounds,v.vertices,w),v.position.x+=m,v.position.y+=x}u.positionPrev.x+=m,u.positionPrev.y+=x,m*w.x+x*w.y<0?(c.x=0,c.y=0):(c.x*=h,c.y*=h)}}},e.preSolveVelocity=function(n){var h=n.length,o,f;for(o=0;o<h;o++){var r=n[o];if(!(!r.isActive||r.isSensor)){var t=r.activeContacts,u=t.length,c=r.collision,m=c.parentA,x=c.parentB,w=c.normal,k=c.tangent;for(f=0;f<u;f++){var v=t[f],p=v.vertex,S=v.normalImpulse,y=v.tangentImpulse;if(S!==0||y!==0){var C=w.x*S+k.x*y,M=w.y*S+k.y*y;m.isStatic||m.isSleeping||(m.positionPrev.x+=C*m.inverseMass,m.positionPrev.y+=M*m.inverseMass,m.anglePrev+=m.inverseInertia*((p.x-m.position.x)*M-(p.y-m.position.y)*C)),x.isStatic||x.isSleeping||(x.positionPrev.x-=C*x.inverseMass,x.positionPrev.y-=M*x.inverseMass,x.anglePrev-=x.inverseInertia*((p.x-x.position.x)*M-(p.y-x.position.y)*C))}}}}},e.solveVelocity=function(n,h){var o=h*h,f=e._restingThresh*o,r=e._frictionNormalMultiplier,t=e._restingThreshTangent*o,u=Number.MAX_VALUE,c=n.length,m,x,w,k;for(w=0;w<c;w++){var v=n[w];if(!(!v.isActive||v.isSensor)){var p=v.collision,S=p.parentA,y=p.parentB,C=S.velocity,M=y.velocity,E=p.normal.x,I=p.normal.y,T=p.tangent.x,B=p.tangent.y,H=v.activeContacts,L=H.length,R=1/L,F=S.inverseMass+y.inverseMass,z=v.friction*v.frictionStatic*r*o;for(C.x=S.position.x-S.positionPrev.x,C.y=S.position.y-S.positionPrev.y,M.x=y.position.x-y.positionPrev.x,M.y=y.position.y-y.positionPrev.y,S.angularVelocity=S.angle-S.anglePrev,y.angularVelocity=y.angle-y.anglePrev,k=0;k<L;k++){var V=H[k],A=V.vertex,q=A.x-S.position.x,$=A.y-S.position.y,j=A.x-y.position.x,ve=A.y-y.position.y,se=C.x-$*S.angularVelocity,re=C.y+q*S.angularVelocity,ue=M.x-ve*y.angularVelocity,At=M.y+j*y.angularVelocity,it=se-ue,nt=re-At,Oe=E*it+I*nt,Me=T*it+B*nt,st=v.separation+Oe,Xe=Math.min(st,1);Xe=st<0?0:Xe;var rt=Xe*z;Me>rt||-Me>rt?(x=Me>0?Me:-Me,m=v.friction*(Me>0?1:-1)*o,m<-x?m=-x:m>x&&(m=x)):(m=Me,x=u);var at=q*I-$*E,ot=j*I-ve*E,lt=R/(F+S.inverseInertia*at*at+y.inverseInertia*ot*ot),be=(1+v.restitution)*Oe*lt;if(m*=lt,Oe*Oe>f&&Oe<0)V.normalImpulse=0;else{var Bt=V.normalImpulse;V.normalImpulse+=be,V.normalImpulse=Math.min(V.normalImpulse,0),be=V.normalImpulse-Bt}if(Me*Me>t)V.tangentImpulse=0;else{var Ht=V.tangentImpulse;V.tangentImpulse+=m,V.tangentImpulse<-x&&(V.tangentImpulse=-x),V.tangentImpulse>x&&(V.tangentImpulse=x),m=V.tangentImpulse-Ht}var Ge=E*be+T*m,Ne=I*be+B*m;S.isStatic||S.isSleeping||(S.positionPrev.x+=Ge*S.inverseMass,S.positionPrev.y+=Ne*S.inverseMass,S.anglePrev+=(q*Ne-$*Ge)*S.inverseInertia),y.isStatic||y.isSleeping||(y.positionPrev.x-=Ge*y.inverseMass,y.positionPrev.y-=Ne*y.inverseMass,y.anglePrev-=(j*Ne-ve*Ge)*y.inverseInertia)}}}}})()},function(g,P,l){var e={};g.exports=e;var s=l(9),i=l(0);(function(){e.create=function(n){return i.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},n)},e.update=function(n,h,o){var f=n.list,r=f.length,t=n.table,u=h.length,c=n.collisionStart,m=n.collisionEnd,x=n.collisionActive,w,k,v,p;for(c.length=0,m.length=0,x.length=0,p=0;p<r;p++)f[p].confirmedActive=!1;for(p=0;p<u;p++)w=h[p],v=w.pair,v?(v.isActive?x.push(v):c.push(v),s.update(v,w,o),v.confirmedActive=!0):(v=s.create(w,o),t[v.id]=v,c.push(v),f.push(v));var S=[];for(r=f.length,p=0;p<r;p++)v=f[p],v.confirmedActive||(s.setActive(v,!1,o),m.push(v),!v.collision.bodyA.isSleeping&&!v.collision.bodyB.isSleeping&&S.push(p));for(p=0;p<S.length;p++)k=S[p]-p,v=f[k],f.splice(k,1),delete t[v.id]},e.clear=function(n){return n.table={},n.list.length=0,n.collisionStart.length=0,n.collisionActive.length=0,n.collisionEnd.length=0,n}})()},function(g,P,l){var e=g.exports=l(22);e.Axes=l(11),e.Bodies=l(12),e.Body=l(6),e.Bounds=l(1),e.Collision=l(8),e.Common=l(0),e.Composite=l(5),e.Composites=l(23),e.Constraint=l(10),e.Contact=l(17),e.Detector=l(14),e.Engine=l(18),e.Events=l(4),e.Grid=l(24),e.Mouse=l(13),e.MouseConstraint=l(25),e.Pair=l(9),e.Pairs=l(20),e.Plugin=l(15),e.Query=l(26),e.Render=l(16),e.Resolver=l(19),e.Runner=l(27),e.SAT=l(28),e.Sleeping=l(7),e.Svg=l(29),e.Vector=l(2),e.Vertices=l(3),e.World=l(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run \u27A4 use Matter.Runner.run(engine) instead")},function(g,P,l){var e={};g.exports=e;var s=l(15),i=l(0);(function(){e.name="matter-js",e.version="0.18.0",e.uses=[],e.used=[],e.use=function(){s.use(e,Array.prototype.slice.call(arguments))},e.before=function(n,h){return n=n.replace(/^Matter./,""),i.chainPathBefore(e,n,h)},e.after=function(n,h){return n=n.replace(/^Matter./,""),i.chainPathAfter(e,n,h)}})()},function(g,P,l){var e={};g.exports=e;var s=l(5),i=l(10),n=l(0),h=l(6),o=l(12),f=n.deprecated;(function(){e.stack=function(r,t,u,c,m,x,w){for(var k=s.create({label:"Stack"}),v=r,p=t,S,y=0,C=0;C<c;C++){for(var M=0,E=0;E<u;E++){var I=w(v,p,E,C,S,y);if(I){var T=I.bounds.max.y-I.bounds.min.y,B=I.bounds.max.x-I.bounds.min.x;T>M&&(M=T),h.translate(I,{x:B*.5,y:T*.5}),v=I.bounds.max.x+m,s.addBody(k,I),S=I,y+=1}else v+=m}p+=M+x,v=r}return k},e.chain=function(r,t,u,c,m,x){for(var w=r.bodies,k=1;k<w.length;k++){var v=w[k-1],p=w[k],S=v.bounds.max.y-v.bounds.min.y,y=v.bounds.max.x-v.bounds.min.x,C=p.bounds.max.y-p.bounds.min.y,M=p.bounds.max.x-p.bounds.min.x,E={bodyA:v,pointA:{x:y*t,y:S*u},bodyB:p,pointB:{x:M*c,y:C*m}},I=n.extend(E,x);s.addConstraint(r,i.create(I))}return r.label+=" Chain",r},e.mesh=function(r,t,u,c,m){var x=r.bodies,w,k,v,p,S;for(w=0;w<u;w++){for(k=1;k<t;k++)v=x[k-1+w*t],p=x[k+w*t],s.addConstraint(r,i.create(n.extend({bodyA:v,bodyB:p},m)));if(w>0)for(k=0;k<t;k++)v=x[k+(w-1)*t],p=x[k+w*t],s.addConstraint(r,i.create(n.extend({bodyA:v,bodyB:p},m))),c&&k>0&&(S=x[k-1+(w-1)*t],s.addConstraint(r,i.create(n.extend({bodyA:S,bodyB:p},m)))),c&&k<t-1&&(S=x[k+1+(w-1)*t],s.addConstraint(r,i.create(n.extend({bodyA:S,bodyB:p},m))))}return r.label+=" Mesh",r},e.pyramid=function(r,t,u,c,m,x,w){return e.stack(r,t,u,c,m,x,function(k,v,p,S,y,C){var M=Math.min(c,Math.ceil(u/2)),E=y?y.bounds.max.x-y.bounds.min.x:0;if(!(S>M)){S=M-S;var I=S,T=u-1-S;if(!(p<I||p>T)){C===1&&h.translate(y,{x:(p+(u%2===1?1:-1))*E,y:0});var B=y?p*E:0;return w(r+B+p*m,v,p,S,y,C)}}})},e.newtonsCradle=function(r,t,u,c,m){for(var x=s.create({label:"Newtons Cradle"}),w=0;w<u;w++){var k=1.9,v=o.circle(r+w*(c*k),t+m,c,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),p=i.create({pointA:{x:r+w*(c*k),y:t},bodyB:v});s.addBody(x,v),s.addConstraint(x,p)}return x},f(e,"newtonsCradle","Composites.newtonsCradle \u27A4 moved to newtonsCradle example"),e.car=function(r,t,u,c,m){var x=h.nextGroup(!0),w=20,k=-u*.5+w,v=u*.5-w,p=0,S=s.create({label:"Car"}),y=o.rectangle(r,t,u,c,{collisionFilter:{group:x},chamfer:{radius:c*.5},density:2e-4}),C=o.circle(r+k,t+p,m,{collisionFilter:{group:x},friction:.8}),M=o.circle(r+v,t+p,m,{collisionFilter:{group:x},friction:.8}),E=i.create({bodyB:y,pointB:{x:k,y:p},bodyA:C,stiffness:1,length:0}),I=i.create({bodyB:y,pointB:{x:v,y:p},bodyA:M,stiffness:1,length:0});return s.addBody(S,y),s.addBody(S,C),s.addBody(S,M),s.addConstraint(S,E),s.addConstraint(S,I),S},f(e,"car","Composites.car \u27A4 moved to car example"),e.softBody=function(r,t,u,c,m,x,w,k,v,p){v=n.extend({inertia:1/0},v),p=n.extend({stiffness:.2,render:{type:"line",anchors:!1}},p);var S=e.stack(r,t,u,c,m,x,function(y,C){return o.circle(y,C,k,v)});return e.mesh(S,u,c,w,p),S.label="Soft Body",S},f(e,"softBody","Composites.softBody \u27A4 moved to softBody and cloth examples")})()},function(g,P,l){var e={};g.exports=e;var s=l(9),i=l(0),n=i.deprecated;(function(){e.create=function(h){var o={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return i.extend(o,h)},e.update=function(h,o,f,r){var t,u,c,m=f.world,x=h.buckets,w,k,v=!1;for(t=0;t<o.length;t++){var p=o[t];if(!(p.isSleeping&&!r)&&!(m.bounds&&(p.bounds.max.x<m.bounds.min.x||p.bounds.min.x>m.bounds.max.x||p.bounds.max.y<m.bounds.min.y||p.bounds.min.y>m.bounds.max.y))){var S=e._getRegion(h,p);if(!p.region||S.id!==p.region.id||r){(!p.region||r)&&(p.region=S);var y=e._regionUnion(S,p.region);for(u=y.startCol;u<=y.endCol;u++)for(c=y.startRow;c<=y.endRow;c++){k=e._getBucketId(u,c),w=x[k];var C=u>=S.startCol&&u<=S.endCol&&c>=S.startRow&&c<=S.endRow,M=u>=p.region.startCol&&u<=p.region.endCol&&c>=p.region.startRow&&c<=p.region.endRow;!C&&M&&M&&w&&e._bucketRemoveBody(h,w,p),(p.region===S||C&&!M||r)&&(w||(w=e._createBucket(x,k)),e._bucketAddBody(h,w,p))}p.region=S,v=!0}}}v&&(h.pairsList=e._createActivePairsList(h))},n(e,"update","Grid.update \u27A4 replaced by Matter.Detector"),e.clear=function(h){h.buckets={},h.pairs={},h.pairsList=[]},n(e,"clear","Grid.clear \u27A4 replaced by Matter.Detector"),e._regionUnion=function(h,o){var f=Math.min(h.startCol,o.startCol),r=Math.max(h.endCol,o.endCol),t=Math.min(h.startRow,o.startRow),u=Math.max(h.endRow,o.endRow);return e._createRegion(f,r,t,u)},e._getRegion=function(h,o){var f=o.bounds,r=Math.floor(f.min.x/h.bucketWidth),t=Math.floor(f.max.x/h.bucketWidth),u=Math.floor(f.min.y/h.bucketHeight),c=Math.floor(f.max.y/h.bucketHeight);return e._createRegion(r,t,u,c)},e._createRegion=function(h,o,f,r){return{id:h+","+o+","+f+","+r,startCol:h,endCol:o,startRow:f,endRow:r}},e._getBucketId=function(h,o){return"C"+h+"R"+o},e._createBucket=function(h,o){var f=h[o]=[];return f},e._bucketAddBody=function(h,o,f){var r=h.pairs,t=s.id,u=o.length,c;for(c=0;c<u;c++){var m=o[c];if(!(f.id===m.id||f.isStatic&&m.isStatic)){var x=t(f,m),w=r[x];w?w[2]+=1:r[x]=[f,m,1]}}o.push(f)},e._bucketRemoveBody=function(h,o,f){var r=h.pairs,t=s.id,u;o.splice(i.indexOf(o,f),1);var c=o.length;for(u=0;u<c;u++){var m=r[t(f,o[u])];m&&(m[2]-=1)}},e._createActivePairsList=function(h){var o,f=h.pairs,r=i.keys(f),t=r.length,u=[],c;for(c=0;c<t;c++)o=f[r[c]],o[2]>0?u.push(o):delete f[r[c]];return u}})()},function(g,P,l){var e={};g.exports=e;var s=l(3),i=l(7),n=l(13),h=l(4),o=l(14),f=l(10),r=l(5),t=l(0),u=l(1);(function(){e.create=function(c,m){var x=(c?c.mouse:null)||(m?m.mouse:null);x||(c&&c.render&&c.render.canvas?x=n.create(c.render.canvas):m&&m.element?x=n.create(m.element):(x=n.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var w=f.create({label:"Mouse Constraint",pointA:x.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),k={type:"mouseConstraint",mouse:x,element:null,body:null,constraint:w,collisionFilter:{category:1,mask:4294967295,group:0}},v=t.extend(k,m);return h.on(c,"beforeUpdate",function(){var p=r.allBodies(c.world);e.update(v,p),e._triggerEvents(v)}),v},e.update=function(c,m){var x=c.mouse,w=c.constraint,k=c.body;if(x.button===0){if(w.bodyB)i.set(w.bodyB,!1),w.pointA=x.position;else for(var v=0;v<m.length;v++)if(k=m[v],u.contains(k.bounds,x.position)&&o.canCollide(k.collisionFilter,c.collisionFilter))for(var p=k.parts.length>1?1:0;p<k.parts.length;p++){var S=k.parts[p];if(s.contains(S.vertices,x.position)){w.pointA=x.position,w.bodyB=c.body=k,w.pointB={x:x.position.x-k.position.x,y:x.position.y-k.position.y},w.angleB=k.angle,i.set(k,!1),h.trigger(c,"startdrag",{mouse:x,body:k});break}}}else w.bodyB=c.body=null,w.pointB=null,k&&h.trigger(c,"enddrag",{mouse:x,body:k})},e._triggerEvents=function(c){var m=c.mouse,x=m.sourceEvents;x.mousemove&&h.trigger(c,"mousemove",{mouse:m}),x.mousedown&&h.trigger(c,"mousedown",{mouse:m}),x.mouseup&&h.trigger(c,"mouseup",{mouse:m}),n.clearSourceEvents(m)}})()},function(g,P,l){var e={};g.exports=e;var s=l(2),i=l(8),n=l(1),h=l(12),o=l(3);(function(){e.collides=function(f,r){for(var t=[],u=r.length,c=f.bounds,m=i.collides,x=n.overlaps,w=0;w<u;w++){var k=r[w],v=k.parts.length,p=v===1?0:1;if(x(k.bounds,c))for(var S=p;S<v;S++){var y=k.parts[S];if(x(y.bounds,c)){var C=m(y,f);if(C){t.push(C);break}}}}return t},e.ray=function(f,r,t,u){u=u||1e-100;for(var c=s.angle(r,t),m=s.magnitude(s.sub(r,t)),x=(t.x+r.x)*.5,w=(t.y+r.y)*.5,k=h.rectangle(x,w,m,u,{angle:c}),v=e.collides(k,f),p=0;p<v.length;p+=1){var S=v[p];S.body=S.bodyB=S.bodyA}return v},e.region=function(f,r,t){for(var u=[],c=0;c<f.length;c++){var m=f[c],x=n.overlaps(m.bounds,r);(x&&!t||!x&&t)&&u.push(m)}return u},e.point=function(f,r){for(var t=[],u=0;u<f.length;u++){var c=f[u];if(n.contains(c.bounds,r))for(var m=c.parts.length===1?0:1;m<c.parts.length;m++){var x=c.parts[m];if(n.contains(x.bounds,r)&&o.contains(x.vertices,r)){t.push(c);break}}}return t}})()},function(g,P,l){var e={};g.exports=e;var s=l(4),i=l(18),n=l(0);(function(){var h,o;if(typeof window!="undefined"&&(h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),!h){var f;h=function(r){f=setTimeout(function(){r(n.now())},1e3/60)},o=function(){clearTimeout(f)}}e.create=function(r){var t={fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},u=n.extend(t,r);return u.delta=u.delta||1e3/u.fps,u.deltaMin=u.deltaMin||1e3/u.fps,u.deltaMax=u.deltaMax||1e3/(u.fps*.5),u.fps=1e3/u.delta,u},e.run=function(r,t){return typeof r.positionIterations!="undefined"&&(t=r,r=e.create()),function u(c){r.frameRequestId=h(u),c&&r.enabled&&e.tick(r,t,c)}(),r},e.tick=function(r,t,u){var c=t.timing,m=1,x,w={timestamp:c.timestamp};s.trigger(r,"beforeTick",w),r.isFixed?x=r.delta:(x=u-r.timePrev||r.delta,r.timePrev=u,r.deltaHistory.push(x),r.deltaHistory=r.deltaHistory.slice(-r.deltaSampleSize),x=Math.min.apply(null,r.deltaHistory),x=x<r.deltaMin?r.deltaMin:x,x=x>r.deltaMax?r.deltaMax:x,m=x/r.delta,r.delta=x),r.timeScalePrev!==0&&(m*=c.timeScale/r.timeScalePrev),c.timeScale===0&&(m=0),r.timeScalePrev=c.timeScale,r.correction=m,r.frameCounter+=1,u-r.counterTimestamp>=1e3&&(r.fps=r.frameCounter*((u-r.counterTimestamp)/1e3),r.counterTimestamp=u,r.frameCounter=0),s.trigger(r,"tick",w),s.trigger(r,"beforeUpdate",w),i.update(t,x,m),s.trigger(r,"afterUpdate",w),s.trigger(r,"afterTick",w)},e.stop=function(r){o(r.frameRequestId)},e.start=function(r,t){e.run(r,t)}})()},function(g,P,l){var e={};g.exports=e;var s=l(8),i=l(0),n=i.deprecated;(function(){e.collides=function(h,o){return s.collides(h,o)},n(e,"collides","SAT.collides \u27A4 replaced by Collision.collides")})()},function(g,P,l){var e={};g.exports=e,l(1);var s=l(0);(function(){e.pathToVertices=function(i,n){typeof window!="undefined"&&!("SVGPathSeg"in window)&&s.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var h,o,f,r,t,u,c,m,x,w,k=[],v,p,S=0,y=0,C=0;n=n||15;var M=function(I,T,B){var H=B%2===1&&B>1;if(!x||I!=x.x||T!=x.y){x&&H?(v=x.x,p=x.y):(v=0,p=0);var L={x:v+I,y:p+T};(H||!x)&&(x=L),k.push(L),y=v+I,C=p+T}},E=function(I){var T=I.pathSegTypeAsLetter.toUpperCase();if(T!=="Z"){switch(T){case"M":case"L":case"T":case"C":case"S":case"Q":y=I.x,C=I.y;break;case"H":y=I.x;break;case"V":C=I.y;break}M(y,C,I.pathSegType)}};for(e._svgPathToAbsolute(i),f=i.getTotalLength(),u=[],h=0;h<i.pathSegList.numberOfItems;h+=1)u.push(i.pathSegList.getItem(h));for(c=u.concat();S<f;){if(w=i.getPathSegAtLength(S),t=u[w],t!=m){for(;c.length&&c[0]!=t;)E(c.shift());m=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":r=i.getPointAtLength(S),M(r.x,r.y,0);break}S+=n}for(h=0,o=c.length;h<o;++h)E(c[h]);return k},e._svgPathToAbsolute=function(i){for(var n,h,o,f,r,t,u=i.pathSegList,c=0,m=0,x=u.numberOfItems,w=0;w<x;++w){var k=u.getItem(w),v=k.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(v))"x"in k&&(c=k.x),"y"in k&&(m=k.y);else switch("x1"in k&&(o=c+k.x1),"x2"in k&&(r=c+k.x2),"y1"in k&&(f=m+k.y1),"y2"in k&&(t=m+k.y2),"x"in k&&(c+=k.x),"y"in k&&(m+=k.y),v){case"m":u.replaceItem(i.createSVGPathSegMovetoAbs(c,m),w);break;case"l":u.replaceItem(i.createSVGPathSegLinetoAbs(c,m),w);break;case"h":u.replaceItem(i.createSVGPathSegLinetoHorizontalAbs(c),w);break;case"v":u.replaceItem(i.createSVGPathSegLinetoVerticalAbs(m),w);break;case"c":u.replaceItem(i.createSVGPathSegCurvetoCubicAbs(c,m,o,f,r,t),w);break;case"s":u.replaceItem(i.createSVGPathSegCurvetoCubicSmoothAbs(c,m,r,t),w);break;case"q":u.replaceItem(i.createSVGPathSegCurvetoQuadraticAbs(c,m,o,f),w);break;case"t":u.replaceItem(i.createSVGPathSegCurvetoQuadraticSmoothAbs(c,m),w);break;case"a":u.replaceItem(i.createSVGPathSegArcAbs(c,m,k.r1,k.r2,k.angle,k.largeArcFlag,k.sweepFlag),w);break;case"z":case"Z":c=n,m=h;break}(v=="M"||v=="m")&&(n=c,h=m)}}})()},function(g,P,l){var e={};g.exports=e;var s=l(5);l(0),function(){e.create=s.create,e.add=s.add,e.remove=s.remove,e.clear=s.clear,e.addComposite=s.addComposite,e.addBody=s.addBody,e.addConstraint=s.addConstraint}()}])})})(tt);var N=wt(tt.exports),Tt={exports:{}};/*!
 * matter-attractors 0.1.6 by Liam Brummitt 2017-05-15
 * https://github.com/liabru/matter-attractors
 * License MIT
 */(function(d,a){(function(P,l){d.exports=l(tt.exports)})(Ue,function(g){return function(P){var l={};function e(s){if(l[s])return l[s].exports;var i=l[s]={i:s,l:!1,exports:{}};return P[s].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=P,e.c=l,e.i=function(s){return s},e.d=function(s,i,n){e.o(s,i)||Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return e.d(i,"a",i),i},e.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},e.p="/libs",e(e.s=1)}([function(P,l){P.exports=g},function(P,l,e){var s=e(0),i={name:"matter-attractors",version:"0.1.4",for:"matter-js@^0.12.0",install:function(h){h.after("Body.create",function(){i.Body.init(this)}),h.before("Engine.update",function(o){i.Engine.update(o)})},Body:{init:function(h){h.plugin.attractors=h.plugin.attractors||[]}},Engine:{update:function(h){for(var o=h.world,f=s.Composite.allBodies(o),r=0;r<f.length;r+=1){var t=f[r],u=t.plugin.attractors;if(u&&u.length>0)for(var c=0;c<f.length;c+=1){var m=f[c];if(m.id!==t.id)for(var x=0;x<u.length;x+=1){var w=u[x],k=w;s.Common.isFunction(w)&&(k=w(t,m)),k&&s.Body.applyForce(m,m.position,k)}}}}},Attractors:{gravityConstant:.001,gravity:function(h,o){var f=s.Vector.sub(o.position,h.position),r=s.Vector.magnitudeSquared(f)||1e-4,t=s.Vector.normalise(f),u=-i.Attractors.gravityConstant*(h.mass*o.mass/r),c=s.Vector.mult(t,u);s.Body.applyForce(h,h.position,s.Vector.neg(c)),s.Body.applyForce(o,o.position,c)}}};s.Plugin.register(i),P.exports=i}])})})(Tt);var Li=wt(Tt.exports);N.use(Li);class Di{constructor(a,g,P,l){this.areaWidth=g,this.areaHeight=P,this.thickness=l;const e={isStatic:!0,render:{fillStyle:"transparent"}};this.top=N.Bodies.rectangle(g/2,-l/2,g,l,e),this.right=N.Bodies.rectangle(g+l/2,P/2,l,P,e),this.bottom=N.Bodies.rectangle(g/2,P+l/2,g,l,e),this.left=N.Bodies.rectangle(-l/2,P/2,l,P,e),N.Composite.add(a.world,[this.top,this.right,this.bottom,this.left])}update(a,g){N.Body.setPosition(this.top,{x:a/2,y:this.top.position.y}),N.Body.setPosition(this.right,{x:a+this.thickness/2,y:g/2}),N.Body.setPosition(this.bottom,{x:a/2,y:g+this.thickness/2}),N.Body.setPosition(this.left,{x:this.left.position.x,y:g/2}),N.Body.scale(this.top,a/this.areaWidth,1),N.Body.scale(this.right,1,g/this.areaHeight),N.Body.scale(this.bottom,a/this.areaWidth,1),N.Body.scale(this.left,1,g/this.areaHeight),this.areaWidth=a,this.areaHeight=g}}const Ri=(d,a)=>({x:(d.position.x-a.position.x)*2e-4,y:(d.position.y-a.position.y)*2e-4});class Fi{constructor(a,g){this.body=N.Bodies.circle(g.clientWidth/2,0,1,{isStatic:!0,plugin:{attractors:[Ri]},collisionFilter:{group:-1}}),N.Composite.add(a.world,this.body),this.mouse=N.Mouse.create(g),N.Events.on(a,"afterUpdate",()=>{!this.mouse.position.x||N.Body.translate(this.body,{x:(this.mouse.position.x-this.body.position.x)*.25,y:(this.mouse.position.y-this.body.position.y)*.25})}),this.mouse.element.removeEventListener("mousewheel",this.mouse.mousewheel),this.mouse.element.removeEventListener("DOMMouseScroll",this.mouse.mousewheel)}setAnchor(){this.mouse.position.x=this.mouse.element.clientWidth/2,this.mouse.position.y=0,N.Body.setPosition(this.body,{x:this.mouse.element.clientWidth/2,y:0})}}function Vi(d){let a,g,P=`${d[2]}px`,l=`${d[0]}ms`,e,s,i;const n=d[9].default,h=ae(n,d,d[8],null);return{c(){a=_("ul"),h&&h.c(),this.h()},l(o){a=K(o,"UL",{class:!0});var f=b(a);h&&h.l(f),f.forEach(D),this.h()},h(){O(a,"class","cpeum-1s5e709"),Qe(()=>d[11].call(a)),G(a,"height",P),G(a,"--delay",l)},m(o,f){U(o,a,f),h&&h.m(a,null),d[10](a),g=Ct(a,d[11].bind(a)),e=!0,s||(i=[we(Ze.call(null,a,{rootMargin:"0% 0px -30%"})),ee(a,"enter",d[5]),ee(a,"leave",d[6]),ee(a,"mouseenter",bi),ee(a,"mouseleave",d[7])],s=!0)},p(o,[f]){h&&h.p&&(!e||f&256)&&oe(h,n,o,o[8],e?fe(n,o[8],f,null):le(o[8]),null),f&4&&P!==(P=`${o[2]}px`)&&G(a,"height",P),f&1&&l!==(l=`${o[0]}ms`)&&G(a,"--delay",l)},i(o){e||(Q(h,o),e=!0)},o(o){X(h,o),e=!1},d(o){o&&D(a),h&&h.d(o),d[10](null),g(),s=!1,De(i)}}}const Wi=200,xt=400,Oi=500,zi=3;function bi(){}function Gi(d,a,g){let P,{$$slots:l={},$$scope:e}=a,{staggerDelay:s=120}=a,i,n,h=500;const o=ze(!1);me(d,o,S=>g(15,P=S));let f=0,r=[];ke("bodies",{getEngine:()=>t,getIndex:()=>f++,addBodyRef:S=>{r.push(S)},visible:o,staggerDelay:s});const t=N.Engine.create();t.gravity.y=0,t.gravity.scale=0,t.positionIterations=5,t.velocityIterations=3,t.enableSleeping=!0;const u=N.Runner.create(),c=new Di(t,xt,xt,Wi);let m;function x(){P?t.enabled=!0:(o.set(!0),N.Runner.run(u,t))}function w(){t.enabled=!1}function k(){m.setAnchor()}$e(()=>{m=new Fi(t,i)}),qe(()=>{N.Runner.stop(u),N.World.clear(t.world,!1),N.Engine.clear(t)});function v(S){et[S?"unshift":"push"](()=>{i=S,g(3,i)})}function p(){n=this.clientWidth,g(1,n)}return d.$$set=S=>{"staggerDelay"in S&&g(0,s=S.staggerDelay),"$$scope"in S&&g(8,e=S.$$scope)},d.$$.update=()=>{d.$$.dirty&6&&n&&(g(2,h=Math.max(Math.ceil((Oi+zi*r.map(S=>S.area).reduce((S,y)=>S+y,0))/n),400)),c.update(n,h))},[s,n,h,i,o,x,w,k,e,l,v,p]}class mn extends te{constructor(a){super(),ie(this,a,Gi,Vi,ne,{staggerDelay:0})}}function Ni(d){let a,g,P=`rotate(${-1*d[4]}rad)`,l=`${d[2]}px`,e=`${d[0]}px`,s=`${d[1]}px`,i=`-${d[1]*.5}px`,n=`-${d[0]*.5}px`,h=`translate(${d[6]}px, ${d[5]}px) rotate(${d[4]}rad)`,o=`${d[10]*d[8].staggerDelay}ms`,f;const r=d[13].default,t=ae(r,d,d[12],null);return{c(){a=_("li"),g=_("span"),t&&t.c(),this.h()},l(u){a=K(u,"LI",{class:!0});var c=b(a);g=K(c,"SPAN",{});var m=b(g);t&&t.l(m),m.forEach(D),c.forEach(D),this.h()},h(){G(g,"transform",P),O(a,"class","cpeum-10spmmd"),W(a,"hidden",!d[7]),G(a,"border-radius",l),G(a,"width",e),G(a,"height",s),G(a,"top",i),G(a,"left",n),G(a,"transform",h),G(a,"--delay",o)},m(u,c){U(u,a,c),Z(a,g),t&&t.m(g,null),d[14](a),f=!0},p(u,[c]){t&&t.p&&(!f||c&4096)&&oe(t,r,u,u[12],f?fe(r,u[12],c,null):le(u[12]),null),c&16&&P!==(P=`rotate(${-1*u[4]}rad)`)&&G(g,"transform",P),(!f||c&128)&&W(a,"hidden",!u[7]),c&4&&l!==(l=`${u[2]}px`)&&G(a,"border-radius",l),c&1&&e!==(e=`${u[0]}px`)&&G(a,"width",e),c&2&&s!==(s=`${u[1]}px`)&&G(a,"height",s),c&2&&i!==(i=`-${u[1]*.5}px`)&&G(a,"top",i),c&1&&n!==(n=`-${u[0]*.5}px`)&&G(a,"left",n),c&112&&h!==(h=`translate(${u[6]}px, ${u[5]}px) rotate(${u[4]}rad)`)&&G(a,"transform",h)},i(u){f||(Q(t,u),f=!0)},o(u){X(t,u),f=!1},d(u){u&&D(a),t&&t.d(u),d[14](null)}}}const Ui=150,_i=12;function Ki(d,a,g){let P,{$$slots:l={},$$scope:e}=a,{size:s=void 0}=a,{width:i=void 0}=a,{height:n=void 0}=a,{radius:h=void 0}=a,o,f=(Math.random()-.5)/180,r=0,t=0;const u=pe("bodies"),c=u.visible;me(d,c,v=>g(7,P=v));const m=u.getIndex(),x=u.getEngine();let w;$e(()=>{s||g(11,s=Ui+Math.sqrt(o.textContent.length)*_i),i||g(0,i=s),n||g(1,n=i),h||g(2,h=Math.round(Math.random()*.5*i)),w=N.Bodies.rectangle(N.Common.random(0,o.parentElement.clientWidth),N.Common.random(0,o.parentElement.clientHeight),i,n,{angle:f,friction:.1,frictionStatic:12,density:5e-4,chamfer:{radius:h}}),u.addBodyRef(w),N.Composite.add(x.world,w),N.Events.on(x,"afterUpdate",()=>{g(4,f=w.angle),g(5,r=w.position.y),g(6,t=w.position.x)})});function k(v){et[v?"unshift":"push"](()=>{o=v,g(3,o)})}return d.$$set=v=>{"size"in v&&g(11,s=v.size),"width"in v&&g(0,i=v.width),"height"in v&&g(1,n=v.height),"radius"in v&&g(2,h=v.radius),"$$scope"in v&&g(12,e=v.$$scope)},[i,n,h,o,f,r,t,P,u,c,m,s,e,l,k]}class dn extends te{constructor(a){super(),ie(this,a,Ki,Ni,ne,{size:11,width:0,height:1,radius:2})}}export{mn as B,an as C,vn as E,fn as F,ln as I,gn as L,sn as M,cn as P,hn as a,on as b,dn as c,rn as d,un as e,ai as f};

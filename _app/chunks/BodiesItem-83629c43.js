import{S as te,i as ie,s as ne,N as me,ac as pe,a5 as qe,C as Y,e as _,k as ye,t as xe,c as K,a as b,m as Se,h as Pe,d as D,b as W,V as ft,a1 as he,I as z,g as U,J as Z,Q as ee,W as we,j as Le,z as de,E as Ve,G as De,a2 as ge,a9 as Lt,a3 as ze,_ as ae,X as le,Y as oe,Z as fe,q as Q,o as X,w as Ie,x as Ee,y as Te,B as Ae,f as G,r as ke,K as Qe,af as St,n as Pt,p as Ct,ag as Dt,l as _e,O as Re,P as Fe,T as Ce,R as Rt,v as $e,a6 as et,a4 as Ye,L as ut}from"./index-82593c41.js";import{m as Ft,a as ce}from"./getData-867a3f66.js";import{i as Ze}from"./intersect-eda3c074.js";import{b as Ke}from"./paths-396f020f.js";/* empty css                                            */import{a as Mt,r as kt}from"./revealText-510b6fa3.js";import"./scroll-f5601096.js";import{m as je,a as ct,b as Be,f as Vt,d as zt,h as Ue,i as wt}from"./Map.svelte_svelte_type_style_lang-d7761a8a.js";import{w as Oe}from"./index-688ab6b8.js";import{e as Wt,f as Ot,a as ht}from"./index-c7a13239.js";import{g as gt}from"./themeColors-35fcc233.js";function bt(d,a,g){let P,o;me(d,Ft,r=>g(6,o=r));let{id:e}=a,{url:s}=a,{coordinates:i}=a,{opacity:n=1}=a;const h=pe("figuremap"),l=h?h.active:null;me(d,l,r=>g(5,P=r));const f=e+"-raster-layer";return qe(()=>{ce&&(ce.removeSource(e),ce.removeLayer(f))}),d.$$set=r=>{"id"in r&&g(1,e=r.id),"url"in r&&g(2,s=r.url),"coordinates"in r&&g(3,i=r.coordinates),"opacity"in r&&g(4,n=r.opacity)},d.$$.update=()=>{if(d.$$.dirty&94&&o&&(console.log("adding image overlay"),ce.getSource(e)||ce.addSource(e,{type:"image",url:s,coordinates:i}),ce.getLayer(f)||ce.addLayer({id:f,source:e,type:"raster",paint:{"raster-opacity":n,"raster-fade-duration":.75}})),d.$$.dirty&96&&l&&o){const r=P?"visible":"none";ce.getLayer(f)&&ce.setLayoutProperty(f,"visibility",r)}},[l,e,s,i,n,P,o]}class sn extends te{constructor(a){super(),ie(this,a,bt,null,ne,{id:1,url:2,coordinates:3,opacity:4})}}function Gt(d){let a,g,P,o,e,s,i,n,h=[d[5]],l={};for(let f=0;f<h.length;f+=1)l=Y(l,h[f]);return{c(){a=_("div"),g=_("img"),o=ye(),e=_("span"),s=xe(d[0]),this.h()},l(f){a=K(f,"DIV",{});var r=b(a);g=K(r,"IMG",{loading:!0,decoding:!0,src:!0,alt:!0,class:!0}),o=Se(r),e=K(r,"SPAN",{class:!0});var t=b(e);s=Pe(t,d[0]),t.forEach(D),r.forEach(D),this.h()},h(){W(g,"loading","lazy"),W(g,"decoding","async"),ft(g.src,P=Ke+d[2])||W(g,"src",P),W(g,"alt",d[0]),W(g,"class","cpeum-33xpn7"),W(e,"class","cpeum-33xpn7"),he(a,l),z(a,"hidden",!d[1]),z(a,"cpeum-33xpn7",!0)},m(f,r){U(f,a,r),Z(a,g),Z(a,o),Z(a,e),Z(e,s),i||(n=[ee(g,"load",d[4]),we(Ze.call(null,a,{rootMargin:"200px 200px 200px 200px"})),ee(a,"enter",d[3],{once:!0})],i=!0)},p(f,[r]){r&4&&!ft(g.src,P=Ke+f[2])&&W(g,"src",P),r&1&&W(g,"alt",f[0]),r&1&&Le(s,f[0]),he(a,l=de(h,[r&32&&f[5]])),z(a,"hidden",!f[1]),z(a,"cpeum-33xpn7",!0)},i:Ve,o:Ve,d(f){f&&D(a),i=!1,De(n)}}}function Nt(d,a,g){const P=["src","alt"];let o=ge(a,P),{src:e}=a,{alt:s}=a,i=!1,n="";const h=Lt();async function l(){g(2,n=e)}function f(){g(1,i=!0),h("load")}return d.$$set=r=>{a=Y(Y({},a),ze(r)),g(5,o=ge(a,P)),"src"in r&&g(6,e=r.src),"alt"in r&&g(0,s=r.alt)},[s,i,n,l,f,o,e]}class rn extends te{constructor(a){super(),ie(this,a,Nt,Gt,ne,{src:6,alt:0})}}function Ut(d){let a,g,P,o,e;const s=d[2].default,i=ae(s,d,d[1],null);let n=[d[0]],h={};for(let l=0;l<n.length;l+=1)h=Y(h,n[l]);return{c(){a=_("h2"),g=_("span"),i&&i.c(),this.h()},l(l){a=K(l,"H2",{});var f=b(a);g=K(f,"SPAN",{class:!0});var r=b(g);i&&i.l(r),r.forEach(D),f.forEach(D),this.h()},h(){W(g,"class","cpeum-1uh9iq8"),he(a,h),z(a,"cpeum-1uh9iq8",!0)},m(l,f){U(l,a,f),Z(a,g),i&&i.m(g,null),P=!0,o||(e=we(Mt.call(null,a,kt)),o=!0)},p(l,[f]){i&&i.p&&(!P||f&2)&&le(i,s,l,l[1],P?fe(s,l[1],f,null):oe(l[1]),null),he(a,h=de(n,[f&1&&l[0]])),z(a,"cpeum-1uh9iq8",!0)},i(l){P||(Q(i,l),P=!0)},o(l){X(i,l),P=!1},d(l){l&&D(a),i&&i.d(l),o=!1,e()}}}function _t(d,a,g){const P=[];let o=ge(a,P),{$$slots:e={},$$scope:s}=a;return d.$$set=i=>{a=Y(Y({},a),ze(i)),g(0,o=ge(a,P)),"$$scope"in i&&g(1,s=i.$$scope)},[o,s,e]}class Je extends te{constructor(a){super(),ie(this,a,_t,Ut,ne,{})}}function Kt(d){let a;return{c(){a=xe(d[0])},l(g){a=Pe(g,d[0])},m(g,P){U(g,a,P)},p(g,P){P&1&&Le(a,g[0])},d(g){g&&D(a)}}}function Qt(d){let a,g,P,o;g=new Je({props:{$$slots:{default:[Kt]},$$scope:{ctx:d}}});const e=d[1].default,s=ae(e,d,d[2],null);return{c(){a=_("section"),Ie(g.$$.fragment),P=ye(),s&&s.c()},l(i){a=K(i,"SECTION",{});var n=b(a);Ee(g.$$.fragment,n),P=Se(n),s&&s.l(n),n.forEach(D)},m(i,n){U(i,a,n),Te(g,a,null),Z(a,P),s&&s.m(a,null),o=!0},p(i,[n]){const h={};n&5&&(h.$$scope={dirty:n,ctx:i}),g.$set(h),s&&s.p&&(!o||n&4)&&le(s,e,i,i[2],o?fe(e,i[2],n,null):oe(i[2]),null)},i(i){o||(Q(g.$$.fragment,i),Q(s,i),o=!0)},o(i){X(g.$$.fragment,i),X(s,i),o=!1},d(i){i&&D(a),Ae(g),s&&s.d(i)}}}function Zt(d,a,g){let{$$slots:P={},$$scope:o}=a,{heading:e}=a;return d.$$set=s=>{"heading"in s&&g(0,e=s.heading),"$$scope"in s&&g(2,o=s.$$scope)},[e,P,o]}class an extends te{constructor(a){super(),ie(this,a,Zt,Qt,ne,{heading:0})}}function It(d,{scrollParent:a=document.body,factor:g=.8}={}){let P=0;function o(){const e=d.getBoundingClientRect();P=(Math.min(window.innerHeight,Math.max(-e.height,e.top-P))+e.height/2-window.innerHeight/2)*(g-1),d.style.transform=`translateY(${P}px)`}return o(),a.addEventListener("scroll",o),{destroy(){a.removeEventListener("scroll",o)}}}function vt(d){let a,g,P,o;return{c(){a=_("div"),this.h()},l(e){a=K(e,"DIV",{class:!0}),b(a).forEach(D),this.h()},h(){W(a,"class","image cpeum-6omqde"),G(a,"background-image",d[2]?`url(${Ke+d[2]})`:"",!1)},m(e,s){U(e,a,s),P||(o=we(g=It.call(null,a,{factor:.8})),P=!0)},p(e,s){s&4&&G(a,"background-image",e[2]?`url(${Ke+e[2]})`:"",!1)},d(e){e&&D(a),P=!1,o()}}}function Jt(d){let a,g,P,o,e,s,i,n,h=`rotate(${d[3]}deg)`,l,f,r=d[2]&&vt(d);return{c(){a=_("header"),g=_("hgroup"),P=_("span"),o=xe(d[0]),e=ye(),s=_("h3"),i=xe(d[1]),n=ye(),r&&r.c(),this.h()},l(t){a=K(t,"HEADER",{class:!0});var u=b(a);g=K(u,"HGROUP",{class:!0});var c=b(g);P=K(c,"SPAN",{class:!0});var m=b(P);o=Pe(m,d[0]),m.forEach(D),e=Se(c),s=K(c,"H3",{class:!0});var y=b(s);i=Pe(y,d[1]),y.forEach(D),c.forEach(D),n=Se(u),r&&r.l(u),u.forEach(D),this.h()},h(){W(P,"class","cpeum-6omqde"),W(s,"class","cpeum-6omqde"),W(g,"class","cpeum-6omqde"),W(a,"class","cpeum-6omqde"),G(a,"transform",h,!1)},m(t,u){U(t,a,u),Z(a,g),Z(g,P),Z(P,o),Z(g,e),Z(g,s),Z(s,i),Z(a,n),r&&r.m(a,null),l||(f=[we(Mt.call(null,s,kt)),we(It.call(null,g,{factor:.6}))],l=!0)},p(t,[u]){u&1&&Le(o,t[0]),u&2&&Le(i,t[1]),t[2]?r?r.p(t,u):(r=vt(t),r.c(),r.m(a,null)):r&&(r.d(1),r=null)},i:Ve,o:Ve,d(t){t&&D(a),r&&r.d(),l=!1,De(f)}}}function Xt(d,a,g){let{label:P}=a,{title:o}=a,{src:e=""}=a;const s=(Math.random()*4-2).toFixed(1);return d.$$set=i=>{"label"in i&&g(0,P=i.label),"title"in i&&g(1,o=i.title),"src"in i&&g(2,e=i.src)},[P,o,e,s]}class Yt extends te{constructor(a){super(),ie(this,a,Xt,Jt,ne,{label:0,title:1,src:2})}}function jt(d){let a,g,P,o,e,s;g=new Yt({props:{label:d[0],title:d[1],src:d[2]}});const i=d[5].default,n=ae(i,d,d[4],null);return{c(){a=_("section"),Ie(g.$$.fragment),P=ye(),n&&n.c(),this.h()},l(h){a=K(h,"SECTION",{class:!0});var l=b(a);Ee(g.$$.fragment,l),P=Se(l),n&&n.l(l),l.forEach(D),this.h()},h(){W(a,"class","cpeum-gx7jps")},m(h,l){U(h,a,l),Te(g,a,null),Z(a,P),n&&n.m(a,null),o=!0,e||(s=[we(Ze.call(null,a)),ee(a,"enter",qt),ee(a,"leave",$t)],e=!0)},p(h,[l]){const f={};l&1&&(f.label=h[0]),l&2&&(f.title=h[1]),l&4&&(f.src=h[2]),g.$set(f),n&&n.p&&(!o||l&16)&&le(n,i,h,h[4],o?fe(i,h[4],l,null):oe(h[4]),null)},i(h){o||(Q(g.$$.fragment,h),Q(n,h),o=!0)},o(h){X(g.$$.fragment,h),X(n,h),o=!1},d(h){h&&D(a),Ae(g),n&&n.d(h),e=!1,De(s)}}}function qt(){}function $t(){}function ei(d,a,g){let{$$slots:P={},$$scope:o}=a,{label:e}=a,{title:s}=a,{key:i}=a,{src:n=""}=a;return pe("exercice"),d.$$set=h=>{"label"in h&&g(0,e=h.label),"title"in h&&g(1,s=h.title),"key"in h&&g(3,i=h.key),"src"in h&&g(2,n=h.src),"$$scope"in h&&g(4,o=h.$$scope)},[e,s,n,i,o,P]}class ln extends te{constructor(a){super(),ie(this,a,ei,jt,ne,{label:0,title:1,key:3,src:2})}}function ti(d){let a;return{c(){a=xe(d[0])},l(g){a=Pe(g,d[0])},m(g,P){U(g,a,P)},p(g,P){P&1&&Le(a,g[0])},d(g){g&&D(a)}}}function ii(d){let a,g,P,o;g=new Je({props:{$$slots:{default:[ti]},$$scope:{ctx:d}}});const e=d[1].default,s=ae(e,d,d[2],null);return{c(){a=_("section"),Ie(g.$$.fragment),P=ye(),s&&s.c()},l(i){a=K(i,"SECTION",{});var n=b(a);Ee(g.$$.fragment,n),P=Se(n),s&&s.l(n),n.forEach(D)},m(i,n){U(i,a,n),Te(g,a,null),Z(a,P),s&&s.m(a,null),o=!0},p(i,[n]){const h={};n&5&&(h.$$scope={dirty:n,ctx:i}),g.$set(h),s&&s.p&&(!o||n&4)&&le(s,e,i,i[2],o?fe(e,i[2],n,null):oe(i[2]),null)},i(i){o||(Q(g.$$.fragment,i),Q(s,i),o=!0)},o(i){X(g.$$.fragment,i),X(s,i),o=!1},d(i){i&&D(a),Ae(g),s&&s.d(i)}}}function ni(d,a,g){let{$$slots:P={},$$scope:o}=a,{heading:e}=a;return d.$$set=s=>{"heading"in s&&g(0,e=s.heading),"$$scope"in s&&g(2,o=s.$$scope)},[e,P,o]}class on extends te{constructor(a){super(),ie(this,a,ni,ii,ne,{heading:0})}}function si(d){let a,g;const P=d[3].default,o=ae(P,d,d[2],null);let e=[d[0]],s={};for(let i=0;i<e.length;i+=1)s=Y(s,e[i]);return{c(){a=_("dl"),o&&o.c(),this.h()},l(i){a=K(i,"DL",{});var n=b(a);o&&o.l(n),n.forEach(D),this.h()},h(){he(a,s),G(a,"font-size","13px",!1),z(a,"cpeum-bh8arh",!0)},m(i,n){U(i,a,n),o&&o.m(a,null),g=!0},p(i,[n]){o&&o.p&&(!g||n&4)&&le(o,P,i,i[2],g?fe(P,i[2],n,null):oe(i[2]),null),he(a,s=de(e,[n&1&&i[0]])),G(a,"font-size","13px",!1),z(a,"cpeum-bh8arh",!0)},i(i){g||(Q(o,i),g=!0)},o(i){X(o,i),g=!1},d(i){i&&D(a),o&&o.d(i)}}}function ri(d,a,g){const P=["size"];let o=ge(a,P),{$$slots:e={},$$scope:s}=a,{size:i="medium"}=a;return ke("legend",{}),d.$$set=n=>{a=Y(Y({},a),ze(n)),g(0,o=ge(a,P)),"size"in n&&g(1,i=n.size),"$$scope"in n&&g(2,s=n.$$scope)},[o,i,s,e]}class ai extends te{constructor(a){super(),ie(this,a,ri,si,ne,{size:1})}}const li=d=>({}),mt=d=>({});function dt(d){let a,g,P,o=`${d[0]}px`,e;return g=new ai({props:{$$slots:{default:[oi]},$$scope:{ctx:d}}}),{c(){a=_("div"),Ie(g.$$.fragment),this.h()},l(s){a=K(s,"DIV",{id:!0,class:!0});var i=b(a);Ee(g.$$.fragment,i),i.forEach(D),this.h()},h(){W(a,"id","legend-wrapper"),W(a,"class","cpeum-i4vwa1"),Qe(()=>d[16].call(a)),G(a,"--h",o,!1)},m(s,i){U(s,a,i),Te(g,a,null),P=St(a,d[16].bind(a)),e=!0},p(s,i){const n={};i&131072&&(n.$$scope={dirty:i,ctx:s}),g.$set(n),i&1&&o!==(o=`${s[0]}px`)&&G(a,"--h",o,!1)},i(s){e||(Q(g.$$.fragment,s),e=!0)},o(s){X(g.$$.fragment,s),e=!1},d(s){s&&D(a),Ae(g),P()}}}function oi(d){let a;const g=d[15].legend,P=ae(g,d,d[17],mt);return{c(){P&&P.c()},l(o){P&&P.l(o)},m(o,e){P&&P.m(o,e),a=!0},p(o,e){P&&P.p&&(!a||e&131072)&&le(P,g,o,o[17],a?fe(g,o[17],e,li):oe(o[17]),mt)},i(o){a||(Q(P,o),a=!0)},o(o){X(P,o),a=!1},d(o){P&&P.d(o)}}}function fi(d){let a,g,P,o,e;const s=d[15].default,i=ae(s,d,d[17],null);let n=d[7].legend&&dt(d),h=[{id:"trigger"},d[6]],l={};for(let f=0;f<h.length;f+=1)l=Y(l,h[f]);return{c(){a=_("div"),i&&i.c(),g=ye(),n&&n.c(),this.h()},l(f){a=K(f,"DIV",{id:!0});var r=b(a);i&&i.l(r),g=Se(r),n&&n.l(r),r.forEach(D),this.h()},h(){he(a,l),z(a,"cpeum-i4vwa1",!0)},m(f,r){U(f,a,r),i&&i.m(a,null),Z(a,g),n&&n.m(a,null),P=!0,o||(e=[we(Ze.call(null,a,{rootMargin:"-50% -50% -50% -50%"})),ee(a,"enter",d[4]),ee(a,"leave",d[5])],o=!0)},p(f,[r]){i&&i.p&&(!P||r&131072)&&le(i,s,f,f[17],P?fe(s,f[17],r,null):oe(f[17]),null),f[7].legend?n?(n.p(f,r),r&128&&Q(n,1)):(n=dt(f),n.c(),Q(n,1),n.m(a,null)):n&&(Pt(),X(n,1,1,()=>{n=null}),Ct()),he(a,l=de(h,[{id:"trigger"},r&64&&f[6]])),z(a,"cpeum-i4vwa1",!0)},i(f){P||(Q(i,f),Q(n),P=!0)},o(f){X(i,f),X(n),P=!1},d(f){f&&D(a),i&&i.d(f),n&&n.d(),o=!1,De(e)}}}function ui(d,a,g){const P=["bounds","pitch"];let o=ge(a,P),e,s,i,n;me(d,je,M=>g(12,s=M));let{$$slots:h={},$$scope:l}=a;const f=Dt(h);let{bounds:r=Vt.fallback}=a,{pitch:t=void 0}=a,u=0,c=Oe(!1);me(d,c,M=>g(11,e=M));let m=!1,y=Oe(null);me(d,y,M=>g(14,n=M));let I=Oe(null),w=Oe(null);me(d,w,M=>g(13,i=M));let v=0;const p=["-lines","-circles","-fills"].map(M=>"propositions"+M);ke("figuremap",{active:c}),ke("currentKey",y),ke("currentDataKey",I),ke("currentView",w),ke("markers",{getIndex:()=>u++});function S(){g(10,m=!0),je.setClass("figure"),c.set(!0),r&&Be.set({bounds:r,pitch:t})}function x(){g(10,m=!1),je.setClass(""),Be.set(null),c.set(!1)}function C(){v=this.clientHeight,g(0,v)}return d.$$set=M=>{a=Y(Y({},a),ze(M)),g(6,o=ge(a,P)),"bounds"in M&&g(8,r=M.bounds),"pitch"in M&&g(9,t=M.pitch),"$$scope"in M&&g(17,l=M.$$scope)},d.$$.update=()=>{if(d.$$.dirty&17152&&(n?(ct.set({key:n}),Be.set({filter:{key:n}})):n||(ct.set(null),Be.set({bounds:r,pitch:t}))),d.$$.dirty&8960&&(i?Be.set({center:{point:i.lnglat,zoom:i.zoom}}):i||Be.set({bounds:r,pitch:t})),d.$$.dirty&5120&&(s.full&&m?c.set(!1):!s.full&&m&&c.set(!0)),d.$$.dirty&2048){if(e)for(const M of p)ce.setLayoutProperty(M,"visibility","none");else if(!e)for(const M of p)ce.setLayoutProperty(M,"visibility","visible")}},[v,c,y,w,S,x,o,f,r,t,m,e,s,i,n,h,C,l]}class fn extends te{constructor(a){super(),ie(this,a,ui,fi,ne,{bounds:8,pitch:9})}}function ci(d){let a,g=`url(${d[1]})`,P=[d[10]],o={};for(let e=0;e<P.length;e+=1)o=Y(o,P[e]);return{c(){a=_("div"),this.h()},l(e){a=K(e,"DIV",{}),b(a).forEach(D),this.h()},h(){he(a,o),G(a,"background-image",g,!1),z(a,"cpeum-vz5i1k",!0)},m(e,s){U(e,a,s)},p(e,s){he(a,o=de(P,[s&1024&&e[10]])),G(a,"background-image",g,!1),z(a,"cpeum-vz5i1k",!0)},d(e){e&&D(a)}}}function hi(d){let a,g,P,o,e;function s(r,t){if(t&1&&(g=null),t&2&&(P=null),r[0]==="square")return pi;if(r[0]==="circle")return di;if(r[0]==="triangle")return mi;if(g==null&&(g=["line","dotted","dashed"].indexOf(r[0])>-1),g)return vi;if(P==null&&(P=!!Boolean(r[1])),P)return gi}let i=s(d,-1),n=i&&i(d),h=d[4]&&pt(d),l=[{width:J},{height:J},{viewBox:e="0 0 "+J+" "+J},d[10]],f={};for(let r=0;r<l.length;r+=1)f=Y(f,l[r]);return{c(){a=Re("svg"),n&&n.c(),o=_e(),h&&h.c(),this.h()},l(r){a=Fe(r,"svg",{width:!0,height:!0,viewBox:!0});var t=b(a);n&&n.l(t),o=_e(),h&&h.l(t),t.forEach(D),this.h()},h(){Ce(a,f),G(a,"opacity",d[5],!1),z(a,"cpeum-vz5i1k",!0)},m(r,t){U(r,a,t),n&&n.m(a,null),Z(a,o),h&&h.m(a,null)},p(r,t){i===(i=s(r,t))&&n?n.p(r,t):(n&&n.d(1),n=i&&i(r),n&&(n.c(),n.m(a,o))),r[4]?h?h.p(r,t):(h=pt(r),h.c(),h.m(a,null)):h&&(h.d(1),h=null),Ce(a,f=de(l,[{width:J},{height:J},{viewBox:e},t&1024&&r[10]])),G(a,"opacity",r[5],!1),z(a,"cpeum-vz5i1k",!0)},d(r){r&&D(a),n&&n.d(),h&&h.d()}}}function gi(d){let a,g,P;return{c(){a=Re("text"),g=xe("Source: "),P=xe(d[1]),this.h()},l(o){a=Fe(o,"text",{class:!0});var e=b(a);g=Pe(e,"Source: "),P=Pe(e,d[1]),e.forEach(D),this.h()},h(){W(a,"class","cpeum-vz5i1k")},m(o,e){U(o,a,e),Z(a,g),Z(a,P)},p(o,e){e&2&&Le(P,o[1])},d(o){o&&D(a)}}}function vi(d){let a,g,P=[{d:g="M"+He+","+J/2+" Q"+J/4+","+J/3+" "+J/2+","+J/2+" T"+(J-He)+","+J/2},{"vector-effect":"non-scaling-stroke"},d[7]],o={};for(let e=0;e<P.length;e+=1)o=Y(o,P[e]);return{c(){a=Re("path"),this.h()},l(e){a=Fe(e,"path",{d:!0,"vector-effect":!0}),b(a).forEach(D),this.h()},h(){Ce(a,o),z(a,"highlight",d[6]),z(a,"cpeum-vz5i1k",!0)},m(e,s){U(e,a,s)},p(e,s){Ce(a,o=de(P,[{d:g},{"vector-effect":"non-scaling-stroke"},s&128&&e[7]])),z(a,"highlight",e[6]),z(a,"cpeum-vz5i1k",!0)},d(e){e&&D(a)}}}function mi(d){let a,g,P=[{points:g=J/2+" "+He+", "+He+" "+(J-d[8])+", "+(J-He)+" "+(J-d[8])},d[7]],o={};for(let e=0;e<P.length;e+=1)o=Y(o,P[e]);return{c(){a=Re("polygon"),this.h()},l(e){a=Fe(e,"polygon",{points:!0}),b(a).forEach(D),this.h()},h(){Ce(a,o),z(a,"highlight",d[6]),z(a,"cpeum-vz5i1k",!0)},m(e,s){U(e,a,s)},p(e,s){Ce(a,o=de(P,[{points:g},s&128&&e[7]])),z(a,"highlight",e[6]),z(a,"cpeum-vz5i1k",!0)},d(e){e&&D(a)}}}function di(d){let a,g,P,o,e=[{cx:g=J/2},{cy:P=J/2},{r:o=J/2-He},d[7]],s={};for(let i=0;i<e.length;i+=1)s=Y(s,e[i]);return{c(){a=Re("circle"),this.h()},l(i){a=Fe(i,"circle",{cx:!0,cy:!0,r:!0}),b(a).forEach(D),this.h()},h(){Ce(a,s),z(a,"highlight",d[6]),z(a,"cpeum-vz5i1k",!0)},m(i,n){U(i,a,n)},p(i,n){Ce(a,s=de(e,[{cx:g},{cy:P},{r:o},n&128&&i[7]])),z(a,"highlight",i[6]),z(a,"cpeum-vz5i1k",!0)},d(i){i&&D(a)}}}function pi(d){let a,g,P,o,e,s=[{rx:g=J/20},{ry:P=J/20},{x:d[8]},{y:d[8]},{width:o=J-2*d[8]},{height:e=J-2*d[8]},d[7]],i={};for(let n=0;n<s.length;n+=1)i=Y(i,s[n]);return{c(){a=Re("rect"),this.h()},l(n){a=Fe(n,"rect",{rx:!0,ry:!0,x:!0,y:!0,width:!0,height:!0}),b(a).forEach(D),this.h()},h(){Ce(a,i),z(a,"highlight",d[6]),z(a,"cpeum-vz5i1k",!0)},m(n,h){U(n,a,h)},p(n,h){Ce(a,i=de(s,[{rx:g},{ry:P},{x:n[8]},{y:n[8]},{width:o},{height:e},h&128&&n[7]])),z(a,"highlight",n[6]),z(a,"cpeum-vz5i1k",!0)},d(n){n&&D(a)}}}function pt(d){let a,g,P;return{c(){a=Re("text"),g=xe(d[4]),this.h()},l(o){a=Fe(o,"text",{"font-size":!0,"font-family":!0,"font-weight":!0,dy:!0,x:!0,y:!0,"text-anchor":!0,fill:!0,class:!0});var e=b(a);g=Pe(e,d[4]),e.forEach(D),this.h()},h(){W(a,"font-size",d[9]),W(a,"font-family","var(--font-display)"),W(a,"font-weight","600"),W(a,"dy",".3em"),W(a,"x","50%"),W(a,"y","50%"),W(a,"text-anchor","middle"),W(a,"fill",P=d[6]?d[3]:d[2]),W(a,"class","cpeum-vz5i1k")},m(o,e){U(o,a,e),Z(a,g)},p(o,e){e&16&&Le(g,o[4]),e&76&&P!==(P=o[6]?o[3]:o[2])&&W(a,"fill",P)},d(o){o&&D(a)}}}function yi(d){let a;function g(e,s){return e[1]?ci:hi}let P=g(d),o=P(d);return{c(){o.c(),a=_e()},l(e){o.l(e),a=_e()},m(e,s){o.m(e,s),U(e,a,s)},p(e,[s]){P===(P=g(e))&&o?o.p(e,s):(o.d(1),o=P(e),o&&(o.c(),o.m(a.parentNode,a)))},i:Ve,o:Ve,d(e){o.d(e),e&&D(a)}}}const J=50,He=5;function xi(d,a,g){const P=["shape","src","color","colorHighlight","label","opacity","fill","fillHighlight","stroke","strokeHighlight","strokeWidth","strokeWidthHighlight","strokeType","strokeDashArray","highlight"];let o=ge(a,P),{shape:e="circle"}=a,{src:s=null}=a,{color:i="var(--dark1)"}=a,{colorHighlight:n=i}=a,{label:h=null}=a,{opacity:l=1}=a,{fill:f="none"}=a,{fillHighlight:r=f}=a,{stroke:t="none"}=a,{strokeHighlight:u=t}=a,{strokeWidth:c=1}=a,{strokeWidthHighlight:m=c}=a,{strokeType:y="solid"}=a,{strokeDashArray:I=void 0}=a,{highlight:w=!1}=a;const v=He*1.5,p=J/2.2,S=y==="dashed"?`${3*c}, ${1.5*c}`:y==="dotted"?`0, ${2*c}`:null;let x;return d.$$set=C=>{a=Y(Y({},a),ze(C)),g(10,o=ge(a,P)),"shape"in C&&g(0,e=C.shape),"src"in C&&g(1,s=C.src),"color"in C&&g(2,i=C.color),"colorHighlight"in C&&g(3,n=C.colorHighlight),"label"in C&&g(4,h=C.label),"opacity"in C&&g(5,l=C.opacity),"fill"in C&&g(11,f=C.fill),"fillHighlight"in C&&g(12,r=C.fillHighlight),"stroke"in C&&g(13,t=C.stroke),"strokeHighlight"in C&&g(14,u=C.strokeHighlight),"strokeWidth"in C&&g(15,c=C.strokeWidth),"strokeWidthHighlight"in C&&g(16,m=C.strokeWidthHighlight),"strokeType"in C&&g(17,y=C.strokeType),"strokeDashArray"in C&&g(18,I=C.strokeDashArray),"highlight"in C&&g(6,w=C.highlight)},d.$$.update=()=>{d.$$.dirty&391233&&g(7,x={fill:w?r:f,stroke:w?u:t,"stroke-width":w?m:c,"stroke-linecap":e==="dashed"?"butt":"round","stroke-dasharray":I||S||""})},[e,s,i,n,h,l,w,x,v,p,o,f,r,t,u,c,m,y,I]}class Et extends te{constructor(a){super(),ie(this,a,xi,yi,ne,{shape:0,src:1,color:2,colorHighlight:3,label:4,opacity:5,fill:11,fillHighlight:12,stroke:13,strokeHighlight:14,strokeWidth:15,strokeWidthHighlight:16,strokeType:17,strokeDashArray:18,highlight:6})}}function yt(d){let a,g,P,o,e,s;return g=new Et({props:{src:d[1],label:d[0],color:d[3],fill:d[4],colorHighlight:d[6],fillHighlight:d[7],shape:d[2],stroke:d[5],strokeWidth:d[8],strokeType:d[9],interactive:d[10],highlight:d[11]||d[13]==d[17]}}),{c(){a=_("div"),Ie(g.$$.fragment),this.h()},l(i){a=K(i,"DIV",{class:!0});var n=b(a);Ee(g.$$.fragment,n),n.forEach(D),this.h()},h(){W(a,"class","inner cpeum-1sj69sy"),z(a,"highlight",d[11]||d[13]==d[17])},m(i,n){U(i,a,n),Te(g,a,null),o=!0,e||(s=[ee(a,"mouseenter",d[23]),ee(a,"mouseleave",d[24])],e=!0)},p(i,n){d=i;const h={};n[0]&2&&(h.src=d[1]),n[0]&1&&(h.label=d[0]),n[0]&8&&(h.color=d[3]),n[0]&16&&(h.fill=d[4]),n[0]&64&&(h.colorHighlight=d[6]),n[0]&128&&(h.fillHighlight=d[7]),n[0]&4&&(h.shape=d[2]),n[0]&32&&(h.stroke=d[5]),n[0]&256&&(h.strokeWidth=d[8]),n[0]&512&&(h.strokeType=d[9]),n[0]&1024&&(h.interactive=d[10]),n[0]&141312&&(h.highlight=d[11]||d[13]==d[17]),g.$set(h),n[0]&141312&&z(a,"highlight",d[11]||d[13]==d[17])},i(i){o||(Q(g.$$.fragment,i),P||Qe(()=>{P=Rt(a,Ot,{y:15,duration:1e3,easing:Wt,delay:d[20]*150+500}),P.start()}),o=!0)},o(i){X(g.$$.fragment,i),o=!1},d(i){i&&D(a),Ae(g),e=!1,De(s)}}}function Si(d){let a,g,P=`${d[14]}px`,o,e=(d[12]&&!d[22]||d[22]&&d[19])&&yt(d),s=[{class:"outer"},d[25],{style:g=(d[15]?`transform: translate(-50%, -50%); left: ${d[15]}%;`:"")+" "+(d[16]?`top: ${d[16]}%;`:"")}],i={};for(let n=0;n<s.length;n+=1)i=Y(i,s[n]);return{c(){a=_("div"),e&&e.c(),this.h()},l(n){a=K(n,"DIV",{class:!0,style:!0});var h=b(a);e&&e.l(h),h.forEach(D),this.h()},h(){he(a,i),G(a,"font-size",P,!1),z(a,"cpeum-1sj69sy",!0)},m(n,h){U(n,a,h),e&&e.m(a,null),d[29](a),o=!0},p(n,h){n[12]&&!n[22]||n[22]&&n[19]?e?(e.p(n,h),h[0]&528384&&Q(e,1)):(e=yt(n),e.c(),Q(e,1),e.m(a,null)):e&&(Pt(),X(e,1,1,()=>{e=null}),Ct()),he(a,i=de(s,[{class:"outer"},h[0]&33554432&&n[25],(!o||h[0]&98304&&g!==(g=(n[15]?`transform: translate(-50%, -50%); left: ${n[15]}%;`:"")+" "+(n[16]?`top: ${n[16]}%;`:"")))&&{style:g}])),G(a,"font-size",P,!1),z(a,"cpeum-1sj69sy",!0)},i(n){o||(Q(e),o=!0)},o(n){X(e),o=!1},d(n){n&&D(a),e&&e.d(),d[29](null)}}}function Pi(d,a,g){const P=["label","src","shape","color","fill","stroke","colorHighlight","fillHighlight","strokeHighlight","strokeWidth","strokeType","interactive","highlight","active","key","size","lnglat","zoom","x","y"];let o=ge(a,P),e,s,{label:i}=a,{src:n=null}=a,{shape:h="circle"}=a,{color:l="var(--accent3)"}=a,{fill:f="var(--light1)"}=a,{stroke:r="none"}=a,{colorHighlight:t=void 0}=a,{fillHighlight:u=void 0}=a,{strokeHighlight:c=void 0}=a,{strokeWidth:m=1}=a,{strokeType:y="solid"}=a,{interactive:I=!0}=a,{highlight:w=!1}=a,{active:v=!0}=a,{key:p=i}=a,{size:S=40}=a,{lnglat:x=null}=a,{zoom:C=16}=a,{x:M=null}=a,{y:E=null}=a,k;pe("figure");const T=pe("figuremap"),B=pe("markers"),H=B?B.getIndex():0,L=pe("currentKey");me(d,L,A=>g(17,e=A));const R=T?T.active:null;me(d,R,A=>g(19,s=A));function F(){L.set(p)}function O(){L.set(null)}$e(()=>{T&&new zt.exports.Marker({element:k,anchor:"center"}).setLngLat(x).addTo(ce)}),qe(()=>{});function V(A){et[A?"unshift":"push"](()=>{k=A,g(18,k)})}return d.$$set=A=>{a=Y(Y({},a),ze(A)),g(25,o=ge(a,P)),"label"in A&&g(0,i=A.label),"src"in A&&g(1,n=A.src),"shape"in A&&g(2,h=A.shape),"color"in A&&g(3,l=A.color),"fill"in A&&g(4,f=A.fill),"stroke"in A&&g(5,r=A.stroke),"colorHighlight"in A&&g(6,t=A.colorHighlight),"fillHighlight"in A&&g(7,u=A.fillHighlight),"strokeHighlight"in A&&g(26,c=A.strokeHighlight),"strokeWidth"in A&&g(8,m=A.strokeWidth),"strokeType"in A&&g(9,y=A.strokeType),"interactive"in A&&g(10,I=A.interactive),"highlight"in A&&g(11,w=A.highlight),"active"in A&&g(12,v=A.active),"key"in A&&g(13,p=A.key),"size"in A&&g(14,S=A.size),"lnglat"in A&&g(27,x=A.lnglat),"zoom"in A&&g(28,C=A.zoom),"x"in A&&g(15,M=A.x),"y"in A&&g(16,E=A.y)},d.$$.update=()=>{d.$$.dirty[0]&402792448&&T&&x&&L&&e===p&&Be.set({center:{point:x,zoom:C}})},[i,n,h,l,f,r,t,u,m,y,I,w,v,p,S,M,E,e,k,s,H,L,R,F,O,o,c,x,C,V]}class un extends te{constructor(a){super(),ie(this,a,Pi,Si,ne,{label:0,src:1,shape:2,color:3,fill:4,stroke:5,colorHighlight:6,fillHighlight:7,strokeHighlight:26,strokeWidth:8,strokeType:9,interactive:10,highlight:11,active:12,key:13,size:14,lnglat:27,zoom:28,x:15,y:16},null,[-1,-1])}}function Ci(d){let a;return{c(){a=xe("Pr\xE9f\xE9rences d'am\xE9nagement des citoyens et des acteurs du milieu")},l(g){a=Pe(g,"Pr\xE9f\xE9rences d'am\xE9nagement des citoyens et des acteurs du milieu")},m(g,P){U(g,a,P)},d(g){g&&D(a)}}}function Mi(d){let a,g,P,o;g=new Je({props:{$$slots:{default:[Ci]},$$scope:{ctx:d}}});const e=d[0].default,s=ae(e,d,d[1],null);return{c(){a=_("section"),Ie(g.$$.fragment),P=ye(),s&&s.c()},l(i){a=K(i,"SECTION",{});var n=b(a);Ee(g.$$.fragment,n),P=Se(n),s&&s.l(n),n.forEach(D)},m(i,n){U(i,a,n),Te(g,a,null),Z(a,P),s&&s.m(a,null),o=!0},p(i,[n]){const h={};n&2&&(h.$$scope={dirty:n,ctx:i}),g.$set(h),s&&s.p&&(!o||n&2)&&le(s,e,i,i[1],o?fe(e,i[1],n,null):oe(i[1]),null)},i(i){o||(Q(g.$$.fragment,i),Q(s,i),o=!0)},o(i){X(g.$$.fragment,i),X(s,i),o=!1},d(i){i&&D(a),Ae(g),s&&s.d(i)}}}function ki(d,a,g){let{$$slots:P={},$$scope:o}=a;return d.$$set=e=>{"$$scope"in e&&g(1,o=e.$$scope)},[P,o]}class cn extends te{constructor(a){super(),ie(this,a,ki,Mi,ne,{})}}function wi(d){let a;return{c(){a=xe("Propositions d'am\xE9nagement")},l(g){a=Pe(g,"Propositions d'am\xE9nagement")},m(g,P){U(g,a,P)},d(g){g&&D(a)}}}function Ii(d){let a,g,P,o;g=new Je({props:{$$slots:{default:[wi]},$$scope:{ctx:d}}});const e=d[0].default,s=ae(e,d,d[1],null);return{c(){a=_("section"),Ie(g.$$.fragment),P=ye(),s&&s.c()},l(i){a=K(i,"SECTION",{});var n=b(a);Ee(g.$$.fragment,n),P=Se(n),s&&s.l(n),n.forEach(D)},m(i,n){U(i,a,n),Te(g,a,null),Z(a,P),s&&s.m(a,null),o=!0},p(i,[n]){const h={};n&2&&(h.$$scope={dirty:n,ctx:i}),g.$set(h),s&&s.p&&(!o||n&2)&&le(s,e,i,i[1],o?fe(e,i[1],n,null):oe(i[1]),null)},i(i){o||(Q(g.$$.fragment,i),Q(s,i),o=!0)},o(i){X(g.$$.fragment,i),X(s,i),o=!1},d(i){i&&D(a),Ae(g),s&&s.d(i)}}}function Ei(d,a,g){let{$$slots:P={},$$scope:o}=a;return d.$$set=e=>{"$$scope"in e&&g(1,o=e.$$scope)},[P,o]}class hn extends te{constructor(a){super(),ie(this,a,Ei,Ii,ne,{})}}function Ti(d){let a,g,P,o,e,s,i,n;P=new Et({props:{style:"transform: scale("+d[5]+")",label:d[1],color:d[6],fill:d[8],stroke:d[9],opacity:d[7],strokeWidth:d[10],colorHighlight:d[12],fillHighlight:d[13],strokeHighlight:d[14],strokeWidthHighlight:d[15],src:d[16],shape:d[4],interactive:d[0],highlight:d[3],strokeDashArray:d[11]}});const h=d[27].default,l=ae(h,d,d[26],null);return{c(){a=_("div"),g=_("dt"),Ie(P.$$.fragment),o=ye(),e=_("dd"),l&&l.c(),this.h()},l(f){a=K(f,"DIV",{class:!0});var r=b(a);g=K(r,"DT",{class:!0});var t=b(g);Ee(P.$$.fragment,t),t.forEach(D),o=Se(r),e=K(r,"DD",{class:!0});var u=b(e);l&&l.l(u),u.forEach(D),r.forEach(D),this.h()},h(){W(g,"class","cpeum-sxt8db"),W(e,"class","cpeum-sxt8db"),W(a,"class","cpeum-sxt8db"),z(a,"interactive",d[0]),z(a,"highlight",d[3]||d[18]&&d[17]&&d[17]===d[2])},m(f,r){U(f,a,r),Z(a,g),Te(P,g,null),Z(a,o),Z(a,e),l&&l.m(e,null),s=!0,i||(n=[ee(a,"mouseover",d[28]),ee(a,"mouseleave",d[29]),ee(a,"mouseover",d[19]),ee(a,"mouseleave",d[20]),ee(a,"focus",d[30])],i=!0)},p(f,r){const t={};r[0]&32&&(t.style="transform: scale("+f[5]+")"),r[0]&2&&(t.label=f[1]),r[0]&64&&(t.color=f[6]),r[0]&256&&(t.fill=f[8]),r[0]&512&&(t.stroke=f[9]),r[0]&128&&(t.opacity=f[7]),r[0]&1024&&(t.strokeWidth=f[10]),r[0]&4096&&(t.colorHighlight=f[12]),r[0]&8192&&(t.fillHighlight=f[13]),r[0]&16384&&(t.strokeHighlight=f[14]),r[0]&32768&&(t.strokeWidthHighlight=f[15]),r[0]&65536&&(t.src=f[16]),r[0]&16&&(t.shape=f[4]),r[0]&1&&(t.interactive=f[0]),r[0]&8&&(t.highlight=f[3]),r[0]&2048&&(t.strokeDashArray=f[11]),P.$set(t),l&&l.p&&(!s||r[0]&67108864)&&le(l,h,f,f[26],s?fe(h,f[26],r,null):oe(f[26]),null),r[0]&1&&z(a,"interactive",f[0]),r[0]&393228&&z(a,"highlight",f[3]||f[18]&&f[17]&&f[17]===f[2])},i(f){s||(Q(P.$$.fragment,f),Q(l,f),s=!0)},o(f){X(P.$$.fragment,f),X(l,f),s=!1},d(f){f&&D(a),Ae(P),l&&l.d(f),i=!1,De(n)}}}function Ai(d,a,g){let P,{$$slots:o={},$$scope:e}=a,{label:s=void 0}=a,{key:i=void 0}=a,{dataKey:n=void 0}=a,{interactive:h=void 0}=a,{highlight:l=!1}=a,{shape:f="circle"}=a,{symbolScale:r=1}=a,{color:t="var(--light1)"}=a,{opacity:u=1}=a,{fill:c="var(--accent2)"}=a,{stroke:m=null}=a,{strokeWidth:y=0}=a,{strokeDashArray:I=void 0}=a,{colorHighlight:w=void 0}=a,{fillHighlight:v=void 0}=a,{strokeHighlight:p=void 0}=a,{strokeWidthHighlight:S=void 0}=a,{arrowEnd:x=!1}=a,{arrowStart:C=!1}=a,{src:M=void 0}=a,{lnglat:E=void 0}=a,{zoom:k=void 0}=a;const T=pe("currentKey");me(d,T,A=>g(17,P=A));const B=pe("currentDataKey"),H=pe("currentView");function L(){T&&i?T.set(i):H&&E?H.set({lnglat:E,zoom:k}):B&&n&&B.set(n)}function R(){T&&i?T.set(null):H&&E?H.set(null):B&&n&&B.set(null)}function F(A){Ye.call(this,d,A)}function O(A){Ye.call(this,d,A)}function V(A){Ye.call(this,d,A)}return d.$$set=A=>{"label"in A&&g(1,s=A.label),"key"in A&&g(2,i=A.key),"dataKey"in A&&g(21,n=A.dataKey),"interactive"in A&&g(0,h=A.interactive),"highlight"in A&&g(3,l=A.highlight),"shape"in A&&g(4,f=A.shape),"symbolScale"in A&&g(5,r=A.symbolScale),"color"in A&&g(6,t=A.color),"opacity"in A&&g(7,u=A.opacity),"fill"in A&&g(8,c=A.fill),"stroke"in A&&g(9,m=A.stroke),"strokeWidth"in A&&g(10,y=A.strokeWidth),"strokeDashArray"in A&&g(11,I=A.strokeDashArray),"colorHighlight"in A&&g(12,w=A.colorHighlight),"fillHighlight"in A&&g(13,v=A.fillHighlight),"strokeHighlight"in A&&g(14,p=A.strokeHighlight),"strokeWidthHighlight"in A&&g(15,S=A.strokeWidthHighlight),"arrowEnd"in A&&g(22,x=A.arrowEnd),"arrowStart"in A&&g(23,C=A.arrowStart),"src"in A&&g(16,M=A.src),"lnglat"in A&&g(24,E=A.lnglat),"zoom"in A&&g(25,k=A.zoom),"$$scope"in A&&g(26,e=A.$$scope)},d.$$.update=()=>{d.$$.dirty[0]&18874372&&(i||E||n)&&g(0,h=!0)},[h,s,i,l,f,r,t,u,c,m,y,I,w,v,p,S,M,P,T,L,R,n,x,C,E,k,e,o,F,O,V]}class gn extends te{constructor(a){super(),ie(this,a,Ai,Ti,ne,{label:1,key:2,dataKey:21,interactive:0,highlight:3,shape:4,symbolScale:5,color:6,opacity:7,fill:8,stroke:9,strokeWidth:10,strokeDashArray:11,colorHighlight:12,fillHighlight:13,strokeHighlight:14,strokeWidthHighlight:15,arrowEnd:22,arrowStart:23,src:16,lnglat:24,zoom:25},null,[-1,-1])}}function Bi(d){let a,g,P,o;const e=d[2].default,s=ae(e,d,d[1],null);return{c(){a=_("div"),s&&s.c(),this.h()},l(i){a=K(i,"DIV",{style:!0,class:!0});var n=b(a);s&&s.l(n),n.forEach(D),this.h()},h(){W(a,"style",g=gt(d[0])),W(a,"class","cpeum-1sqjp0y")},m(i,n){U(i,a,n),s&&s.m(a,null),o=!0},p(i,[n]){s&&s.p&&(!o||n&2)&&le(s,e,i,i[1],o?fe(e,i[1],n,null):oe(i[1]),null),(!o||n&1&&g!==(g=gt(i[0])))&&W(a,"style",g)},i(i){o||(Q(s,i),Qe(()=>{P||(P=ut(a,ht,{},!0)),P.run(1)}),o=!0)},o(i){X(s,i),P||(P=ut(a,ht,{},!1)),P.run(0),o=!1},d(i){i&&D(a),s&&s.d(i),i&&P&&P.end()}}}function Hi(d,a,g){let{$$slots:P={},$$scope:o}=a,{key:e}=a;return ke("exercice",e),d.$$set=s=>{"key"in s&&g(0,e=s.key),"$$scope"in s&&g(1,o=s.$$scope)},[e,o,P]}class vn extends te{constructor(a){super(),ie(this,a,Hi,Bi,ne,{key:0})}}var tt={exports:{}};/*!
 * matter-js 0.18.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(d,a){(function(P,o){d.exports=o()})(Ue,function(){return function(g){var P={};function o(e){if(P[e])return P[e].exports;var s=P[e]={i:e,l:!1,exports:{}};return g[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=g,o.c=P,o.d=function(e,s,i){o.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:i})},o.r=function(e){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,s){if(s&1&&(e=o(e)),s&8||s&4&&typeof e=="object"&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),s&2&&typeof e!="string")for(var n in e)o.d(i,n,function(h){return e[h]}.bind(null,n));return i},o.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(s,"a",s),s},o.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},o.p="",o(o.s=21)}([function(g,P){var o={};g.exports=o,function(){o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o._warnedOnce={},o._decomp=null,o.extend=function(s,i){var n,h;typeof i=="boolean"?(n=2,h=i):(n=1,h=!0);for(var l=n;l<arguments.length;l++){var f=arguments[l];if(f)for(var r in f)h&&f[r]&&f[r].constructor===Object&&(!s[r]||s[r].constructor===Object)?(s[r]=s[r]||{},o.extend(s[r],h,f[r])):s[r]=f[r]}return s},o.clone=function(s,i){return o.extend({},i,s)},o.keys=function(s){if(Object.keys)return Object.keys(s);var i=[];for(var n in s)i.push(n);return i},o.values=function(s){var i=[];if(Object.keys){for(var n=Object.keys(s),h=0;h<n.length;h++)i.push(s[n[h]]);return i}for(var l in s)i.push(s[l]);return i},o.get=function(s,i,n,h){i=i.split(".").slice(n,h);for(var l=0;l<i.length;l+=1)s=s[i[l]];return s},o.set=function(s,i,n,h,l){var f=i.split(".").slice(h,l);return o.get(s,i,0,-1)[f[f.length-1]]=n,n},o.shuffle=function(s){for(var i=s.length-1;i>0;i--){var n=Math.floor(o.random()*(i+1)),h=s[i];s[i]=s[n],s[n]=h}return s},o.choose=function(s){return s[Math.floor(o.random()*s.length)]},o.isElement=function(s){return typeof HTMLElement!="undefined"?s instanceof HTMLElement:!!(s&&s.nodeType&&s.nodeName)},o.isArray=function(s){return Object.prototype.toString.call(s)==="[object Array]"},o.isFunction=function(s){return typeof s=="function"},o.isPlainObject=function(s){return typeof s=="object"&&s.constructor===Object},o.isString=function(s){return toString.call(s)==="[object String]"},o.clamp=function(s,i,n){return s<i?i:s>n?n:s},o.sign=function(s){return s<0?-1:1},o.now=function(){if(typeof window!="undefined"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-o._nowStartTime},o.random=function(s,i){return s=typeof s!="undefined"?s:0,i=typeof i!="undefined"?i:1,s+e()*(i-s)};var e=function(){return o._seed=(o._seed*9301+49297)%233280,o._seed/233280};o.colorToNumber=function(s){return s=s.replace("#",""),s.length==3&&(s=s.charAt(0)+s.charAt(0)+s.charAt(1)+s.charAt(1)+s.charAt(2)+s.charAt(2)),parseInt(s,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warnOnce=function(){var s=Array.prototype.slice.call(arguments).join(" ");o._warnedOnce[s]||(o.warn(s),o._warnedOnce[s]=!0)},o.deprecated=function(s,i,n){s[i]=o.chain(function(){o.warnOnce("\u{1F505} deprecated \u{1F505}",n)},s[i])},o.nextId=function(){return o._nextId++},o.indexOf=function(s,i){if(s.indexOf)return s.indexOf(i);for(var n=0;n<s.length;n++)if(s[n]===i)return n;return-1},o.map=function(s,i){if(s.map)return s.map(i);for(var n=[],h=0;h<s.length;h+=1)n.push(i(s[h]));return n},o.topologicalSort=function(s){var i=[],n=[],h=[];for(var l in s)!n[l]&&!h[l]&&o._topologicalSort(l,n,h,s,i);return i},o._topologicalSort=function(s,i,n,h,l){var f=h[s]||[];n[s]=!0;for(var r=0;r<f.length;r+=1){var t=f[r];n[t]||i[t]||o._topologicalSort(t,i,n,h,l)}n[s]=!1,i[s]=!0,l.push(s)},o.chain=function(){for(var s=[],i=0;i<arguments.length;i+=1){var n=arguments[i];n._chained?s.push.apply(s,n._chained):s.push(n)}var h=function(){for(var l,f=new Array(arguments.length),r=0,t=arguments.length;r<t;r++)f[r]=arguments[r];for(r=0;r<s.length;r+=1){var u=s[r].apply(l,f);typeof u!="undefined"&&(l=u)}return l};return h._chained=s,h},o.chainPathBefore=function(s,i,n){return o.set(s,i,o.chain(n,o.get(s,i)))},o.chainPathAfter=function(s,i,n){return o.set(s,i,o.chain(o.get(s,i),n))},o.setDecomp=function(s){o._decomp=s},o.getDecomp=function(){var s=o._decomp;try{!s&&typeof window!="undefined"&&(s=window.decomp),!s&&typeof Ue!="undefined"&&(s=Ue.decomp)}catch{s=null}return s}}()},function(g,P){var o={};g.exports=o,function(){o.create=function(e){var s={min:{x:0,y:0},max:{x:0,y:0}};return e&&o.update(s,e),s},o.update=function(e,s,i){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var n=0;n<s.length;n++){var h=s[n];h.x>e.max.x&&(e.max.x=h.x),h.x<e.min.x&&(e.min.x=h.x),h.y>e.max.y&&(e.max.y=h.y),h.y<e.min.y&&(e.min.y=h.y)}i&&(i.x>0?e.max.x+=i.x:e.min.x+=i.x,i.y>0?e.max.y+=i.y:e.min.y+=i.y)},o.contains=function(e,s){return s.x>=e.min.x&&s.x<=e.max.x&&s.y>=e.min.y&&s.y<=e.max.y},o.overlaps=function(e,s){return e.min.x<=s.max.x&&e.max.x>=s.min.x&&e.max.y>=s.min.y&&e.min.y<=s.max.y},o.translate=function(e,s){e.min.x+=s.x,e.max.x+=s.x,e.min.y+=s.y,e.max.y+=s.y},o.shift=function(e,s){var i=e.max.x-e.min.x,n=e.max.y-e.min.y;e.min.x=s.x,e.max.x=s.x+i,e.min.y=s.y,e.max.y=s.y+n}}()},function(g,P){var o={};g.exports=o,function(){o.create=function(e,s){return{x:e||0,y:s||0}},o.clone=function(e){return{x:e.x,y:e.y}},o.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},o.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},o.rotate=function(e,s,i){var n=Math.cos(s),h=Math.sin(s);i||(i={});var l=e.x*n-e.y*h;return i.y=e.x*h+e.y*n,i.x=l,i},o.rotateAbout=function(e,s,i,n){var h=Math.cos(s),l=Math.sin(s);n||(n={});var f=i.x+((e.x-i.x)*h-(e.y-i.y)*l);return n.y=i.y+((e.x-i.x)*l+(e.y-i.y)*h),n.x=f,n},o.normalise=function(e){var s=o.magnitude(e);return s===0?{x:0,y:0}:{x:e.x/s,y:e.y/s}},o.dot=function(e,s){return e.x*s.x+e.y*s.y},o.cross=function(e,s){return e.x*s.y-e.y*s.x},o.cross3=function(e,s,i){return(s.x-e.x)*(i.y-e.y)-(s.y-e.y)*(i.x-e.x)},o.add=function(e,s,i){return i||(i={}),i.x=e.x+s.x,i.y=e.y+s.y,i},o.sub=function(e,s,i){return i||(i={}),i.x=e.x-s.x,i.y=e.y-s.y,i},o.mult=function(e,s){return{x:e.x*s,y:e.y*s}},o.div=function(e,s){return{x:e.x/s,y:e.y/s}},o.perp=function(e,s){return s=s===!0?-1:1,{x:s*-e.y,y:s*e.x}},o.neg=function(e){return{x:-e.x,y:-e.y}},o.angle=function(e,s){return Math.atan2(s.y-e.y,s.x-e.x)},o._temp=[o.create(),o.create(),o.create(),o.create(),o.create(),o.create()]}()},function(g,P,o){var e={};g.exports=e;var s=o(2),i=o(0);(function(){e.create=function(n,h){for(var l=[],f=0;f<n.length;f++){var r=n[f],t={x:r.x,y:r.y,index:f,body:h,isInternal:!1};l.push(t)}return l},e.fromPath=function(n,h){var l=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,f=[];return n.replace(l,function(r,t,u){f.push({x:parseFloat(t),y:parseFloat(u)})}),e.create(f,h)},e.centre=function(n){for(var h=e.area(n,!0),l={x:0,y:0},f,r,t,u=0;u<n.length;u++)t=(u+1)%n.length,f=s.cross(n[u],n[t]),r=s.mult(s.add(n[u],n[t]),f),l=s.add(l,r);return s.div(l,6*h)},e.mean=function(n){for(var h={x:0,y:0},l=0;l<n.length;l++)h.x+=n[l].x,h.y+=n[l].y;return s.div(h,n.length)},e.area=function(n,h){for(var l=0,f=n.length-1,r=0;r<n.length;r++)l+=(n[f].x-n[r].x)*(n[f].y+n[r].y),f=r;return h?l/2:Math.abs(l)/2},e.inertia=function(n,h){for(var l=0,f=0,r=n,t,u,c=0;c<r.length;c++)u=(c+1)%r.length,t=Math.abs(s.cross(r[u],r[c])),l+=t*(s.dot(r[u],r[u])+s.dot(r[u],r[c])+s.dot(r[c],r[c])),f+=t;return h/6*(l/f)},e.translate=function(n,h,l){l=typeof l!="undefined"?l:1;var f=n.length,r=h.x*l,t=h.y*l,u;for(u=0;u<f;u++)n[u].x+=r,n[u].y+=t;return n},e.rotate=function(n,h,l){if(h!==0){var f=Math.cos(h),r=Math.sin(h),t=l.x,u=l.y,c=n.length,m,y,I,w;for(w=0;w<c;w++)m=n[w],y=m.x-t,I=m.y-u,m.x=t+(y*f-I*r),m.y=u+(y*r+I*f);return n}},e.contains=function(n,h){for(var l=h.x,f=h.y,r=n.length,t=n[r-1],u,c=0;c<r;c++){if(u=n[c],(l-t.x)*(u.y-t.y)+(f-t.y)*(t.x-u.x)>0)return!1;t=u}return!0},e.scale=function(n,h,l,f){if(h===1&&l===1)return n;f=f||e.centre(n);for(var r,t,u=0;u<n.length;u++)r=n[u],t=s.sub(r,f),n[u].x=f.x+t.x*h,n[u].y=f.y+t.y*l;return n},e.chamfer=function(n,h,l,f,r){typeof h=="number"?h=[h]:h=h||[8],l=typeof l!="undefined"?l:-1,f=f||2,r=r||14;for(var t=[],u=0;u<n.length;u++){var c=n[u-1>=0?u-1:n.length-1],m=n[u],y=n[(u+1)%n.length],I=h[u<h.length?u:h.length-1];if(I===0){t.push(m);continue}var w=s.normalise({x:m.y-c.y,y:c.x-m.x}),v=s.normalise({x:y.y-m.y,y:m.x-y.x}),p=Math.sqrt(2*Math.pow(I,2)),S=s.mult(i.clone(w),I),x=s.normalise(s.mult(s.add(w,v),.5)),C=s.sub(m,s.mult(x,p)),M=l;l===-1&&(M=Math.pow(I,.32)*1.75),M=i.clamp(M,f,r),M%2===1&&(M+=1);for(var E=Math.acos(s.dot(w,v)),k=E/M,T=0;T<M;T++)t.push(s.add(s.rotate(S,k*T),C))}return t},e.clockwiseSort=function(n){var h=e.mean(n);return n.sort(function(l,f){return s.angle(h,l)-s.angle(h,f)}),n},e.isConvex=function(n){var h=0,l=n.length,f,r,t,u;if(l<3)return null;for(f=0;f<l;f++)if(r=(f+1)%l,t=(f+2)%l,u=(n[r].x-n[f].x)*(n[t].y-n[r].y),u-=(n[r].y-n[f].y)*(n[t].x-n[r].x),u<0?h|=1:u>0&&(h|=2),h===3)return!1;return h!==0?!0:null},e.hull=function(n){var h=[],l=[],f,r;for(n=n.slice(0),n.sort(function(t,u){var c=t.x-u.x;return c!==0?c:t.y-u.y}),r=0;r<n.length;r+=1){for(f=n[r];l.length>=2&&s.cross3(l[l.length-2],l[l.length-1],f)<=0;)l.pop();l.push(f)}for(r=n.length-1;r>=0;r-=1){for(f=n[r];h.length>=2&&s.cross3(h[h.length-2],h[h.length-1],f)<=0;)h.pop();h.push(f)}return h.pop(),l.pop(),h.concat(l)}})()},function(g,P,o){var e={};g.exports=e;var s=o(0);(function(){e.on=function(i,n,h){for(var l=n.split(" "),f,r=0;r<l.length;r++)f=l[r],i.events=i.events||{},i.events[f]=i.events[f]||[],i.events[f].push(h);return h},e.off=function(i,n,h){if(!n){i.events={};return}typeof n=="function"&&(h=n,n=s.keys(i.events).join(" "));for(var l=n.split(" "),f=0;f<l.length;f++){var r=i.events[l[f]],t=[];if(h&&r)for(var u=0;u<r.length;u++)r[u]!==h&&t.push(r[u]);i.events[l[f]]=t}},e.trigger=function(i,n,h){var l,f,r,t,u=i.events;if(u&&s.keys(u).length>0){h||(h={}),l=n.split(" ");for(var c=0;c<l.length;c++)if(f=l[c],r=u[f],r){t=s.clone(h,!1),t.name=f,t.source=i;for(var m=0;m<r.length;m++)r[m].apply(i,[t])}}}})()},function(g,P,o){var e={};g.exports=e;var s=o(4),i=o(0),n=o(1),h=o(6);(function(){e.create=function(l){return i.extend({id:i.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},l)},e.setModified=function(l,f,r,t){if(l.isModified=f,f&&l.cache&&(l.cache.allBodies=null,l.cache.allConstraints=null,l.cache.allComposites=null),r&&l.parent&&e.setModified(l.parent,f,r,t),t)for(var u=0;u<l.composites.length;u++){var c=l.composites[u];e.setModified(c,f,r,t)}},e.add=function(l,f){var r=[].concat(f);s.trigger(l,"beforeAdd",{object:f});for(var t=0;t<r.length;t++){var u=r[t];switch(u.type){case"body":if(u.parent!==u){i.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(l,u);break;case"constraint":e.addConstraint(l,u);break;case"composite":e.addComposite(l,u);break;case"mouseConstraint":e.addConstraint(l,u.constraint);break}}return s.trigger(l,"afterAdd",{object:f}),l},e.remove=function(l,f,r){var t=[].concat(f);s.trigger(l,"beforeRemove",{object:f});for(var u=0;u<t.length;u++){var c=t[u];switch(c.type){case"body":e.removeBody(l,c,r);break;case"constraint":e.removeConstraint(l,c,r);break;case"composite":e.removeComposite(l,c,r);break;case"mouseConstraint":e.removeConstraint(l,c.constraint);break}}return s.trigger(l,"afterRemove",{object:f}),l},e.addComposite=function(l,f){return l.composites.push(f),f.parent=l,e.setModified(l,!0,!0,!1),l},e.removeComposite=function(l,f,r){var t=i.indexOf(l.composites,f);if(t!==-1&&e.removeCompositeAt(l,t),r)for(var u=0;u<l.composites.length;u++)e.removeComposite(l.composites[u],f,!0);return l},e.removeCompositeAt=function(l,f){return l.composites.splice(f,1),e.setModified(l,!0,!0,!1),l},e.addBody=function(l,f){return l.bodies.push(f),e.setModified(l,!0,!0,!1),l},e.removeBody=function(l,f,r){var t=i.indexOf(l.bodies,f);if(t!==-1&&e.removeBodyAt(l,t),r)for(var u=0;u<l.composites.length;u++)e.removeBody(l.composites[u],f,!0);return l},e.removeBodyAt=function(l,f){return l.bodies.splice(f,1),e.setModified(l,!0,!0,!1),l},e.addConstraint=function(l,f){return l.constraints.push(f),e.setModified(l,!0,!0,!1),l},e.removeConstraint=function(l,f,r){var t=i.indexOf(l.constraints,f);if(t!==-1&&e.removeConstraintAt(l,t),r)for(var u=0;u<l.composites.length;u++)e.removeConstraint(l.composites[u],f,!0);return l},e.removeConstraintAt=function(l,f){return l.constraints.splice(f,1),e.setModified(l,!0,!0,!1),l},e.clear=function(l,f,r){if(r)for(var t=0;t<l.composites.length;t++)e.clear(l.composites[t],f,!0);return f?l.bodies=l.bodies.filter(function(u){return u.isStatic}):l.bodies.length=0,l.constraints.length=0,l.composites.length=0,e.setModified(l,!0,!0,!1),l},e.allBodies=function(l){if(l.cache&&l.cache.allBodies)return l.cache.allBodies;for(var f=[].concat(l.bodies),r=0;r<l.composites.length;r++)f=f.concat(e.allBodies(l.composites[r]));return l.cache&&(l.cache.allBodies=f),f},e.allConstraints=function(l){if(l.cache&&l.cache.allConstraints)return l.cache.allConstraints;for(var f=[].concat(l.constraints),r=0;r<l.composites.length;r++)f=f.concat(e.allConstraints(l.composites[r]));return l.cache&&(l.cache.allConstraints=f),f},e.allComposites=function(l){if(l.cache&&l.cache.allComposites)return l.cache.allComposites;for(var f=[].concat(l.composites),r=0;r<l.composites.length;r++)f=f.concat(e.allComposites(l.composites[r]));return l.cache&&(l.cache.allComposites=f),f},e.get=function(l,f,r){var t,u;switch(r){case"body":t=e.allBodies(l);break;case"constraint":t=e.allConstraints(l);break;case"composite":t=e.allComposites(l).concat(l);break}return t?(u=t.filter(function(c){return c.id.toString()===f.toString()}),u.length===0?null:u[0]):null},e.move=function(l,f,r){return e.remove(l,f),e.add(r,f),l},e.rebase=function(l){for(var f=e.allBodies(l).concat(e.allConstraints(l)).concat(e.allComposites(l)),r=0;r<f.length;r++)f[r].id=i.nextId();return l},e.translate=function(l,f,r){for(var t=r?e.allBodies(l):l.bodies,u=0;u<t.length;u++)h.translate(t[u],f);return l},e.rotate=function(l,f,r,t){for(var u=Math.cos(f),c=Math.sin(f),m=t?e.allBodies(l):l.bodies,y=0;y<m.length;y++){var I=m[y],w=I.position.x-r.x,v=I.position.y-r.y;h.setPosition(I,{x:r.x+(w*u-v*c),y:r.y+(w*c+v*u)}),h.rotate(I,f)}return l},e.scale=function(l,f,r,t,u){for(var c=u?e.allBodies(l):l.bodies,m=0;m<c.length;m++){var y=c[m],I=y.position.x-t.x,w=y.position.y-t.y;h.setPosition(y,{x:t.x+I*f,y:t.y+w*r}),h.scale(y,f,r)}return l},e.bounds=function(l){for(var f=e.allBodies(l),r=[],t=0;t<f.length;t+=1){var u=f[t];r.push(u.bounds.min,u.bounds.max)}return n.create(r)}})()},function(g,P,o){var e={};g.exports=e;var s=o(3),i=o(2),n=o(7);o(16);var h=o(0),l=o(1),f=o(11);(function(){e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e.create=function(t){var u={id:h.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:s.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,_original:null},c=h.extend(u,t);return r(c,t),c},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var r=function(t,u){u=u||{},e.set(t,{bounds:t.bounds||l.create(t.vertices),positionPrev:t.positionPrev||i.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),s.rotate(t.vertices,t.angle,t.position),f.rotate(t.axes,t.angle),l.update(t.bounds,t.vertices,t.velocity),e.set(t,{axes:u.axes||t.axes,area:u.area||t.area,mass:u.mass||t.mass,inertia:u.inertia||t.inertia});var c=t.isStatic?"#14151f":h.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),m=t.isStatic?"#555":"#ccc",y=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||c,t.render.strokeStyle=t.render.strokeStyle||m,t.render.lineWidth=t.render.lineWidth||y,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};e.set=function(t,u,c){var m;typeof u=="string"&&(m=u,u={},u[m]=c);for(m in u)if(!!Object.prototype.hasOwnProperty.call(u,m))switch(c=u[m],m){case"isStatic":e.setStatic(t,c);break;case"isSleeping":n.set(t,c);break;case"mass":e.setMass(t,c);break;case"density":e.setDensity(t,c);break;case"inertia":e.setInertia(t,c);break;case"vertices":e.setVertices(t,c);break;case"position":e.setPosition(t,c);break;case"angle":e.setAngle(t,c);break;case"velocity":e.setVelocity(t,c);break;case"angularVelocity":e.setAngularVelocity(t,c);break;case"parts":e.setParts(t,c);break;case"centre":e.setCentre(t,c);break;default:t[m]=c}},e.setStatic=function(t,u){for(var c=0;c<t.parts.length;c++){var m=t.parts[c];m.isStatic=u,u?(m._original={restitution:m.restitution,friction:m.friction,mass:m.mass,inertia:m.inertia,density:m.density,inverseMass:m.inverseMass,inverseInertia:m.inverseInertia},m.restitution=0,m.friction=1,m.mass=m.inertia=m.density=1/0,m.inverseMass=m.inverseInertia=0,m.positionPrev.x=m.position.x,m.positionPrev.y=m.position.y,m.anglePrev=m.angle,m.angularVelocity=0,m.speed=0,m.angularSpeed=0,m.motion=0):m._original&&(m.restitution=m._original.restitution,m.friction=m._original.friction,m.mass=m._original.mass,m.inertia=m._original.inertia,m.density=m._original.density,m.inverseMass=m._original.inverseMass,m.inverseInertia=m._original.inverseInertia,m._original=null)}},e.setMass=function(t,u){var c=t.inertia/(t.mass/6);t.inertia=c*(u/6),t.inverseInertia=1/t.inertia,t.mass=u,t.inverseMass=1/t.mass,t.density=t.mass/t.area},e.setDensity=function(t,u){e.setMass(t,u*t.area),t.density=u},e.setInertia=function(t,u){t.inertia=u,t.inverseInertia=1/t.inertia},e.setVertices=function(t,u){u[0].body===t?t.vertices=u:t.vertices=s.create(u,t),t.axes=f.fromVertices(t.vertices),t.area=s.area(t.vertices),e.setMass(t,t.density*t.area);var c=s.centre(t.vertices);s.translate(t.vertices,c,-1),e.setInertia(t,e._inertiaScale*s.inertia(t.vertices,t.mass)),s.translate(t.vertices,t.position),l.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,u,c){var m;for(u=u.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,m=0;m<u.length;m++){var y=u[m];y!==t&&(y.parent=t,t.parts.push(y))}if(t.parts.length!==1){if(c=typeof c!="undefined"?c:!0,c){var I=[];for(m=0;m<u.length;m++)I=I.concat(u[m].vertices);s.clockwiseSort(I);var w=s.hull(I),v=s.centre(w);e.setVertices(t,w),s.translate(t.vertices,v)}var p=e._totalProperties(t);t.area=p.area,t.parent=t,t.position.x=p.centre.x,t.position.y=p.centre.y,t.positionPrev.x=p.centre.x,t.positionPrev.y=p.centre.y,e.setMass(t,p.mass),e.setInertia(t,p.inertia),e.setPosition(t,p.centre)}},e.setCentre=function(t,u,c){c?(t.positionPrev.x+=u.x,t.positionPrev.y+=u.y,t.position.x+=u.x,t.position.y+=u.y):(t.positionPrev.x=u.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=u.y-(t.position.y-t.positionPrev.y),t.position.x=u.x,t.position.y=u.y)},e.setPosition=function(t,u){var c=i.sub(u,t.position);t.positionPrev.x+=c.x,t.positionPrev.y+=c.y;for(var m=0;m<t.parts.length;m++){var y=t.parts[m];y.position.x+=c.x,y.position.y+=c.y,s.translate(y.vertices,c),l.update(y.bounds,y.vertices,t.velocity)}},e.setAngle=function(t,u){var c=u-t.angle;t.anglePrev+=c;for(var m=0;m<t.parts.length;m++){var y=t.parts[m];y.angle+=c,s.rotate(y.vertices,c,t.position),f.rotate(y.axes,c),l.update(y.bounds,y.vertices,t.velocity),m>0&&i.rotateAbout(y.position,c,t.position,y.position)}},e.setVelocity=function(t,u){t.positionPrev.x=t.position.x-u.x,t.positionPrev.y=t.position.y-u.y,t.velocity.x=u.x,t.velocity.y=u.y,t.speed=i.magnitude(t.velocity)},e.setAngularVelocity=function(t,u){t.anglePrev=t.angle-u,t.angularVelocity=u,t.angularSpeed=Math.abs(t.angularVelocity)},e.translate=function(t,u){e.setPosition(t,i.add(t.position,u))},e.rotate=function(t,u,c){if(!c)e.setAngle(t,t.angle+u);else{var m=Math.cos(u),y=Math.sin(u),I=t.position.x-c.x,w=t.position.y-c.y;e.setPosition(t,{x:c.x+(I*m-w*y),y:c.y+(I*y+w*m)}),e.setAngle(t,t.angle+u)}},e.scale=function(t,u,c,m){var y=0,I=0;m=m||t.position;for(var w=0;w<t.parts.length;w++){var v=t.parts[w];s.scale(v.vertices,u,c,m),v.axes=f.fromVertices(v.vertices),v.area=s.area(v.vertices),e.setMass(v,t.density*v.area),s.translate(v.vertices,{x:-v.position.x,y:-v.position.y}),e.setInertia(v,e._inertiaScale*s.inertia(v.vertices,v.mass)),s.translate(v.vertices,{x:v.position.x,y:v.position.y}),w>0&&(y+=v.area,I+=v.inertia),v.position.x=m.x+(v.position.x-m.x)*u,v.position.y=m.y+(v.position.y-m.y)*c,l.update(v.bounds,v.vertices,t.velocity)}t.parts.length>1&&(t.area=y,t.isStatic||(e.setMass(t,t.density*y),e.setInertia(t,I))),t.circleRadius&&(u===c?t.circleRadius*=u:t.circleRadius=null)},e.update=function(t,u,c,m){var y=Math.pow(u*c*t.timeScale,2),I=1-t.frictionAir*c*t.timeScale,w=t.position.x-t.positionPrev.x,v=t.position.y-t.positionPrev.y;t.velocity.x=w*I*m+t.force.x/t.mass*y,t.velocity.y=v*I*m+t.force.y/t.mass*y,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.angularVelocity=(t.angle-t.anglePrev)*I*m+t.torque/t.inertia*y,t.anglePrev=t.angle,t.angle+=t.angularVelocity,t.speed=i.magnitude(t.velocity),t.angularSpeed=Math.abs(t.angularVelocity);for(var p=0;p<t.parts.length;p++){var S=t.parts[p];s.translate(S.vertices,t.velocity),p>0&&(S.position.x+=t.velocity.x,S.position.y+=t.velocity.y),t.angularVelocity!==0&&(s.rotate(S.vertices,t.angularVelocity,t.position),f.rotate(S.axes,t.angularVelocity),p>0&&i.rotateAbout(S.position,t.angularVelocity,t.position,S.position)),l.update(S.bounds,S.vertices,t.velocity)}},e.applyForce=function(t,u,c){t.force.x+=c.x,t.force.y+=c.y;var m={x:u.x-t.position.x,y:u.y-t.position.y};t.torque+=m.x*c.y-m.y*c.x},e._totalProperties=function(t){for(var u={mass:0,area:0,inertia:0,centre:{x:0,y:0}},c=t.parts.length===1?0:1;c<t.parts.length;c++){var m=t.parts[c],y=m.mass!==1/0?m.mass:1;u.mass+=y,u.area+=m.area,u.inertia+=m.inertia,u.centre=i.add(u.centre,i.mult(m.position,y))}return u.centre=i.div(u.centre,u.mass),u}})()},function(g,P,o){var e={};g.exports=e;var s=o(4);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(i,n){for(var h=n*n*n,l=0;l<i.length;l++){var f=i[l],r=f.speed*f.speed+f.angularSpeed*f.angularSpeed;if(f.force.x!==0||f.force.y!==0){e.set(f,!1);continue}var t=Math.min(f.motion,r),u=Math.max(f.motion,r);f.motion=e._minBias*t+(1-e._minBias)*u,f.sleepThreshold>0&&f.motion<e._motionSleepThreshold*h?(f.sleepCounter+=1,f.sleepCounter>=f.sleepThreshold&&e.set(f,!0)):f.sleepCounter>0&&(f.sleepCounter-=1)}},e.afterCollisions=function(i,n){for(var h=n*n*n,l=0;l<i.length;l++){var f=i[l];if(!!f.isActive){var r=f.collision,t=r.bodyA.parent,u=r.bodyB.parent;if(!(t.isSleeping&&u.isSleeping||t.isStatic||u.isStatic)&&(t.isSleeping||u.isSleeping)){var c=t.isSleeping&&!t.isStatic?t:u,m=c===t?u:t;!c.isStatic&&m.motion>e._motionWakeThreshold*h&&e.set(c,!1)}}}},e.set=function(i,n){var h=i.isSleeping;n?(i.isSleeping=!0,i.sleepCounter=i.sleepThreshold,i.positionImpulse.x=0,i.positionImpulse.y=0,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.anglePrev=i.angle,i.speed=0,i.angularSpeed=0,i.motion=0,h||s.trigger(i,"sleepStart")):(i.isSleeping=!1,i.sleepCounter=0,h&&s.trigger(i,"sleepEnd"))}})()},function(g,P,o){var e={};g.exports=e;var s=o(3),i=o(9);(function(){var n=[],h={overlap:0,axis:null},l={overlap:0,axis:null};e.create=function(f,r){return{pair:null,collided:!1,bodyA:f,bodyB:r,parentA:f.parent,parentB:r.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},e.collides=function(f,r,t){if(e._overlapAxes(h,f.vertices,r.vertices,f.axes),h.overlap<=0||(e._overlapAxes(l,r.vertices,f.vertices,r.axes),l.overlap<=0))return null;var u=t&&t.table[i.id(f,r)],c;u?c=u.collision:(c=e.create(f,r),c.collided=!0,c.bodyA=f.id<r.id?f:r,c.bodyB=f.id<r.id?r:f,c.parentA=c.bodyA.parent,c.parentB=c.bodyB.parent),f=c.bodyA,r=c.bodyB;var m;h.overlap<l.overlap?m=h:m=l;var y=c.normal,I=c.supports,w=m.axis,v=w.x,p=w.y;v*(r.position.x-f.position.x)+p*(r.position.y-f.position.y)<0?(y.x=v,y.y=p):(y.x=-v,y.y=-p),c.tangent.x=-y.y,c.tangent.y=y.x,c.depth=m.overlap,c.penetration.x=y.x*c.depth,c.penetration.y=y.y*c.depth;var S=e._findSupports(f,r,y,1),x=0;if(s.contains(f.vertices,S[0])&&(I[x++]=S[0]),s.contains(f.vertices,S[1])&&(I[x++]=S[1]),x<2){var C=e._findSupports(r,f,y,-1);s.contains(r.vertices,C[0])&&(I[x++]=C[0]),x<2&&s.contains(r.vertices,C[1])&&(I[x++]=C[1])}return x===0&&(I[x++]=S[0]),I.length=x,c},e._overlapAxes=function(f,r,t,u){var c=r.length,m=t.length,y=r[0].x,I=r[0].y,w=t[0].x,v=t[0].y,p=u.length,S=Number.MAX_VALUE,x=0,C,M,E,k,T,B;for(T=0;T<p;T++){var H=u[T],L=H.x,R=H.y,F=y*L+I*R,O=w*L+v*R,V=F,A=O;for(B=1;B<c;B+=1)k=r[B].x*L+r[B].y*R,k>V?V=k:k<F&&(F=k);for(B=1;B<m;B+=1)k=t[B].x*L+t[B].y*R,k>A?A=k:k<O&&(O=k);if(M=V-O,E=A-F,C=M<E?M:E,C<S&&(S=C,x=T,C<=0))break}f.axis=u[x],f.overlap=S},e._projectToAxis=function(f,r,t){for(var u=r[0].x*t.x+r[0].y*t.y,c=u,m=1;m<r.length;m+=1){var y=r[m].x*t.x+r[m].y*t.y;y>c?c=y:y<u&&(u=y)}f.min=u,f.max=c},e._findSupports=function(f,r,t,u){var c=r.vertices,m=c.length,y=f.position.x,I=f.position.y,w=t.x*u,v=t.y*u,p=Number.MAX_VALUE,S,x,C,M,E;for(E=0;E<m;E+=1)x=c[E],M=w*(y-x.x)+v*(I-x.y),M<p&&(p=M,S=x);return C=c[(m+S.index-1)%m],p=w*(y-C.x)+v*(I-C.y),x=c[(S.index+1)%m],w*(y-x.x)+v*(I-x.y)<p?(n[0]=S,n[1]=x,n):(n[0]=S,n[1]=C,n)}})()},function(g,P,o){var e={};g.exports=e;var s=o(17);(function(){e.create=function(i,n){var h=i.bodyA,l=i.bodyB,f={id:e.id(h,l),bodyA:h,bodyB:l,collision:i,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:h.isSensor||l.isSensor,timeCreated:n,timeUpdated:n,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(f,i,n),f},e.update=function(i,n,h){var l=i.contacts,f=n.supports,r=i.activeContacts,t=n.parentA,u=n.parentB,c=t.vertices.length;i.isActive=!0,i.timeUpdated=h,i.collision=n,i.separation=n.depth,i.inverseMass=t.inverseMass+u.inverseMass,i.friction=t.friction<u.friction?t.friction:u.friction,i.frictionStatic=t.frictionStatic>u.frictionStatic?t.frictionStatic:u.frictionStatic,i.restitution=t.restitution>u.restitution?t.restitution:u.restitution,i.slop=t.slop>u.slop?t.slop:u.slop,n.pair=i,r.length=0;for(var m=0;m<f.length;m++){var y=f[m],I=y.body===t?y.index:c+y.index,w=l[I];w?r.push(w):r.push(l[I]=s.create(y))}},e.setActive=function(i,n,h){n?(i.isActive=!0,i.timeUpdated=h):(i.isActive=!1,i.activeContacts.length=0)},e.id=function(i,n){return i.id<n.id?"A"+i.id+"B"+n.id:"A"+n.id+"B"+i.id}})()},function(g,P,o){var e={};g.exports=e;var s=o(3),i=o(2),n=o(7),h=o(1),l=o(11),f=o(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(r){var t=r;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var u=t.bodyA?i.add(t.bodyA.position,t.pointA):t.pointA,c=t.bodyB?i.add(t.bodyB.position,t.pointB):t.pointB,m=i.magnitude(i.sub(u,c));t.length=typeof t.length!="undefined"?t.length:m,t.id=t.id||f.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var y={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(y.type="pin",y.anchors=!1):t.stiffness<.9&&(y.type="spring"),t.render=f.extend(y,t.render),t},e.preSolveAll=function(r){for(var t=0;t<r.length;t+=1){var u=r[t],c=u.constraintImpulse;u.isStatic||c.x===0&&c.y===0&&c.angle===0||(u.position.x+=c.x,u.position.y+=c.y,u.angle+=c.angle)}},e.solveAll=function(r,t){for(var u=0;u<r.length;u+=1){var c=r[u],m=!c.bodyA||c.bodyA&&c.bodyA.isStatic,y=!c.bodyB||c.bodyB&&c.bodyB.isStatic;(m||y)&&e.solve(r[u],t)}for(u=0;u<r.length;u+=1)c=r[u],m=!c.bodyA||c.bodyA&&c.bodyA.isStatic,y=!c.bodyB||c.bodyB&&c.bodyB.isStatic,!m&&!y&&e.solve(r[u],t)},e.solve=function(r,t){var u=r.bodyA,c=r.bodyB,m=r.pointA,y=r.pointB;if(!(!u&&!c)){u&&!u.isStatic&&(i.rotate(m,u.angle-r.angleA,m),r.angleA=u.angle),c&&!c.isStatic&&(i.rotate(y,c.angle-r.angleB,y),r.angleB=c.angle);var I=m,w=y;if(u&&(I=i.add(u.position,m)),c&&(w=i.add(c.position,y)),!(!I||!w)){var v=i.sub(I,w),p=i.magnitude(v);p<e._minLength&&(p=e._minLength);var S=(p-r.length)/p,x=r.stiffness<1?r.stiffness*t:r.stiffness,C=i.mult(v,S*x),M=(u?u.inverseMass:0)+(c?c.inverseMass:0),E=(u?u.inverseInertia:0)+(c?c.inverseInertia:0),k=M+E,T,B,H,L,R;if(r.damping){var F=i.create();H=i.div(v,p),R=i.sub(c&&i.sub(c.position,c.positionPrev)||F,u&&i.sub(u.position,u.positionPrev)||F),L=i.dot(H,R)}u&&!u.isStatic&&(B=u.inverseMass/M,u.constraintImpulse.x-=C.x*B,u.constraintImpulse.y-=C.y*B,u.position.x-=C.x*B,u.position.y-=C.y*B,r.damping&&(u.positionPrev.x-=r.damping*H.x*L*B,u.positionPrev.y-=r.damping*H.y*L*B),T=i.cross(m,C)/k*e._torqueDampen*u.inverseInertia*(1-r.angularStiffness),u.constraintImpulse.angle-=T,u.angle-=T),c&&!c.isStatic&&(B=c.inverseMass/M,c.constraintImpulse.x+=C.x*B,c.constraintImpulse.y+=C.y*B,c.position.x+=C.x*B,c.position.y+=C.y*B,r.damping&&(c.positionPrev.x+=r.damping*H.x*L*B,c.positionPrev.y+=r.damping*H.y*L*B),T=i.cross(y,C)/k*e._torqueDampen*c.inverseInertia*(1-r.angularStiffness),c.constraintImpulse.angle+=T,c.angle+=T)}}},e.postSolveAll=function(r){for(var t=0;t<r.length;t++){var u=r[t],c=u.constraintImpulse;if(!(u.isStatic||c.x===0&&c.y===0&&c.angle===0)){n.set(u,!1);for(var m=0;m<u.parts.length;m++){var y=u.parts[m];s.translate(y.vertices,c),m>0&&(y.position.x+=c.x,y.position.y+=c.y),c.angle!==0&&(s.rotate(y.vertices,c.angle,u.position),l.rotate(y.axes,c.angle),m>0&&i.rotateAbout(y.position,c.angle,u.position,y.position)),h.update(y.bounds,y.vertices,u.velocity)}c.angle*=e._warming,c.x*=e._warming,c.y*=e._warming}}},e.pointAWorld=function(r){return{x:(r.bodyA?r.bodyA.position.x:0)+r.pointA.x,y:(r.bodyA?r.bodyA.position.y:0)+r.pointA.y}},e.pointBWorld=function(r){return{x:(r.bodyB?r.bodyB.position.x:0)+r.pointB.x,y:(r.bodyB?r.bodyB.position.y:0)+r.pointB.y}}})()},function(g,P,o){var e={};g.exports=e;var s=o(2),i=o(0);(function(){e.fromVertices=function(n){for(var h={},l=0;l<n.length;l++){var f=(l+1)%n.length,r=s.normalise({x:n[f].y-n[l].y,y:n[l].x-n[f].x}),t=r.y===0?1/0:r.x/r.y;t=t.toFixed(3).toString(),h[t]=r}return i.values(h)},e.rotate=function(n,h){if(h!==0)for(var l=Math.cos(h),f=Math.sin(h),r=0;r<n.length;r++){var t=n[r],u;u=t.x*l-t.y*f,t.y=t.x*f+t.y*l,t.x=u}}})()},function(g,P,o){var e={};g.exports=e;var s=o(3),i=o(0),n=o(6),h=o(1),l=o(2);(function(){e.rectangle=function(f,r,t,u,c){c=c||{};var m={label:"Rectangle Body",position:{x:f,y:r},vertices:s.fromPath("L 0 0 L "+t+" 0 L "+t+" "+u+" L 0 "+u)};if(c.chamfer){var y=c.chamfer;m.vertices=s.chamfer(m.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete c.chamfer}return n.create(i.extend({},m,c))},e.trapezoid=function(f,r,t,u,c,m){m=m||{},c*=.5;var y=(1-c*2)*t,I=t*c,w=I+y,v=w+I,p;c<.5?p="L 0 0 L "+I+" "+-u+" L "+w+" "+-u+" L "+v+" 0":p="L 0 0 L "+w+" "+-u+" L "+v+" 0";var S={label:"Trapezoid Body",position:{x:f,y:r},vertices:s.fromPath(p)};if(m.chamfer){var x=m.chamfer;S.vertices=s.chamfer(S.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete m.chamfer}return n.create(i.extend({},S,m))},e.circle=function(f,r,t,u,c){u=u||{};var m={label:"Circle Body",circleRadius:t};c=c||25;var y=Math.ceil(Math.max(10,Math.min(c,t)));return y%2===1&&(y+=1),e.polygon(f,r,y,t,i.extend({},m,u))},e.polygon=function(f,r,t,u,c){if(c=c||{},t<3)return e.circle(f,r,u,c);for(var m=2*Math.PI/t,y="",I=m*.5,w=0;w<t;w+=1){var v=I+w*m,p=Math.cos(v)*u,S=Math.sin(v)*u;y+="L "+p.toFixed(3)+" "+S.toFixed(3)+" "}var x={label:"Polygon Body",position:{x:f,y:r},vertices:s.fromPath(y)};if(c.chamfer){var C=c.chamfer;x.vertices=s.chamfer(x.vertices,C.radius,C.quality,C.qualityMin,C.qualityMax),delete c.chamfer}return n.create(i.extend({},x,c))},e.fromVertices=function(f,r,t,u,c,m,y,I){var w=i.getDecomp(),v,p,S,x,C,M,E,k,T,B,H;for(v=Boolean(w&&w.quickDecomp),u=u||{},S=[],c=typeof c!="undefined"?c:!1,m=typeof m!="undefined"?m:.01,y=typeof y!="undefined"?y:10,I=typeof I!="undefined"?I:.01,i.isArray(t[0])||(t=[t]),B=0;B<t.length;B+=1)if(M=t[B],x=s.isConvex(M),C=!x,C&&!v&&i.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),x||!v)x?M=s.clockwiseSort(M):M=s.hull(M),S.push({position:{x:f,y:r},vertices:M});else{var L=M.map(function(re){return[re.x,re.y]});w.makeCCW(L),m!==!1&&w.removeCollinearPoints(L,m),I!==!1&&w.removeDuplicatePoints&&w.removeDuplicatePoints(L,I);var R=w.quickDecomp(L);for(E=0;E<R.length;E++){var F=R[E],O=F.map(function(re){return{x:re[0],y:re[1]}});y>0&&s.area(O)<y||S.push({position:s.centre(O),vertices:O})}}for(E=0;E<S.length;E++)S[E]=n.create(i.extend(S[E],u));if(c){var V=5;for(E=0;E<S.length;E++){var A=S[E];for(k=E+1;k<S.length;k++){var q=S[k];if(h.overlaps(A.bounds,q.bounds)){var $=A.vertices,j=q.vertices;for(T=0;T<A.vertices.length;T++)for(H=0;H<q.vertices.length;H++){var ve=l.magnitudeSquared(l.sub($[(T+1)%$.length],j[H])),se=l.magnitudeSquared(l.sub($[T],j[(H+1)%j.length]));ve<V&&se<V&&($[T].isInternal=!0,j[H].isInternal=!0)}}}}}return S.length>1?(p=n.create(i.extend({parts:S.slice(0)},u)),n.setPosition(p,{x:f,y:r}),p):S[0]}})()},function(g,P,o){var e={};g.exports=e;var s=o(0);(function(){e.create=function(i){var n={};return i||s.log("Mouse.create: element was undefined, defaulting to document.body","warn"),n.element=i||document.body,n.absolute={x:0,y:0},n.position={x:0,y:0},n.mousedownPosition={x:0,y:0},n.mouseupPosition={x:0,y:0},n.offset={x:0,y:0},n.scale={x:1,y:1},n.wheelDelta=0,n.button=-1,n.pixelRatio=parseInt(n.element.getAttribute("data-pixel-ratio"),10)||1,n.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},n.mousemove=function(h){var l=e._getRelativeMousePosition(h,n.element,n.pixelRatio),f=h.changedTouches;f&&(n.button=0,h.preventDefault()),n.absolute.x=l.x,n.absolute.y=l.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.sourceEvents.mousemove=h},n.mousedown=function(h){var l=e._getRelativeMousePosition(h,n.element,n.pixelRatio),f=h.changedTouches;f?(n.button=0,h.preventDefault()):n.button=h.button,n.absolute.x=l.x,n.absolute.y=l.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mousedownPosition.x=n.position.x,n.mousedownPosition.y=n.position.y,n.sourceEvents.mousedown=h},n.mouseup=function(h){var l=e._getRelativeMousePosition(h,n.element,n.pixelRatio),f=h.changedTouches;f&&h.preventDefault(),n.button=-1,n.absolute.x=l.x,n.absolute.y=l.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mouseupPosition.x=n.position.x,n.mouseupPosition.y=n.position.y,n.sourceEvents.mouseup=h},n.mousewheel=function(h){n.wheelDelta=Math.max(-1,Math.min(1,h.wheelDelta||-h.detail)),h.preventDefault()},e.setElement(n,n.element),n},e.setElement=function(i,n){i.element=n,n.addEventListener("mousemove",i.mousemove),n.addEventListener("mousedown",i.mousedown),n.addEventListener("mouseup",i.mouseup),n.addEventListener("mousewheel",i.mousewheel),n.addEventListener("DOMMouseScroll",i.mousewheel),n.addEventListener("touchmove",i.mousemove),n.addEventListener("touchstart",i.mousedown),n.addEventListener("touchend",i.mouseup)},e.clearSourceEvents=function(i){i.sourceEvents.mousemove=null,i.sourceEvents.mousedown=null,i.sourceEvents.mouseup=null,i.sourceEvents.mousewheel=null,i.wheelDelta=0},e.setOffset=function(i,n){i.offset.x=n.x,i.offset.y=n.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y},e.setScale=function(i,n){i.scale.x=n.x,i.scale.y=n.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y},e._getRelativeMousePosition=function(i,n,h){var l=n.getBoundingClientRect(),f=document.documentElement||document.body.parentNode||document.body,r=window.pageXOffset!==void 0?window.pageXOffset:f.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:f.scrollTop,u=i.changedTouches,c,m;return u?(c=u[0].pageX-l.left-r,m=u[0].pageY-l.top-t):(c=i.pageX-l.left-r,m=i.pageY-l.top-t),{x:c/(n.clientWidth/(n.width||n.clientWidth)*h),y:m/(n.clientHeight/(n.height||n.clientHeight)*h)}}})()},function(g,P,o){var e={};g.exports=e;var s=o(0),i=o(8);(function(){e.create=function(n){var h={bodies:[],pairs:null};return s.extend(h,n)},e.setBodies=function(n,h){n.bodies=h.slice(0)},e.clear=function(n){n.bodies=[]},e.collisions=function(n){var h=[],l=n.pairs,f=n.bodies,r=f.length,t=e.canCollide,u=i.collides,c,m;for(f.sort(e._compareBoundsX),c=0;c<r;c++){var y=f[c],I=y.bounds,w=y.bounds.max.x,v=y.bounds.max.y,p=y.bounds.min.y,S=y.isStatic||y.isSleeping,x=y.parts.length,C=x===1;for(m=c+1;m<r;m++){var M=f[m],E=M.bounds;if(E.min.x>w)break;if(!(v<E.min.y||p>E.max.y)&&!(S&&(M.isStatic||M.isSleeping))&&!!t(y.collisionFilter,M.collisionFilter)){var k=M.parts.length;if(C&&k===1){var T=u(y,M,l);T&&h.push(T)}else for(var B=x>1?1:0,H=k>1?1:0,L=B;L<x;L++)for(var R=y.parts[L],I=R.bounds,F=H;F<k;F++){var O=M.parts[F],E=O.bounds;if(!(I.min.x>E.max.x||I.max.x<E.min.x||I.max.y<E.min.y||I.min.y>E.max.y)){var T=u(R,O,l);T&&h.push(T)}}}}}return h},e.canCollide=function(n,h){return n.group===h.group&&n.group!==0?n.group>0:(n.mask&h.category)!==0&&(h.mask&n.category)!==0},e._compareBoundsX=function(n,h){return n.bounds.min.x-h.bounds.min.x}})()},function(g,P,o){var e={};g.exports=e;var s=o(0);(function(){e._registry={},e.register=function(i){if(e.isPlugin(i)||s.warn("Plugin.register:",e.toString(i),"does not implement all required fields."),i.name in e._registry){var n=e._registry[i.name],h=e.versionParse(i.version).number,l=e.versionParse(n.version).number;h>l?(s.warn("Plugin.register:",e.toString(n),"was upgraded to",e.toString(i)),e._registry[i.name]=i):h<l?s.warn("Plugin.register:",e.toString(n),"can not be downgraded to",e.toString(i)):i!==n&&s.warn("Plugin.register:",e.toString(i),"is already registered to different plugin object")}else e._registry[i.name]=i;return i},e.resolve=function(i){return e._registry[e.dependencyParse(i).name]},e.toString=function(i){return typeof i=="string"?i:(i.name||"anonymous")+"@"+(i.version||i.range||"0.0.0")},e.isPlugin=function(i){return i&&i.name&&i.version&&i.install},e.isUsed=function(i,n){return i.used.indexOf(n)>-1},e.isFor=function(i,n){var h=i.for&&e.dependencyParse(i.for);return!i.for||n.name===h.name&&e.versionSatisfies(n.version,h.range)},e.use=function(i,n){if(i.uses=(i.uses||[]).concat(n||[]),i.uses.length===0){s.warn("Plugin.use:",e.toString(i),"does not specify any dependencies to install.");return}for(var h=e.dependencies(i),l=s.topologicalSort(h),f=[],r=0;r<l.length;r+=1)if(l[r]!==i.name){var t=e.resolve(l[r]);if(!t){f.push("\u274C "+l[r]);continue}e.isUsed(i,t.name)||(e.isFor(t,i)||(s.warn("Plugin.use:",e.toString(t),"is for",t.for,"but installed on",e.toString(i)+"."),t._warned=!0),t.install?t.install(i):(s.warn("Plugin.use:",e.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(f.push("\u{1F536} "+e.toString(t)),delete t._warned):f.push("\u2705 "+e.toString(t)),i.used.push(t.name))}f.length>0&&s.info(f.join("  "))},e.dependencies=function(i,n){var h=e.dependencyParse(i),l=h.name;if(n=n||{},!(l in n)){i=e.resolve(i)||i,n[l]=s.map(i.uses||[],function(r){e.isPlugin(r)&&e.register(r);var t=e.dependencyParse(r),u=e.resolve(r);return u&&!e.versionSatisfies(u.version,t.range)?(s.warn("Plugin.dependencies:",e.toString(u),"does not satisfy",e.toString(t),"used by",e.toString(h)+"."),u._warned=!0,i._warned=!0):u||(s.warn("Plugin.dependencies:",e.toString(r),"used by",e.toString(h),"could not be resolved."),i._warned=!0),t.name});for(var f=0;f<n[l].length;f+=1)e.dependencies(n[l][f],n);return n}},e.dependencyParse=function(i){if(s.isString(i)){var n=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return n.test(i)||s.warn("Plugin.dependencyParse:",i,"is not a valid dependency string."),{name:i.split("@")[0],range:i.split("@")[1]||"*"}}return{name:i.name,range:i.range||i.version}},e.versionParse=function(i){var n=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;n.test(i)||s.warn("Plugin.versionParse:",i,"is not a valid version or range.");var h=n.exec(i),l=Number(h[4]),f=Number(h[5]),r=Number(h[6]);return{isRange:Boolean(h[1]||h[2]),version:h[3],range:i,operator:h[1]||h[2]||"",major:l,minor:f,patch:r,parts:[l,f,r],prerelease:h[7],number:l*1e8+f*1e4+r}},e.versionSatisfies=function(i,n){n=n||"*";var h=e.versionParse(n),l=e.versionParse(i);if(h.isRange){if(h.operator==="*"||i==="*")return!0;if(h.operator===">")return l.number>h.number;if(h.operator===">=")return l.number>=h.number;if(h.operator==="~")return l.major===h.major&&l.minor===h.minor&&l.patch>=h.patch;if(h.operator==="^")return h.major>0?l.major===h.major&&l.number>=h.number:h.minor>0?l.minor===h.minor&&l.patch>=h.patch:l.patch===h.patch}return i===n||i==="*"}})()},function(g,P,o){var e={};g.exports=e;var s=o(0),i=o(5),n=o(1),h=o(4),l=o(2),f=o(13);(function(){var r,t;typeof window!="undefined"&&(r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(v){window.setTimeout(function(){v(s.now())},1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(v){var p={controller:e,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!v.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},S=s.extend(p,v);return S.canvas&&(S.canvas.width=S.options.width||S.canvas.width,S.canvas.height=S.options.height||S.canvas.height),S.mouse=v.mouse,S.engine=v.engine,S.canvas=S.canvas||m(S.options.width,S.options.height),S.context=S.canvas.getContext("2d"),S.textures={},S.bounds=S.bounds||{min:{x:0,y:0},max:{x:S.canvas.width,y:S.canvas.height}},S.options.showBroadphase=!1,S.options.pixelRatio!==1&&e.setPixelRatio(S,S.options.pixelRatio),s.isElement(S.element)?S.element.appendChild(S.canvas):S.canvas.parentNode||s.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),S},e.run=function(v){(function p(S){v.frameRequestId=r(p),u(v,S),e.world(v,S),(v.options.showStats||v.options.showDebug)&&e.stats(v,v.context,S),(v.options.showPerformance||v.options.showDebug)&&e.performance(v,v.context,S)})()},e.stop=function(v){t(v.frameRequestId)},e.setPixelRatio=function(v,p){var S=v.options,x=v.canvas;p==="auto"&&(p=y(x)),S.pixelRatio=p,x.setAttribute("data-pixel-ratio",p),x.width=S.width*p,x.height=S.height*p,x.style.width=S.width+"px",x.style.height=S.height+"px"},e.lookAt=function(v,p,S,x){x=typeof x!="undefined"?x:!0,p=s.isArray(p)?p:[p],S=S||{x:0,y:0};for(var C={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},M=0;M<p.length;M+=1){var E=p[M],k=E.bounds?E.bounds.min:E.min||E.position||E,T=E.bounds?E.bounds.max:E.max||E.position||E;k&&T&&(k.x<C.min.x&&(C.min.x=k.x),T.x>C.max.x&&(C.max.x=T.x),k.y<C.min.y&&(C.min.y=k.y),T.y>C.max.y&&(C.max.y=T.y))}var B=C.max.x-C.min.x+2*S.x,H=C.max.y-C.min.y+2*S.y,L=v.canvas.height,R=v.canvas.width,F=R/L,O=B/H,V=1,A=1;O>F?A=O/F:V=F/O,v.options.hasBounds=!0,v.bounds.min.x=C.min.x,v.bounds.max.x=C.min.x+B*V,v.bounds.min.y=C.min.y,v.bounds.max.y=C.min.y+H*A,x&&(v.bounds.min.x+=B*.5-B*V*.5,v.bounds.max.x+=B*.5-B*V*.5,v.bounds.min.y+=H*.5-H*A*.5,v.bounds.max.y+=H*.5-H*A*.5),v.bounds.min.x-=S.x,v.bounds.max.x-=S.x,v.bounds.min.y-=S.y,v.bounds.max.y-=S.y,v.mouse&&(f.setScale(v.mouse,{x:(v.bounds.max.x-v.bounds.min.x)/v.canvas.width,y:(v.bounds.max.y-v.bounds.min.y)/v.canvas.height}),f.setOffset(v.mouse,v.bounds.min))},e.startViewTransform=function(v){var p=v.bounds.max.x-v.bounds.min.x,S=v.bounds.max.y-v.bounds.min.y,x=p/v.options.width,C=S/v.options.height;v.context.setTransform(v.options.pixelRatio/x,0,0,v.options.pixelRatio/C,0,0),v.context.translate(-v.bounds.min.x,-v.bounds.min.y)},e.endViewTransform=function(v){v.context.setTransform(v.options.pixelRatio,0,0,v.options.pixelRatio,0,0)},e.world=function(v,p){var S=s.now(),x=v.engine,C=x.world,M=v.canvas,E=v.context,k=v.options,T=v.timing,B=i.allBodies(C),H=i.allConstraints(C),L=k.wireframes?k.wireframeBackground:k.background,R=[],F=[],O,V={timestamp:x.timing.timestamp};if(h.trigger(v,"beforeRender",V),v.currentBackground!==L&&w(v,L),E.globalCompositeOperation="source-in",E.fillStyle="transparent",E.fillRect(0,0,M.width,M.height),E.globalCompositeOperation="source-over",k.hasBounds){for(O=0;O<B.length;O++){var A=B[O];n.overlaps(A.bounds,v.bounds)&&R.push(A)}for(O=0;O<H.length;O++){var q=H[O],$=q.bodyA,j=q.bodyB,ve=q.pointA,se=q.pointB;$&&(ve=l.add($.position,q.pointA)),j&&(se=l.add(j.position,q.pointB)),!(!ve||!se)&&(n.contains(v.bounds,ve)||n.contains(v.bounds,se))&&F.push(q)}e.startViewTransform(v),v.mouse&&(f.setScale(v.mouse,{x:(v.bounds.max.x-v.bounds.min.x)/v.options.width,y:(v.bounds.max.y-v.bounds.min.y)/v.options.height}),f.setOffset(v.mouse,v.bounds.min))}else F=H,R=B,v.options.pixelRatio!==1&&v.context.setTransform(v.options.pixelRatio,0,0,v.options.pixelRatio,0,0);!k.wireframes||x.enableSleeping&&k.showSleeping?e.bodies(v,R,E):(k.showConvexHulls&&e.bodyConvexHulls(v,R,E),e.bodyWireframes(v,R,E)),k.showBounds&&e.bodyBounds(v,R,E),(k.showAxes||k.showAngleIndicator)&&e.bodyAxes(v,R,E),k.showPositions&&e.bodyPositions(v,R,E),k.showVelocity&&e.bodyVelocity(v,R,E),k.showIds&&e.bodyIds(v,R,E),k.showSeparations&&e.separations(v,x.pairs.list,E),k.showCollisions&&e.collisions(v,x.pairs.list,E),k.showVertexNumbers&&e.vertexNumbers(v,R,E),k.showMousePosition&&e.mousePosition(v,v.mouse,E),e.constraints(F,E),k.hasBounds&&e.endViewTransform(v),h.trigger(v,"afterRender",V),T.lastElapsed=s.now()-S},e.stats=function(v,p,S){for(var x=v.engine,C=x.world,M=i.allBodies(C),E=0,k=55,T=44,B=0,H=0,L=0;L<M.length;L+=1)E+=M[L].parts.length;var R={Part:E,Body:M.length,Cons:i.allConstraints(C).length,Comp:i.allComposites(C).length,Pair:x.pairs.list.length};p.fillStyle="#0e0f19",p.fillRect(B,H,k*5.5,T),p.font="12px Arial",p.textBaseline="top",p.textAlign="right";for(var F in R){var O=R[F];p.fillStyle="#aaa",p.fillText(F,B+k,H+8),p.fillStyle="#eee",p.fillText(O,B+k,H+26),B+=k}},e.performance=function(v,p){var S=v.engine,x=v.timing,C=x.deltaHistory,M=x.elapsedHistory,E=x.timestampElapsedHistory,k=x.engineDeltaHistory,T=x.engineElapsedHistory,B=S.timing.lastDelta,H=c(C),L=c(M),R=c(k),F=c(T),O=c(E),V=O/H||0,A=1e3/H||0,q=4,$=12,j=60,ve=34,se=10,re=69;p.fillStyle="#0e0f19",p.fillRect(0,50,$*4+j*5+22,ve),e.status(p,se,re,j,q,C.length,Math.round(A)+" fps",A/e._goodFps,function(ue){return C[ue]/H-1}),e.status(p,se+$+j,re,j,q,k.length,B.toFixed(2)+" dt",e._goodDelta/B,function(ue){return k[ue]/R-1}),e.status(p,se+($+j)*2,re,j,q,T.length,F.toFixed(2)+" ut",1-F/e._goodFps,function(ue){return T[ue]/F-1}),e.status(p,se+($+j)*3,re,j,q,M.length,L.toFixed(2)+" rt",1-L/e._goodFps,function(ue){return M[ue]/L-1}),e.status(p,se+($+j)*4,re,j,q,E.length,V.toFixed(2)+" x",V*V*V,function(ue){return(E[ue]/C[ue]/V||0)-1})},e.status=function(v,p,S,x,C,M,E,k,T){v.strokeStyle="#888",v.fillStyle="#444",v.lineWidth=1,v.fillRect(p,S+7,x,1),v.beginPath(),v.moveTo(p,S+7-C*s.clamp(.4*T(0),-2,2));for(var B=0;B<x;B+=1)v.lineTo(p+B,S+7-(B<M?C*s.clamp(.4*T(B),-2,2):0));v.stroke(),v.fillStyle="hsl("+s.clamp(25+95*k,0,120)+",100%,60%)",v.fillRect(p,S-7,4,4),v.font="12px Arial",v.textBaseline="middle",v.textAlign="right",v.fillStyle="#eee",v.fillText(E,p+x,S-5)},e.constraints=function(v,p){for(var S=p,x=0;x<v.length;x++){var C=v[x];if(!(!C.render.visible||!C.pointA||!C.pointB)){var M=C.bodyA,E=C.bodyB,k,T;if(M?k=l.add(M.position,C.pointA):k=C.pointA,C.render.type==="pin")S.beginPath(),S.arc(k.x,k.y,3,0,2*Math.PI),S.closePath();else{if(E?T=l.add(E.position,C.pointB):T=C.pointB,S.beginPath(),S.moveTo(k.x,k.y),C.render.type==="spring")for(var B=l.sub(T,k),H=l.perp(l.normalise(B)),L=Math.ceil(s.clamp(C.length/5,12,20)),R,F=1;F<L;F+=1)R=F%2===0?1:-1,S.lineTo(k.x+B.x*(F/L)+H.x*R*4,k.y+B.y*(F/L)+H.y*R*4);S.lineTo(T.x,T.y)}C.render.lineWidth&&(S.lineWidth=C.render.lineWidth,S.strokeStyle=C.render.strokeStyle,S.stroke()),C.render.anchors&&(S.fillStyle=C.render.strokeStyle,S.beginPath(),S.arc(k.x,k.y,3,0,2*Math.PI),S.arc(T.x,T.y,3,0,2*Math.PI),S.closePath(),S.fill())}}},e.bodies=function(v,p,S){var x=S;v.engine;var C=v.options,M=C.showInternalEdges||!C.wireframes,E,k,T,B;for(T=0;T<p.length;T++)if(E=p[T],!!E.render.visible){for(B=E.parts.length>1?1:0;B<E.parts.length;B++)if(k=E.parts[B],!!k.render.visible){if(C.showSleeping&&E.isSleeping?x.globalAlpha=.5*k.render.opacity:k.render.opacity!==1&&(x.globalAlpha=k.render.opacity),k.render.sprite&&k.render.sprite.texture&&!C.wireframes){var H=k.render.sprite,L=I(v,H.texture);x.translate(k.position.x,k.position.y),x.rotate(k.angle),x.drawImage(L,L.width*-H.xOffset*H.xScale,L.height*-H.yOffset*H.yScale,L.width*H.xScale,L.height*H.yScale),x.rotate(-k.angle),x.translate(-k.position.x,-k.position.y)}else{if(k.circleRadius)x.beginPath(),x.arc(k.position.x,k.position.y,k.circleRadius,0,2*Math.PI);else{x.beginPath(),x.moveTo(k.vertices[0].x,k.vertices[0].y);for(var R=1;R<k.vertices.length;R++)!k.vertices[R-1].isInternal||M?x.lineTo(k.vertices[R].x,k.vertices[R].y):x.moveTo(k.vertices[R].x,k.vertices[R].y),k.vertices[R].isInternal&&!M&&x.moveTo(k.vertices[(R+1)%k.vertices.length].x,k.vertices[(R+1)%k.vertices.length].y);x.lineTo(k.vertices[0].x,k.vertices[0].y),x.closePath()}C.wireframes?(x.lineWidth=1,x.strokeStyle="#bbb",x.stroke()):(x.fillStyle=k.render.fillStyle,k.render.lineWidth&&(x.lineWidth=k.render.lineWidth,x.strokeStyle=k.render.strokeStyle,x.stroke()),x.fill())}x.globalAlpha=1}}},e.bodyWireframes=function(v,p,S){var x=S,C=v.options.showInternalEdges,M,E,k,T,B;for(x.beginPath(),k=0;k<p.length;k++)if(M=p[k],!!M.render.visible)for(B=M.parts.length>1?1:0;B<M.parts.length;B++){for(E=M.parts[B],x.moveTo(E.vertices[0].x,E.vertices[0].y),T=1;T<E.vertices.length;T++)!E.vertices[T-1].isInternal||C?x.lineTo(E.vertices[T].x,E.vertices[T].y):x.moveTo(E.vertices[T].x,E.vertices[T].y),E.vertices[T].isInternal&&!C&&x.moveTo(E.vertices[(T+1)%E.vertices.length].x,E.vertices[(T+1)%E.vertices.length].y);x.lineTo(E.vertices[0].x,E.vertices[0].y)}x.lineWidth=1,x.strokeStyle="#bbb",x.stroke()},e.bodyConvexHulls=function(v,p,S){var x=S,C,M,E;for(x.beginPath(),M=0;M<p.length;M++)if(C=p[M],!(!C.render.visible||C.parts.length===1)){for(x.moveTo(C.vertices[0].x,C.vertices[0].y),E=1;E<C.vertices.length;E++)x.lineTo(C.vertices[E].x,C.vertices[E].y);x.lineTo(C.vertices[0].x,C.vertices[0].y)}x.lineWidth=1,x.strokeStyle="rgba(255,255,255,0.2)",x.stroke()},e.vertexNumbers=function(v,p,S){var x=S,C,M,E;for(C=0;C<p.length;C++){var k=p[C].parts;for(E=k.length>1?1:0;E<k.length;E++){var T=k[E];for(M=0;M<T.vertices.length;M++)x.fillStyle="rgba(255,255,255,0.2)",x.fillText(C+"_"+M,T.position.x+(T.vertices[M].x-T.position.x)*.8,T.position.y+(T.vertices[M].y-T.position.y)*.8)}}},e.mousePosition=function(v,p,S){var x=S;x.fillStyle="rgba(255,255,255,0.8)",x.fillText(p.position.x+"  "+p.position.y,p.position.x+5,p.position.y-5)},e.bodyBounds=function(v,p,S){var x=S;v.engine;var C=v.options;x.beginPath();for(var M=0;M<p.length;M++){var E=p[M];if(E.render.visible)for(var k=p[M].parts,T=k.length>1?1:0;T<k.length;T++){var B=k[T];x.rect(B.bounds.min.x,B.bounds.min.y,B.bounds.max.x-B.bounds.min.x,B.bounds.max.y-B.bounds.min.y)}}C.wireframes?x.strokeStyle="rgba(255,255,255,0.08)":x.strokeStyle="rgba(0,0,0,0.1)",x.lineWidth=1,x.stroke()},e.bodyAxes=function(v,p,S){var x=S;v.engine;var C=v.options,M,E,k,T;for(x.beginPath(),E=0;E<p.length;E++){var B=p[E],H=B.parts;if(!!B.render.visible)if(C.showAxes)for(k=H.length>1?1:0;k<H.length;k++)for(M=H[k],T=0;T<M.axes.length;T++){var L=M.axes[T];x.moveTo(M.position.x,M.position.y),x.lineTo(M.position.x+L.x*20,M.position.y+L.y*20)}else for(k=H.length>1?1:0;k<H.length;k++)for(M=H[k],T=0;T<M.axes.length;T++)x.moveTo(M.position.x,M.position.y),x.lineTo((M.vertices[0].x+M.vertices[M.vertices.length-1].x)/2,(M.vertices[0].y+M.vertices[M.vertices.length-1].y)/2)}C.wireframes?(x.strokeStyle="indianred",x.lineWidth=1):(x.strokeStyle="rgba(255, 255, 255, 0.4)",x.globalCompositeOperation="overlay",x.lineWidth=2),x.stroke(),x.globalCompositeOperation="source-over"},e.bodyPositions=function(v,p,S){var x=S;v.engine;var C=v.options,M,E,k,T;for(x.beginPath(),k=0;k<p.length;k++)if(M=p[k],!!M.render.visible)for(T=0;T<M.parts.length;T++)E=M.parts[T],x.arc(E.position.x,E.position.y,3,0,2*Math.PI,!1),x.closePath();for(C.wireframes?x.fillStyle="indianred":x.fillStyle="rgba(0,0,0,0.5)",x.fill(),x.beginPath(),k=0;k<p.length;k++)M=p[k],M.render.visible&&(x.arc(M.positionPrev.x,M.positionPrev.y,2,0,2*Math.PI,!1),x.closePath());x.fillStyle="rgba(255,165,0,0.8)",x.fill()},e.bodyVelocity=function(v,p,S){var x=S;x.beginPath();for(var C=0;C<p.length;C++){var M=p[C];!M.render.visible||(x.moveTo(M.position.x,M.position.y),x.lineTo(M.position.x+(M.position.x-M.positionPrev.x)*2,M.position.y+(M.position.y-M.positionPrev.y)*2))}x.lineWidth=3,x.strokeStyle="cornflowerblue",x.stroke()},e.bodyIds=function(v,p,S){var x=S,C,M;for(C=0;C<p.length;C++)if(!!p[C].render.visible){var E=p[C].parts;for(M=E.length>1?1:0;M<E.length;M++){var k=E[M];x.font="12px Arial",x.fillStyle="rgba(255,255,255,0.5)",x.fillText(k.id,k.position.x+10,k.position.y-10)}}},e.collisions=function(v,p,S){var x=S,C=v.options,M,E,k,T;for(x.beginPath(),k=0;k<p.length;k++)if(M=p[k],!!M.isActive)for(E=M.collision,T=0;T<M.activeContacts.length;T++){var B=M.activeContacts[T],H=B.vertex;x.rect(H.x-1.5,H.y-1.5,3.5,3.5)}for(C.wireframes?x.fillStyle="rgba(255,255,255,0.7)":x.fillStyle="orange",x.fill(),x.beginPath(),k=0;k<p.length;k++)if(M=p[k],!!M.isActive&&(E=M.collision,M.activeContacts.length>0)){var L=M.activeContacts[0].vertex.x,R=M.activeContacts[0].vertex.y;M.activeContacts.length===2&&(L=(M.activeContacts[0].vertex.x+M.activeContacts[1].vertex.x)/2,R=(M.activeContacts[0].vertex.y+M.activeContacts[1].vertex.y)/2),E.bodyB===E.supports[0].body||E.bodyA.isStatic===!0?x.moveTo(L-E.normal.x*8,R-E.normal.y*8):x.moveTo(L+E.normal.x*8,R+E.normal.y*8),x.lineTo(L,R)}C.wireframes?x.strokeStyle="rgba(255,165,0,0.7)":x.strokeStyle="orange",x.lineWidth=1,x.stroke()},e.separations=function(v,p,S){var x=S,C=v.options,M,E,k,T,B;for(x.beginPath(),B=0;B<p.length;B++)if(M=p[B],!!M.isActive){E=M.collision,k=E.bodyA,T=E.bodyB;var H=1;!T.isStatic&&!k.isStatic&&(H=.5),T.isStatic&&(H=0),x.moveTo(T.position.x,T.position.y),x.lineTo(T.position.x-E.penetration.x*H,T.position.y-E.penetration.y*H),H=1,!T.isStatic&&!k.isStatic&&(H=.5),k.isStatic&&(H=0),x.moveTo(k.position.x,k.position.y),x.lineTo(k.position.x+E.penetration.x*H,k.position.y+E.penetration.y*H)}C.wireframes?x.strokeStyle="rgba(255,165,0,0.5)":x.strokeStyle="orange",x.stroke()},e.inspector=function(v,p){v.engine;var S=v.selected,x=v.render,C=x.options,M;if(C.hasBounds){var E=x.bounds.max.x-x.bounds.min.x,k=x.bounds.max.y-x.bounds.min.y,T=E/x.options.width,B=k/x.options.height;p.scale(1/T,1/B),p.translate(-x.bounds.min.x,-x.bounds.min.y)}for(var H=0;H<S.length;H++){var L=S[H].data;switch(p.translate(.5,.5),p.lineWidth=1,p.strokeStyle="rgba(255,165,0,0.9)",p.setLineDash([1,2]),L.type){case"body":M=L.bounds,p.beginPath(),p.rect(Math.floor(M.min.x-3),Math.floor(M.min.y-3),Math.floor(M.max.x-M.min.x+6),Math.floor(M.max.y-M.min.y+6)),p.closePath(),p.stroke();break;case"constraint":var R=L.pointA;L.bodyA&&(R=L.pointB),p.beginPath(),p.arc(R.x,R.y,10,0,2*Math.PI),p.closePath(),p.stroke();break}p.setLineDash([]),p.translate(-.5,-.5)}v.selectStart!==null&&(p.translate(.5,.5),p.lineWidth=1,p.strokeStyle="rgba(255,165,0,0.6)",p.fillStyle="rgba(255,165,0,0.1)",M=v.selectBounds,p.beginPath(),p.rect(Math.floor(M.min.x),Math.floor(M.min.y),Math.floor(M.max.x-M.min.x),Math.floor(M.max.y-M.min.y)),p.closePath(),p.stroke(),p.fill(),p.translate(-.5,-.5)),C.hasBounds&&p.setTransform(1,0,0,1,0,0)};var u=function(v,p){var S=v.engine,x=v.timing,C=x.historySize,M=S.timing.timestamp;x.delta=p-x.lastTime||e._goodDelta,x.lastTime=p,x.timestampElapsed=M-x.lastTimestamp||0,x.lastTimestamp=M,x.deltaHistory.unshift(x.delta),x.deltaHistory.length=Math.min(x.deltaHistory.length,C),x.engineDeltaHistory.unshift(S.timing.lastDelta),x.engineDeltaHistory.length=Math.min(x.engineDeltaHistory.length,C),x.timestampElapsedHistory.unshift(x.timestampElapsed),x.timestampElapsedHistory.length=Math.min(x.timestampElapsedHistory.length,C),x.engineElapsedHistory.unshift(S.timing.lastElapsed),x.engineElapsedHistory.length=Math.min(x.engineElapsedHistory.length,C),x.elapsedHistory.unshift(x.lastElapsed),x.elapsedHistory.length=Math.min(x.elapsedHistory.length,C)},c=function(v){for(var p=0,S=0;S<v.length;S+=1)p+=v[S];return p/v.length||0},m=function(v,p){var S=document.createElement("canvas");return S.width=v,S.height=p,S.oncontextmenu=function(){return!1},S.onselectstart=function(){return!1},S},y=function(v){var p=v.getContext("2d"),S=window.devicePixelRatio||1,x=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1;return S/x},I=function(v,p){var S=v.textures[p];return S||(S=v.textures[p]=new Image,S.src=p,S)},w=function(v,p){var S=p;/(jpg|gif|png)$/.test(p)&&(S="url("+p+")"),v.canvas.style.background=S,v.canvas.style.backgroundSize="contain",v.currentBackground=p}})()},function(g,P){var o={};g.exports=o,function(){o.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(g,P,o){var e={};g.exports=e;var s=o(7),i=o(19),n=o(14),h=o(20),l=o(4),f=o(5),r=o(10),t=o(0),u=o(6);(function(){e.create=function(c){c=c||{};var m={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},y=t.extend(m,c);return y.world=c.world||f.create({label:"World"}),y.pairs=c.pairs||h.create(),y.detector=c.detector||n.create(),y.grid={buckets:[]},y.world.gravity=y.gravity,y.broadphase=y.grid,y.metrics={},y},e.update=function(c,m,y){var I=t.now();m=m||1e3/60,y=y||1;var w=c.world,v=c.detector,p=c.pairs,S=c.timing,x=S.timestamp,C;S.timestamp+=m*S.timeScale,S.lastDelta=m*S.timeScale;var M={timestamp:S.timestamp};l.trigger(c,"beforeUpdate",M);var E=f.allBodies(w),k=f.allConstraints(w);for(w.isModified&&n.setBodies(v,E),w.isModified&&f.setModified(w,!1,!1,!0),c.enableSleeping&&s.update(E,S.timeScale),e._bodiesApplyGravity(E,c.gravity),e._bodiesUpdate(E,m,S.timeScale,y,w.bounds),r.preSolveAll(E),C=0;C<c.constraintIterations;C++)r.solveAll(k,S.timeScale);r.postSolveAll(E),v.pairs=c.pairs;var T=n.collisions(v);for(h.update(p,T,x),c.enableSleeping&&s.afterCollisions(p.list,S.timeScale),p.collisionStart.length>0&&l.trigger(c,"collisionStart",{pairs:p.collisionStart}),i.preSolvePosition(p.list),C=0;C<c.positionIterations;C++)i.solvePosition(p.list,S.timeScale);for(i.postSolvePosition(E),r.preSolveAll(E),C=0;C<c.constraintIterations;C++)r.solveAll(k,S.timeScale);for(r.postSolveAll(E),i.preSolveVelocity(p.list),C=0;C<c.velocityIterations;C++)i.solveVelocity(p.list,S.timeScale);return p.collisionActive.length>0&&l.trigger(c,"collisionActive",{pairs:p.collisionActive}),p.collisionEnd.length>0&&l.trigger(c,"collisionEnd",{pairs:p.collisionEnd}),e._bodiesClearForces(E),l.trigger(c,"afterUpdate",M),c.timing.lastElapsed=t.now()-I,c},e.merge=function(c,m){if(t.extend(c,m),m.world){c.world=m.world,e.clear(c);for(var y=f.allBodies(c.world),I=0;I<y.length;I++){var w=y[I];s.set(w,!1),w.id=t.nextId()}}},e.clear=function(c){h.clear(c.pairs),n.clear(c.detector)},e._bodiesClearForces=function(c){for(var m=0;m<c.length;m++){var y=c[m];y.force.x=0,y.force.y=0,y.torque=0}},e._bodiesApplyGravity=function(c,m){var y=typeof m.scale!="undefined"?m.scale:.001;if(!(m.x===0&&m.y===0||y===0))for(var I=0;I<c.length;I++){var w=c[I];w.isStatic||w.isSleeping||(w.force.y+=w.mass*m.y*y,w.force.x+=w.mass*m.x*y)}},e._bodiesUpdate=function(c,m,y,I,w){for(var v=0;v<c.length;v++){var p=c[v];p.isStatic||p.isSleeping||u.update(p,m,y,I)}}})()},function(g,P,o){var e={};g.exports=e;var s=o(3),i=o(1);(function(){e._restingThresh=4,e._restingThreshTangent=6,e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e.preSolvePosition=function(n){var h,l,f,r=n.length;for(h=0;h<r;h++)l=n[h],l.isActive&&(f=l.activeContacts.length,l.collision.parentA.totalContacts+=f,l.collision.parentB.totalContacts+=f)},e.solvePosition=function(n,h){var l,f,r,t,u,c,m,y,I=e._positionDampen,w=n.length;for(l=0;l<w;l++)f=n[l],!(!f.isActive||f.isSensor)&&(r=f.collision,t=r.parentA,u=r.parentB,c=r.normal,f.separation=c.x*(u.positionImpulse.x+r.penetration.x-t.positionImpulse.x)+c.y*(u.positionImpulse.y+r.penetration.y-t.positionImpulse.y));for(l=0;l<w;l++)f=n[l],!(!f.isActive||f.isSensor)&&(r=f.collision,t=r.parentA,u=r.parentB,c=r.normal,y=(f.separation-f.slop)*h,(t.isStatic||u.isStatic)&&(y*=2),t.isStatic||t.isSleeping||(m=I/t.totalContacts,t.positionImpulse.x+=c.x*y*m,t.positionImpulse.y+=c.y*y*m),u.isStatic||u.isSleeping||(m=I/u.totalContacts,u.positionImpulse.x-=c.x*y*m,u.positionImpulse.y-=c.y*y*m))},e.postSolvePosition=function(n){for(var h=e._positionWarming,l=n.length,f=s.translate,r=i.update,t=0;t<l;t++){var u=n[t],c=u.positionImpulse,m=c.x,y=c.y,I=u.velocity;if(u.totalContacts=0,m!==0||y!==0){for(var w=0;w<u.parts.length;w++){var v=u.parts[w];f(v.vertices,c),r(v.bounds,v.vertices,I),v.position.x+=m,v.position.y+=y}u.positionPrev.x+=m,u.positionPrev.y+=y,m*I.x+y*I.y<0?(c.x=0,c.y=0):(c.x*=h,c.y*=h)}}},e.preSolveVelocity=function(n){var h=n.length,l,f;for(l=0;l<h;l++){var r=n[l];if(!(!r.isActive||r.isSensor)){var t=r.activeContacts,u=t.length,c=r.collision,m=c.parentA,y=c.parentB,I=c.normal,w=c.tangent;for(f=0;f<u;f++){var v=t[f],p=v.vertex,S=v.normalImpulse,x=v.tangentImpulse;if(S!==0||x!==0){var C=I.x*S+w.x*x,M=I.y*S+w.y*x;m.isStatic||m.isSleeping||(m.positionPrev.x+=C*m.inverseMass,m.positionPrev.y+=M*m.inverseMass,m.anglePrev+=m.inverseInertia*((p.x-m.position.x)*M-(p.y-m.position.y)*C)),y.isStatic||y.isSleeping||(y.positionPrev.x-=C*y.inverseMass,y.positionPrev.y-=M*y.inverseMass,y.anglePrev-=y.inverseInertia*((p.x-y.position.x)*M-(p.y-y.position.y)*C))}}}}},e.solveVelocity=function(n,h){var l=h*h,f=e._restingThresh*l,r=e._frictionNormalMultiplier,t=e._restingThreshTangent*l,u=Number.MAX_VALUE,c=n.length,m,y,I,w;for(I=0;I<c;I++){var v=n[I];if(!(!v.isActive||v.isSensor)){var p=v.collision,S=p.parentA,x=p.parentB,C=S.velocity,M=x.velocity,E=p.normal.x,k=p.normal.y,T=p.tangent.x,B=p.tangent.y,H=v.activeContacts,L=H.length,R=1/L,F=S.inverseMass+x.inverseMass,O=v.friction*v.frictionStatic*r*l;for(C.x=S.position.x-S.positionPrev.x,C.y=S.position.y-S.positionPrev.y,M.x=x.position.x-x.positionPrev.x,M.y=x.position.y-x.positionPrev.y,S.angularVelocity=S.angle-S.anglePrev,x.angularVelocity=x.angle-x.anglePrev,w=0;w<L;w++){var V=H[w],A=V.vertex,q=A.x-S.position.x,$=A.y-S.position.y,j=A.x-x.position.x,ve=A.y-x.position.y,se=C.x-$*S.angularVelocity,re=C.y+q*S.angularVelocity,ue=M.x-ve*x.angularVelocity,At=M.y+j*x.angularVelocity,it=se-ue,nt=re-At,We=E*it+k*nt,Me=T*it+B*nt,st=v.separation+We,Xe=Math.min(st,1);Xe=st<0?0:Xe;var rt=Xe*O;Me>rt||-Me>rt?(y=Me>0?Me:-Me,m=v.friction*(Me>0?1:-1)*l,m<-y?m=-y:m>y&&(m=y)):(m=Me,y=u);var at=q*k-$*E,lt=j*k-ve*E,ot=R/(F+S.inverseInertia*at*at+x.inverseInertia*lt*lt),be=(1+v.restitution)*We*ot;if(m*=ot,We*We>f&&We<0)V.normalImpulse=0;else{var Bt=V.normalImpulse;V.normalImpulse+=be,V.normalImpulse=Math.min(V.normalImpulse,0),be=V.normalImpulse-Bt}if(Me*Me>t)V.tangentImpulse=0;else{var Ht=V.tangentImpulse;V.tangentImpulse+=m,V.tangentImpulse<-y&&(V.tangentImpulse=-y),V.tangentImpulse>y&&(V.tangentImpulse=y),m=V.tangentImpulse-Ht}var Ge=E*be+T*m,Ne=k*be+B*m;S.isStatic||S.isSleeping||(S.positionPrev.x+=Ge*S.inverseMass,S.positionPrev.y+=Ne*S.inverseMass,S.anglePrev+=(q*Ne-$*Ge)*S.inverseInertia),x.isStatic||x.isSleeping||(x.positionPrev.x-=Ge*x.inverseMass,x.positionPrev.y-=Ne*x.inverseMass,x.anglePrev-=(j*Ne-ve*Ge)*x.inverseInertia)}}}}})()},function(g,P,o){var e={};g.exports=e;var s=o(9),i=o(0);(function(){e.create=function(n){return i.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},n)},e.update=function(n,h,l){var f=n.list,r=f.length,t=n.table,u=h.length,c=n.collisionStart,m=n.collisionEnd,y=n.collisionActive,I,w,v,p;for(c.length=0,m.length=0,y.length=0,p=0;p<r;p++)f[p].confirmedActive=!1;for(p=0;p<u;p++)I=h[p],v=I.pair,v?(v.isActive?y.push(v):c.push(v),s.update(v,I,l),v.confirmedActive=!0):(v=s.create(I,l),t[v.id]=v,c.push(v),f.push(v));var S=[];for(r=f.length,p=0;p<r;p++)v=f[p],v.confirmedActive||(s.setActive(v,!1,l),m.push(v),!v.collision.bodyA.isSleeping&&!v.collision.bodyB.isSleeping&&S.push(p));for(p=0;p<S.length;p++)w=S[p]-p,v=f[w],f.splice(w,1),delete t[v.id]},e.clear=function(n){return n.table={},n.list.length=0,n.collisionStart.length=0,n.collisionActive.length=0,n.collisionEnd.length=0,n}})()},function(g,P,o){var e=g.exports=o(22);e.Axes=o(11),e.Bodies=o(12),e.Body=o(6),e.Bounds=o(1),e.Collision=o(8),e.Common=o(0),e.Composite=o(5),e.Composites=o(23),e.Constraint=o(10),e.Contact=o(17),e.Detector=o(14),e.Engine=o(18),e.Events=o(4),e.Grid=o(24),e.Mouse=o(13),e.MouseConstraint=o(25),e.Pair=o(9),e.Pairs=o(20),e.Plugin=o(15),e.Query=o(26),e.Render=o(16),e.Resolver=o(19),e.Runner=o(27),e.SAT=o(28),e.Sleeping=o(7),e.Svg=o(29),e.Vector=o(2),e.Vertices=o(3),e.World=o(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run \u27A4 use Matter.Runner.run(engine) instead")},function(g,P,o){var e={};g.exports=e;var s=o(15),i=o(0);(function(){e.name="matter-js",e.version="0.18.0",e.uses=[],e.used=[],e.use=function(){s.use(e,Array.prototype.slice.call(arguments))},e.before=function(n,h){return n=n.replace(/^Matter./,""),i.chainPathBefore(e,n,h)},e.after=function(n,h){return n=n.replace(/^Matter./,""),i.chainPathAfter(e,n,h)}})()},function(g,P,o){var e={};g.exports=e;var s=o(5),i=o(10),n=o(0),h=o(6),l=o(12),f=n.deprecated;(function(){e.stack=function(r,t,u,c,m,y,I){for(var w=s.create({label:"Stack"}),v=r,p=t,S,x=0,C=0;C<c;C++){for(var M=0,E=0;E<u;E++){var k=I(v,p,E,C,S,x);if(k){var T=k.bounds.max.y-k.bounds.min.y,B=k.bounds.max.x-k.bounds.min.x;T>M&&(M=T),h.translate(k,{x:B*.5,y:T*.5}),v=k.bounds.max.x+m,s.addBody(w,k),S=k,x+=1}else v+=m}p+=M+y,v=r}return w},e.chain=function(r,t,u,c,m,y){for(var I=r.bodies,w=1;w<I.length;w++){var v=I[w-1],p=I[w],S=v.bounds.max.y-v.bounds.min.y,x=v.bounds.max.x-v.bounds.min.x,C=p.bounds.max.y-p.bounds.min.y,M=p.bounds.max.x-p.bounds.min.x,E={bodyA:v,pointA:{x:x*t,y:S*u},bodyB:p,pointB:{x:M*c,y:C*m}},k=n.extend(E,y);s.addConstraint(r,i.create(k))}return r.label+=" Chain",r},e.mesh=function(r,t,u,c,m){var y=r.bodies,I,w,v,p,S;for(I=0;I<u;I++){for(w=1;w<t;w++)v=y[w-1+I*t],p=y[w+I*t],s.addConstraint(r,i.create(n.extend({bodyA:v,bodyB:p},m)));if(I>0)for(w=0;w<t;w++)v=y[w+(I-1)*t],p=y[w+I*t],s.addConstraint(r,i.create(n.extend({bodyA:v,bodyB:p},m))),c&&w>0&&(S=y[w-1+(I-1)*t],s.addConstraint(r,i.create(n.extend({bodyA:S,bodyB:p},m)))),c&&w<t-1&&(S=y[w+1+(I-1)*t],s.addConstraint(r,i.create(n.extend({bodyA:S,bodyB:p},m))))}return r.label+=" Mesh",r},e.pyramid=function(r,t,u,c,m,y,I){return e.stack(r,t,u,c,m,y,function(w,v,p,S,x,C){var M=Math.min(c,Math.ceil(u/2)),E=x?x.bounds.max.x-x.bounds.min.x:0;if(!(S>M)){S=M-S;var k=S,T=u-1-S;if(!(p<k||p>T)){C===1&&h.translate(x,{x:(p+(u%2===1?1:-1))*E,y:0});var B=x?p*E:0;return I(r+B+p*m,v,p,S,x,C)}}})},e.newtonsCradle=function(r,t,u,c,m){for(var y=s.create({label:"Newtons Cradle"}),I=0;I<u;I++){var w=1.9,v=l.circle(r+I*(c*w),t+m,c,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),p=i.create({pointA:{x:r+I*(c*w),y:t},bodyB:v});s.addBody(y,v),s.addConstraint(y,p)}return y},f(e,"newtonsCradle","Composites.newtonsCradle \u27A4 moved to newtonsCradle example"),e.car=function(r,t,u,c,m){var y=h.nextGroup(!0),I=20,w=-u*.5+I,v=u*.5-I,p=0,S=s.create({label:"Car"}),x=l.rectangle(r,t,u,c,{collisionFilter:{group:y},chamfer:{radius:c*.5},density:2e-4}),C=l.circle(r+w,t+p,m,{collisionFilter:{group:y},friction:.8}),M=l.circle(r+v,t+p,m,{collisionFilter:{group:y},friction:.8}),E=i.create({bodyB:x,pointB:{x:w,y:p},bodyA:C,stiffness:1,length:0}),k=i.create({bodyB:x,pointB:{x:v,y:p},bodyA:M,stiffness:1,length:0});return s.addBody(S,x),s.addBody(S,C),s.addBody(S,M),s.addConstraint(S,E),s.addConstraint(S,k),S},f(e,"car","Composites.car \u27A4 moved to car example"),e.softBody=function(r,t,u,c,m,y,I,w,v,p){v=n.extend({inertia:1/0},v),p=n.extend({stiffness:.2,render:{type:"line",anchors:!1}},p);var S=e.stack(r,t,u,c,m,y,function(x,C){return l.circle(x,C,w,v)});return e.mesh(S,u,c,I,p),S.label="Soft Body",S},f(e,"softBody","Composites.softBody \u27A4 moved to softBody and cloth examples")})()},function(g,P,o){var e={};g.exports=e;var s=o(9),i=o(0),n=i.deprecated;(function(){e.create=function(h){var l={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return i.extend(l,h)},e.update=function(h,l,f,r){var t,u,c,m=f.world,y=h.buckets,I,w,v=!1;for(t=0;t<l.length;t++){var p=l[t];if(!(p.isSleeping&&!r)&&!(m.bounds&&(p.bounds.max.x<m.bounds.min.x||p.bounds.min.x>m.bounds.max.x||p.bounds.max.y<m.bounds.min.y||p.bounds.min.y>m.bounds.max.y))){var S=e._getRegion(h,p);if(!p.region||S.id!==p.region.id||r){(!p.region||r)&&(p.region=S);var x=e._regionUnion(S,p.region);for(u=x.startCol;u<=x.endCol;u++)for(c=x.startRow;c<=x.endRow;c++){w=e._getBucketId(u,c),I=y[w];var C=u>=S.startCol&&u<=S.endCol&&c>=S.startRow&&c<=S.endRow,M=u>=p.region.startCol&&u<=p.region.endCol&&c>=p.region.startRow&&c<=p.region.endRow;!C&&M&&M&&I&&e._bucketRemoveBody(h,I,p),(p.region===S||C&&!M||r)&&(I||(I=e._createBucket(y,w)),e._bucketAddBody(h,I,p))}p.region=S,v=!0}}}v&&(h.pairsList=e._createActivePairsList(h))},n(e,"update","Grid.update \u27A4 replaced by Matter.Detector"),e.clear=function(h){h.buckets={},h.pairs={},h.pairsList=[]},n(e,"clear","Grid.clear \u27A4 replaced by Matter.Detector"),e._regionUnion=function(h,l){var f=Math.min(h.startCol,l.startCol),r=Math.max(h.endCol,l.endCol),t=Math.min(h.startRow,l.startRow),u=Math.max(h.endRow,l.endRow);return e._createRegion(f,r,t,u)},e._getRegion=function(h,l){var f=l.bounds,r=Math.floor(f.min.x/h.bucketWidth),t=Math.floor(f.max.x/h.bucketWidth),u=Math.floor(f.min.y/h.bucketHeight),c=Math.floor(f.max.y/h.bucketHeight);return e._createRegion(r,t,u,c)},e._createRegion=function(h,l,f,r){return{id:h+","+l+","+f+","+r,startCol:h,endCol:l,startRow:f,endRow:r}},e._getBucketId=function(h,l){return"C"+h+"R"+l},e._createBucket=function(h,l){var f=h[l]=[];return f},e._bucketAddBody=function(h,l,f){var r=h.pairs,t=s.id,u=l.length,c;for(c=0;c<u;c++){var m=l[c];if(!(f.id===m.id||f.isStatic&&m.isStatic)){var y=t(f,m),I=r[y];I?I[2]+=1:r[y]=[f,m,1]}}l.push(f)},e._bucketRemoveBody=function(h,l,f){var r=h.pairs,t=s.id,u;l.splice(i.indexOf(l,f),1);var c=l.length;for(u=0;u<c;u++){var m=r[t(f,l[u])];m&&(m[2]-=1)}},e._createActivePairsList=function(h){var l,f=h.pairs,r=i.keys(f),t=r.length,u=[],c;for(c=0;c<t;c++)l=f[r[c]],l[2]>0?u.push(l):delete f[r[c]];return u}})()},function(g,P,o){var e={};g.exports=e;var s=o(3),i=o(7),n=o(13),h=o(4),l=o(14),f=o(10),r=o(5),t=o(0),u=o(1);(function(){e.create=function(c,m){var y=(c?c.mouse:null)||(m?m.mouse:null);y||(c&&c.render&&c.render.canvas?y=n.create(c.render.canvas):m&&m.element?y=n.create(m.element):(y=n.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var I=f.create({label:"Mouse Constraint",pointA:y.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),w={type:"mouseConstraint",mouse:y,element:null,body:null,constraint:I,collisionFilter:{category:1,mask:4294967295,group:0}},v=t.extend(w,m);return h.on(c,"beforeUpdate",function(){var p=r.allBodies(c.world);e.update(v,p),e._triggerEvents(v)}),v},e.update=function(c,m){var y=c.mouse,I=c.constraint,w=c.body;if(y.button===0){if(I.bodyB)i.set(I.bodyB,!1),I.pointA=y.position;else for(var v=0;v<m.length;v++)if(w=m[v],u.contains(w.bounds,y.position)&&l.canCollide(w.collisionFilter,c.collisionFilter))for(var p=w.parts.length>1?1:0;p<w.parts.length;p++){var S=w.parts[p];if(s.contains(S.vertices,y.position)){I.pointA=y.position,I.bodyB=c.body=w,I.pointB={x:y.position.x-w.position.x,y:y.position.y-w.position.y},I.angleB=w.angle,i.set(w,!1),h.trigger(c,"startdrag",{mouse:y,body:w});break}}}else I.bodyB=c.body=null,I.pointB=null,w&&h.trigger(c,"enddrag",{mouse:y,body:w})},e._triggerEvents=function(c){var m=c.mouse,y=m.sourceEvents;y.mousemove&&h.trigger(c,"mousemove",{mouse:m}),y.mousedown&&h.trigger(c,"mousedown",{mouse:m}),y.mouseup&&h.trigger(c,"mouseup",{mouse:m}),n.clearSourceEvents(m)}})()},function(g,P,o){var e={};g.exports=e;var s=o(2),i=o(8),n=o(1),h=o(12),l=o(3);(function(){e.collides=function(f,r){for(var t=[],u=r.length,c=f.bounds,m=i.collides,y=n.overlaps,I=0;I<u;I++){var w=r[I],v=w.parts.length,p=v===1?0:1;if(y(w.bounds,c))for(var S=p;S<v;S++){var x=w.parts[S];if(y(x.bounds,c)){var C=m(x,f);if(C){t.push(C);break}}}}return t},e.ray=function(f,r,t,u){u=u||1e-100;for(var c=s.angle(r,t),m=s.magnitude(s.sub(r,t)),y=(t.x+r.x)*.5,I=(t.y+r.y)*.5,w=h.rectangle(y,I,m,u,{angle:c}),v=e.collides(w,f),p=0;p<v.length;p+=1){var S=v[p];S.body=S.bodyB=S.bodyA}return v},e.region=function(f,r,t){for(var u=[],c=0;c<f.length;c++){var m=f[c],y=n.overlaps(m.bounds,r);(y&&!t||!y&&t)&&u.push(m)}return u},e.point=function(f,r){for(var t=[],u=0;u<f.length;u++){var c=f[u];if(n.contains(c.bounds,r))for(var m=c.parts.length===1?0:1;m<c.parts.length;m++){var y=c.parts[m];if(n.contains(y.bounds,r)&&l.contains(y.vertices,r)){t.push(c);break}}}return t}})()},function(g,P,o){var e={};g.exports=e;var s=o(4),i=o(18),n=o(0);(function(){var h,l;if(typeof window!="undefined"&&(h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,l=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),!h){var f;h=function(r){f=setTimeout(function(){r(n.now())},1e3/60)},l=function(){clearTimeout(f)}}e.create=function(r){var t={fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},u=n.extend(t,r);return u.delta=u.delta||1e3/u.fps,u.deltaMin=u.deltaMin||1e3/u.fps,u.deltaMax=u.deltaMax||1e3/(u.fps*.5),u.fps=1e3/u.delta,u},e.run=function(r,t){return typeof r.positionIterations!="undefined"&&(t=r,r=e.create()),function u(c){r.frameRequestId=h(u),c&&r.enabled&&e.tick(r,t,c)}(),r},e.tick=function(r,t,u){var c=t.timing,m=1,y,I={timestamp:c.timestamp};s.trigger(r,"beforeTick",I),r.isFixed?y=r.delta:(y=u-r.timePrev||r.delta,r.timePrev=u,r.deltaHistory.push(y),r.deltaHistory=r.deltaHistory.slice(-r.deltaSampleSize),y=Math.min.apply(null,r.deltaHistory),y=y<r.deltaMin?r.deltaMin:y,y=y>r.deltaMax?r.deltaMax:y,m=y/r.delta,r.delta=y),r.timeScalePrev!==0&&(m*=c.timeScale/r.timeScalePrev),c.timeScale===0&&(m=0),r.timeScalePrev=c.timeScale,r.correction=m,r.frameCounter+=1,u-r.counterTimestamp>=1e3&&(r.fps=r.frameCounter*((u-r.counterTimestamp)/1e3),r.counterTimestamp=u,r.frameCounter=0),s.trigger(r,"tick",I),s.trigger(r,"beforeUpdate",I),i.update(t,y,m),s.trigger(r,"afterUpdate",I),s.trigger(r,"afterTick",I)},e.stop=function(r){l(r.frameRequestId)},e.start=function(r,t){e.run(r,t)}})()},function(g,P,o){var e={};g.exports=e;var s=o(8),i=o(0),n=i.deprecated;(function(){e.collides=function(h,l){return s.collides(h,l)},n(e,"collides","SAT.collides \u27A4 replaced by Collision.collides")})()},function(g,P,o){var e={};g.exports=e,o(1);var s=o(0);(function(){e.pathToVertices=function(i,n){typeof window!="undefined"&&!("SVGPathSeg"in window)&&s.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var h,l,f,r,t,u,c,m,y,I,w=[],v,p,S=0,x=0,C=0;n=n||15;var M=function(k,T,B){var H=B%2===1&&B>1;if(!y||k!=y.x||T!=y.y){y&&H?(v=y.x,p=y.y):(v=0,p=0);var L={x:v+k,y:p+T};(H||!y)&&(y=L),w.push(L),x=v+k,C=p+T}},E=function(k){var T=k.pathSegTypeAsLetter.toUpperCase();if(T!=="Z"){switch(T){case"M":case"L":case"T":case"C":case"S":case"Q":x=k.x,C=k.y;break;case"H":x=k.x;break;case"V":C=k.y;break}M(x,C,k.pathSegType)}};for(e._svgPathToAbsolute(i),f=i.getTotalLength(),u=[],h=0;h<i.pathSegList.numberOfItems;h+=1)u.push(i.pathSegList.getItem(h));for(c=u.concat();S<f;){if(I=i.getPathSegAtLength(S),t=u[I],t!=m){for(;c.length&&c[0]!=t;)E(c.shift());m=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":r=i.getPointAtLength(S),M(r.x,r.y,0);break}S+=n}for(h=0,l=c.length;h<l;++h)E(c[h]);return w},e._svgPathToAbsolute=function(i){for(var n,h,l,f,r,t,u=i.pathSegList,c=0,m=0,y=u.numberOfItems,I=0;I<y;++I){var w=u.getItem(I),v=w.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(v))"x"in w&&(c=w.x),"y"in w&&(m=w.y);else switch("x1"in w&&(l=c+w.x1),"x2"in w&&(r=c+w.x2),"y1"in w&&(f=m+w.y1),"y2"in w&&(t=m+w.y2),"x"in w&&(c+=w.x),"y"in w&&(m+=w.y),v){case"m":u.replaceItem(i.createSVGPathSegMovetoAbs(c,m),I);break;case"l":u.replaceItem(i.createSVGPathSegLinetoAbs(c,m),I);break;case"h":u.replaceItem(i.createSVGPathSegLinetoHorizontalAbs(c),I);break;case"v":u.replaceItem(i.createSVGPathSegLinetoVerticalAbs(m),I);break;case"c":u.replaceItem(i.createSVGPathSegCurvetoCubicAbs(c,m,l,f,r,t),I);break;case"s":u.replaceItem(i.createSVGPathSegCurvetoCubicSmoothAbs(c,m,r,t),I);break;case"q":u.replaceItem(i.createSVGPathSegCurvetoQuadraticAbs(c,m,l,f),I);break;case"t":u.replaceItem(i.createSVGPathSegCurvetoQuadraticSmoothAbs(c,m),I);break;case"a":u.replaceItem(i.createSVGPathSegArcAbs(c,m,w.r1,w.r2,w.angle,w.largeArcFlag,w.sweepFlag),I);break;case"z":case"Z":c=n,m=h;break}(v=="M"||v=="m")&&(n=c,h=m)}}})()},function(g,P,o){var e={};g.exports=e;var s=o(5);o(0),function(){e.create=s.create,e.add=s.add,e.remove=s.remove,e.clear=s.clear,e.addComposite=s.addComposite,e.addBody=s.addBody,e.addConstraint=s.addConstraint}()}])})})(tt);var N=wt(tt.exports),Tt={exports:{}};/*!
 * matter-attractors 0.1.6 by Liam Brummitt 2017-05-15
 * https://github.com/liabru/matter-attractors
 * License MIT
 */(function(d,a){(function(P,o){d.exports=o(tt.exports)})(Ue,function(g){return function(P){var o={};function e(s){if(o[s])return o[s].exports;var i=o[s]={i:s,l:!1,exports:{}};return P[s].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=P,e.c=o,e.i=function(s){return s},e.d=function(s,i,n){e.o(s,i)||Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return e.d(i,"a",i),i},e.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},e.p="/libs",e(e.s=1)}([function(P,o){P.exports=g},function(P,o,e){var s=e(0),i={name:"matter-attractors",version:"0.1.4",for:"matter-js@^0.12.0",install:function(h){h.after("Body.create",function(){i.Body.init(this)}),h.before("Engine.update",function(l){i.Engine.update(l)})},Body:{init:function(h){h.plugin.attractors=h.plugin.attractors||[]}},Engine:{update:function(h){for(var l=h.world,f=s.Composite.allBodies(l),r=0;r<f.length;r+=1){var t=f[r],u=t.plugin.attractors;if(u&&u.length>0)for(var c=0;c<f.length;c+=1){var m=f[c];if(m.id!==t.id)for(var y=0;y<u.length;y+=1){var I=u[y],w=I;s.Common.isFunction(I)&&(w=I(t,m)),w&&s.Body.applyForce(m,m.position,w)}}}}},Attractors:{gravityConstant:.001,gravity:function(h,l){var f=s.Vector.sub(l.position,h.position),r=s.Vector.magnitudeSquared(f)||1e-4,t=s.Vector.normalise(f),u=-i.Attractors.gravityConstant*(h.mass*l.mass/r),c=s.Vector.mult(t,u);s.Body.applyForce(h,h.position,s.Vector.neg(c)),s.Body.applyForce(l,l.position,c)}}};s.Plugin.register(i),P.exports=i}])})})(Tt);var Li=wt(Tt.exports);N.use(Li);class Di{constructor(a,g,P,o){this.areaWidth=g,this.areaHeight=P,this.thickness=o;const e={isStatic:!0,render:{fillStyle:"transparent"}};this.top=N.Bodies.rectangle(g/2,-o/2,g,o,e),this.right=N.Bodies.rectangle(g+o/2,P/2,o,P,e),this.bottom=N.Bodies.rectangle(g/2,P+o/2,g,o,e),this.left=N.Bodies.rectangle(-o/2,P/2,o,P,e),N.Composite.add(a.world,[this.top,this.right,this.bottom,this.left])}update(a,g){N.Body.setPosition(this.top,{x:a/2,y:this.top.position.y}),N.Body.setPosition(this.right,{x:a+this.thickness/2,y:g/2}),N.Body.setPosition(this.bottom,{x:a/2,y:g+this.thickness/2}),N.Body.setPosition(this.left,{x:this.left.position.x,y:g/2}),N.Body.scale(this.top,a/this.areaWidth,1),N.Body.scale(this.right,1,g/this.areaHeight),N.Body.scale(this.bottom,a/this.areaWidth,1),N.Body.scale(this.left,1,g/this.areaHeight),this.areaWidth=a,this.areaHeight=g}}const Ri=(d,a)=>({x:(d.position.x-a.position.x)*2e-4,y:(d.position.y-a.position.y)*2e-4});class Fi{constructor(a,g){this.body=N.Bodies.circle(g.clientWidth/2,0,1,{isStatic:!0,plugin:{attractors:[Ri]},collisionFilter:{group:-1}}),N.Composite.add(a.world,this.body),this.mouse=N.Mouse.create(g),N.Events.on(a,"afterUpdate",()=>{!this.mouse.position.x||N.Body.translate(this.body,{x:(this.mouse.position.x-this.body.position.x)*.25,y:(this.mouse.position.y-this.body.position.y)*.25})}),this.mouse.element.removeEventListener("mousewheel",this.mouse.mousewheel),this.mouse.element.removeEventListener("DOMMouseScroll",this.mouse.mousewheel)}setAnchor(){this.mouse.position.x=this.mouse.element.clientWidth/2,this.mouse.position.y=0,N.Body.setPosition(this.body,{x:this.mouse.element.clientWidth/2,y:0})}}function Vi(d){let a,g,P=`${d[2]}px`,o=`${d[0]}ms`,e,s,i;const n=d[9].default,h=ae(n,d,d[8],null);return{c(){a=_("ul"),h&&h.c(),this.h()},l(l){a=K(l,"UL",{class:!0});var f=b(a);h&&h.l(f),f.forEach(D),this.h()},h(){W(a,"class","cpeum-1s5e709"),Qe(()=>d[11].call(a)),G(a,"height",P,!1),G(a,"--delay",o,!1)},m(l,f){U(l,a,f),h&&h.m(a,null),d[10](a),g=St(a,d[11].bind(a)),e=!0,s||(i=[we(Ze.call(null,a,{rootMargin:"0% 0px -30%"})),ee(a,"enter",d[5]),ee(a,"leave",d[6]),ee(a,"mouseenter",bi),ee(a,"mouseleave",d[7])],s=!0)},p(l,[f]){h&&h.p&&(!e||f&256)&&le(h,n,l,l[8],e?fe(n,l[8],f,null):oe(l[8]),null),f&4&&P!==(P=`${l[2]}px`)&&G(a,"height",P,!1),f&1&&o!==(o=`${l[0]}ms`)&&G(a,"--delay",o,!1)},i(l){e||(Q(h,l),e=!0)},o(l){X(h,l),e=!1},d(l){l&&D(a),h&&h.d(l),d[10](null),g(),s=!1,De(i)}}}const zi=200,xt=400,Wi=500,Oi=3;function bi(){}function Gi(d,a,g){let P,{$$slots:o={},$$scope:e}=a,{staggerDelay:s=120}=a,i,n,h=500;const l=Oe(!1);me(d,l,S=>g(15,P=S));let f=0,r=[];ke("bodies",{getEngine:()=>t,getIndex:()=>f++,addBodyRef:S=>{r.push(S)},visible:l,staggerDelay:s});const t=N.Engine.create();t.gravity.y=0,t.gravity.scale=0,t.positionIterations=5,t.velocityIterations=3,t.enableSleeping=!0;const u=N.Runner.create(),c=new Di(t,xt,xt,zi);let m;function y(){P?t.enabled=!0:(l.set(!0),N.Runner.run(u,t))}function I(){t.enabled=!1}function w(){m.setAnchor()}$e(()=>{m=new Fi(t,i)}),qe(()=>{N.Runner.stop(u),N.World.clear(t.world,!1),N.Engine.clear(t)});function v(S){et[S?"unshift":"push"](()=>{i=S,g(3,i)})}function p(){n=this.clientWidth,g(1,n)}return d.$$set=S=>{"staggerDelay"in S&&g(0,s=S.staggerDelay),"$$scope"in S&&g(8,e=S.$$scope)},d.$$.update=()=>{d.$$.dirty&6&&n&&(g(2,h=Math.max(Math.ceil((Wi+Oi*r.map(S=>S.area).reduce((S,x)=>S+x,0))/n),400)),c.update(n,h))},[s,n,h,i,l,y,I,w,e,o,v,p]}class mn extends te{constructor(a){super(),ie(this,a,Gi,Vi,ne,{staggerDelay:0})}}function Ni(d){let a,g,P=`rotate(${-1*d[4]}rad)`,o=`${d[2]}px`,e=`${d[0]}px`,s=`${d[1]}px`,i=`-${d[1]*.5}px`,n=`-${d[0]*.5}px`,h=`translate(${d[6]}px, ${d[5]}px) rotate(${d[4]}rad)`,l=`${d[10]*d[8].staggerDelay}ms`,f;const r=d[13].default,t=ae(r,d,d[12],null);return{c(){a=_("li"),g=_("span"),t&&t.c(),this.h()},l(u){a=K(u,"LI",{class:!0});var c=b(a);g=K(c,"SPAN",{});var m=b(g);t&&t.l(m),m.forEach(D),c.forEach(D),this.h()},h(){G(g,"transform",P,!1),W(a,"class","cpeum-38i3u2"),z(a,"hidden",!d[7]),G(a,"border-radius",o,!1),G(a,"width",e,!1),G(a,"height",s,!1),G(a,"top",i,!1),G(a,"left",n,!1),G(a,"transform",h,!1),G(a,"--delay",l,!1)},m(u,c){U(u,a,c),Z(a,g),t&&t.m(g,null),d[14](a),f=!0},p(u,[c]){t&&t.p&&(!f||c&4096)&&le(t,r,u,u[12],f?fe(r,u[12],c,null):oe(u[12]),null),c&16&&P!==(P=`rotate(${-1*u[4]}rad)`)&&G(g,"transform",P,!1),c&128&&z(a,"hidden",!u[7]),c&4&&o!==(o=`${u[2]}px`)&&G(a,"border-radius",o,!1),c&1&&e!==(e=`${u[0]}px`)&&G(a,"width",e,!1),c&2&&s!==(s=`${u[1]}px`)&&G(a,"height",s,!1),c&2&&i!==(i=`-${u[1]*.5}px`)&&G(a,"top",i,!1),c&1&&n!==(n=`-${u[0]*.5}px`)&&G(a,"left",n,!1),c&112&&h!==(h=`translate(${u[6]}px, ${u[5]}px) rotate(${u[4]}rad)`)&&G(a,"transform",h,!1)},i(u){f||(Q(t,u),f=!0)},o(u){X(t,u),f=!1},d(u){u&&D(a),t&&t.d(u),d[14](null)}}}const Ui=150,_i=12;function Ki(d,a,g){let P,{$$slots:o={},$$scope:e}=a,{size:s=void 0}=a,{width:i=void 0}=a,{height:n=void 0}=a,{radius:h=void 0}=a,l,f=(Math.random()-.5)/180,r=0,t=0;const u=pe("bodies"),c=u.visible;me(d,c,v=>g(7,P=v));const m=u.getIndex(),y=u.getEngine();let I;$e(()=>{s||g(11,s=Ui+Math.sqrt(l.textContent.length)*_i),i||g(0,i=s),n||g(1,n=i),h||g(2,h=Math.round(Math.random()*.5*i)),I=N.Bodies.rectangle(N.Common.random(0,l.parentElement.clientWidth),N.Common.random(0,l.parentElement.clientHeight),i,n,{angle:f,friction:.1,frictionStatic:12,density:5e-4,chamfer:{radius:h}}),u.addBodyRef(I),N.Composite.add(y.world,I),N.Events.on(y,"afterUpdate",()=>{g(4,f=I.angle),g(5,r=I.position.y),g(6,t=I.position.x)})});function w(v){et[v?"unshift":"push"](()=>{l=v,g(3,l)})}return d.$$set=v=>{"size"in v&&g(11,s=v.size),"width"in v&&g(0,i=v.width),"height"in v&&g(1,n=v.height),"radius"in v&&g(2,h=v.radius),"$$scope"in v&&g(12,e=v.$$scope)},[i,n,h,l,f,r,t,P,u,c,m,s,e,o,w]}class dn extends te{constructor(a){super(),ie(this,a,Ki,Ni,ne,{size:11,width:0,height:1,radius:2})}}export{mn as B,an as C,vn as E,fn as F,on as I,gn as L,sn as M,cn as P,hn as a,ln as b,dn as c,rn as d,un as e,ai as f};
